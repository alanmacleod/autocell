var _Mathceil=Math.ceil,_Mathmax=Math.max,_Mathmin=Math.min,_Mathatan=Math.atan2,_Mathsin=Math.sin,_Mathcos=Math.cos,_MathPI=Math.PI,_Mathsign=Math.sign,_StringfromCharCode=String.fromCharCode,_Mathabs=Math.abs,_Mathfloor=Math.floor,_Mathround=Math.round,_Mathsqrt=Math.sqrt;(function(T){function E(P){if(S[P])return S[P].exports;var C=S[P]={exports:{},id:P,loaded:!1};return T[P].call(C.exports,C,C.exports,E),C.loaded=!0,C.exports}var S={};return E.m=T,E.c=S,E.p='/',E(0)})([function(T,E,S){'use strict';function P(le){return le&&le.__esModule?le:{default:le}}function C(){ie.render(),window.requestAnimationFrame(C)}var M=S(1),O=P(M),I=S(3),A=P(I),D=S(6),L=P(D),N=S(8),F=P(N),U=S(10),X=P(U),Y=S(11),V=P(Y),K=S(12),Z=P(K),J=S(13),Q=P(J),$=S(15),te=P($),ie=new A.default({size:100,spread:1,process:'vertical',type:L.default,render:'content',scale:8});window.requestAnimationFrame(C),window.setInterval(function(){ie.evolve()},1e3/30)},function(T,E,S){'use strict';function C(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(E,'__esModule',{value:!0});var M=function(){function D(L,N){for(var F=0,U;F<N.length;F++)U=N[F],U.enumerable=U.enumerable||!1,U.configurable=!0,'value'in U&&(U.writable=!0),Object.defineProperty(L,U.key,U)}return function(L,N,F){return N&&D(L.prototype,N),F&&D(L,F),L}}(),O=S(2),I=function(D){return D&&D.__esModule?D:{default:D}}(O),A=function(){function D(L,N,F,U,X){var Y=5<arguments.length&&void 0!==arguments[5]&&arguments[5],V=6<arguments.length&&void 0!==arguments[6]?arguments[6]:null;C(this,D),this.grid=this.array2d(X),this.width=F-L,this.height=U-N,this.numcells=X,this.xcellsize=this.width/X,this.ycellsize=this.height/X,this.prop=V,this.bounds={minx:L,miny:N,maxx:F,maxy:U},this.maxRadius=_Mathsqrt(this.width*this.width+this.height*this.height),this.boundsChecking=Y,this.foundObjects=[]}return M(D,[{key:'add',value:function(N){var F=N;if(this.prop&&(F=N[this.prop]),!F.x||!F.y)throw Error('`item` type needs properties `x` and `y`');var U=this.wrap((F.x-this.mod(F.x,this.xcellsize))/this.xcellsize),X=this.wrap((F.y-this.mod(F.y,this.ycellsize))/this.ycellsize),Y=this.grid[X][U]||[];Y.includes(N)||Y.push(N),this.grid[X][U]=Y}},{key:'move',value:function(N,F,U,X,Y){var V=(F-this.mod(F,this.xcellsize))/this.xcellsize,K=(U-this.mod(U,this.ycellsize))/this.ycellsize,Z=(X-this.mod(X,this.xcellsize))/this.xcellsize,J=(Y-this.mod(Y,this.ycellsize))/this.ycellsize;if(V!=Z||K!=J){this.boundsChecking&&(this.checkBounds(F,U),this.checkBounds(X,Y));var Q;Q=this.grid[K][V],Q.splice(Q.indexOf(N),1),Q=this.grid[this.wrap(J)][this.wrap(Z)],Q.push(N)}}},{key:'checkBounds',value:function(N,F){if(isNaN(N)||isNaN(F))throw Error('Invalid coordinate pair '+N+','+F);if(N<this.bounds.minx||N>this.bounds.maxx)throw Error(N+' out of bounds ['+this.bounds.minx+', '+this.bounds.maxx+']');if(F<this.bounds.miny||F>this.bounds.maxy)throw Error(F+' out of bounds ['+this.bounds.miny+','+this.bounds.maxy+']')}},{key:'mod',value:function(N,F){var U=N%F;return 0>U?U+F:U}},{key:'query',value:function(N,F){F>this.maxRadius&&(F=this.maxRadius);var U=N;this.prop&&(U=N[this.prop]);var X=F*F,Y=(U.x-F-this.mod(U.x-F,this.xcellsize))/this.xcellsize,V=(U.y-F-this.mod(U.y-F,this.ycellsize))/this.ycellsize,K=(U.x+F-this.mod(U.x+F,this.xcellsize))/this.xcellsize,Z=(U.y+F-this.mod(U.y+F,this.ycellsize))/this.ycellsize;0>Y&&(Y=0),K>=this.numcells&&(K=this.numcells-1),0>V&&(V=0),Z>=this.numcells&&(Z=this.numcells-1);for(var J=[],Q=V;Q<=Z;Q++)for(var $=Y,te;$<=K;$++)if(te=this.grid[Q][$],te)for(var re=0,oe;re<te.length;re++)if(oe=te[re],oe!=N){var ne=oe;this.prop&&(ne=oe[this.prop]);var ie=this.distsq(ne.x,ne.y,U.x,U.y);ie<=X&&J.push(oe)}return J}},{key:'querywrap',value:function(N,F,U){U>this.maxRadius&&(U=this.maxRadius);var X=U*U,Y=(N-this.mod(N,this.xcellsize))/this.xcellsize,V=(F-this.mod(F,this.ycellsize))/this.ycellsize,K=(N-U-this.mod(N-U,this.xcellsize))/this.xcellsize,Z=(F-U-this.mod(F-U,this.ycellsize))/this.ycellsize,J=(N+U-this.mod(N+U,this.xcellsize))/this.xcellsize,Q=(F+U-this.mod(F+U,this.ycellsize))/this.ycellsize,$=[];Q-Z>=this.numcells&&(Q=Z+this.numcells-1),J-K>=this.numcells&&(J=K+this.numcells-1);for(var te=Z;te<=Q;te++)for(var re=K;re<=J;re++){var oe=this.wrap(re),ne=this.wrap(te),ie=this.grid[ne][oe];if(ie)for(var le=0;le<ie.length;le++){var se=ie[le],de=se;this.prop&&(de=se[this.prop]);var ue=this.distsq(de.x,de.y,N,F);ue<=X&&$.push(se)}}return $}},{key:'distsq',value:function(N,F,U,X){var Y=U-N,V=X-F;return Y*Y+V*V}},{key:'wrap',value:function(N){return this.mod(N,this.numcells)}},{key:'array2d',value:function(N){for(var F=[],U=0;U<N;U++){F.push([]);for(var X=0;X<N;X++)F[U][X]=[]}return F}},{key:'__array2d',value:function(N,F){for(var U=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,X=[],Y=0,V;Y<F;Y++){V=[];for(var K=0;K<N;K++)V[K]=U;X.push(V)}return X}}]),D}();E.default=A},function(T,E,S){var P,C;(function(M,O){'use strict';P=O,C='function'==typeof P?P.call(E,S,E,T):P,!(C!==void 0&&(T.exports=C))})(this,function(){'use strict';function M(K){return typeof console!=F&&(void 0===function(){}?void 0===function(){}?N:O(console,'log'):O(console,K))}function O(K,Z){var J=K[Z];if('function'==typeof J.bind)return J.bind(K);try{return Function.prototype.bind.call(J,K)}catch(Q){return function(){return Function.prototype.apply.apply(J,[K,arguments])}}}function I(K,Z,J){return function(){typeof console!=F&&(A.call(this,Z,J),this[K].apply(this,arguments))}}function A(K,Z){for(var J=0,Q;J<U.length;J++)Q=U[J],this[Q]=J<K?N:this.methodFactory(Q,K,Z)}function D(K){return M(K)||I.apply(this,arguments)}function L(K,Z,J){function Q(ie){var le=(U[ie]||'silent').toUpperCase();try{return void(window.localStorage[oe]=le)}catch(se){}try{window.document.cookie=encodeURIComponent(oe)+'='+le+';'}catch(se){}}function $(){var ie;try{ie=window.localStorage[oe]}catch(de){}if(typeof ie==F)try{var le=window.document.cookie,se=le.indexOf(encodeURIComponent(oe)+'=');se&&(ie=/^([^;]+)/.exec(le.slice(se))[1])}catch(de){}return void 0===te.levels[ie]&&(ie=void 0),ie}var te=this,oe='loglevel',re;K&&(oe+=':'+K),te.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},te.methodFactory=J||D,te.getLevel=function(){return re},te.setLevel=function(ie,le){if('string'==typeof ie&&void 0!==te.levels[ie.toUpperCase()]&&(ie=te.levels[ie.toUpperCase()]),!('number'==typeof ie&&0<=ie&&ie<=te.levels.SILENT))throw'log.setLevel() called with invalid level: '+ie;else if(re=ie,!1!==le&&Q(ie),A.call(te,ie,K),typeof console==F&&ie<te.levels.SILENT)return'No console available for logging'},te.setDefaultLevel=function(ie){$()||te.setLevel(ie,!1)},te.enableAll=function(ie){te.setLevel(te.levels.TRACE,ie)},te.disableAll=function(ie){te.setLevel(te.levels.SILENT,ie)};var ne=$();null==ne&&(ne=null==Z?'WARN':Z),te.setLevel(ne,!1)}var N=function(){},F='undefined',U=['trace','debug','info','warn','error'],X=new L,Y={};X.getLogger=function(Z){if('string'!=typeof Z||''===Z)throw new TypeError('You must supply a name when creating a logger.');var J=Y[Z];return J||(J=Y[Z]=new L(Z,X.getLevel(),X.methodFactory)),J};var V=typeof window==F?void 0:window.log;return X.noConflict=function(){return typeof window!=F&&window.log===X&&(window.log=V),X},X})},function(T,E,S){'use strict';function C(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(E,'__esModule',{value:!0});var M=function(){function D(L,N){for(var F=0,U;F<N.length;F++)U=N[F],U.enumerable=U.enumerable||!1,U.configurable=!0,'value'in U&&(U.writable=!0),Object.defineProperty(L,U.key,U)}return function(L,N,F){return N&&D(L.prototype,N),F&&D(L,F),L}}(),O=S(4),I=function(D){return D&&D.__esModule?D:{default:D}}(O),A=function(){function D(L){C(this,D),this.size=L.size,this.data=null,this.ptype={},this.ptype.vertical=this.vertical,this.ptype.swirl=this.swirl,this.renderer=new I.default(L.render),this.renderer.scale=L.scale,this.evolve=this.ptype[L.process],this.init(L.type,L.spread)}return M(D,[{key:'init',value:function(N,F){this.data=this.array2d(this.size);for(var X=0;X<this.size;X++)for(var Y=0;Y<this.size;Y++)N.test?Math.random()<=F&&(this.data[X][Y]=new N(N.test(Y,X,this.size,this.size))):Math.random()<=F&&(this.data[X][Y]=new N)}},{key:'render',value:function(){this.renderer.render(this.data)}},{key:'neighbourhood',value:function(N,F,U){for(var X=U||1,Y=2*X+1,V=N-X,K=F-X,Z=this.array2d(Y),J=[],Q=0;Q<Y;Q++){V=N-X;for(var $=0;$<Y;$++)Z[Q][$]=this.data[this.wrap(K)][this.wrap(V)],J.push(this.data[this.wrap(K)][this.wrap(V)]),V++;K++}return{cells:Z,linear:J,radius:X,subject:this.data[F][N]}}},{key:'wrap',value:function(N){return 0>N?N+this.size:N>this.size-1?N-this.size:N}},{key:'array2d',value:function(N){for(var F=[];F.length<N;F.push([]));return F}},{key:'swirl',value:function(){var N=this.array2d(this.size),F=this.size*this.size+2*this.size,U=_Mathround(this.size/2),X=_Mathround(this.size/2),Y=1,V=1,K=0,Z=1;do{for(var J=0;J<Z&&(this.data[X][U]&&(N[X][U]=this.data[X][U].mutate(this.neighbourhood(U,X))),U+=Y,K++,!(0>U||U>this.size-1));J++);Y=-Y;for(var Q=0;Q<Z&&(this.data[X][U]&&(N[X][U]=this.data[X][U].mutate(this.neighbourhood(U,X))),X+=V,K++,!(0>X||X>this.size-1));Q++);V=-V,Z+=1}while(K<F);this.data=N}},{key:'vertical',value:function(){var N=this.array2d(this.size);this.prepare();for(var F=0;F<this.size;F++)for(var U=0;U<this.size;U++)this.data[F][U]&&(N[F][U]=this.data[F][U].mutate(this.neighbourhood(U,F)));this.data=N}},{key:'prepare',value:function(){for(var F=0;F<this.size;F++)for(var U=0;U<this.size;U++)this.data[F][U]&&this.data[F][U].prepare()}}]),D}();E.default=A},function(T,E,S){'use strict';function C(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(E,'__esModule',{value:!0});var M=function(){function D(L,N){for(var F=0,U;F<N.length;F++)U=N[F],U.enumerable=U.enumerable||!1,U.configurable=!0,'value'in U&&(U.writable=!0),Object.defineProperty(L,U.key,U)}return function(L,N,F){return N&&D(L.prototype,N),F&&D(L,F),L}}(),O=S(5),I=function(D){return D&&D.__esModule?D:{default:D}}(O),A=function(){function D(L){C(this,D),this.canvas2d=new I.default(L),this.scale=1,this.size=1}return M(D,[{key:'resize',value:function(N,F){this.canvas2d.resize(N,F),this.canvas2d.clear()}},{key:'render',value:function(N){N.length!=this.size&&(this.size=N.length,this.resize(this.size*this.scale,this.size*this.scale));for(var F=0;F<this.size;F++)for(var U=0;U<this.size;U++)if(N[F][U]){var X=N[F][U].shader();this.canvas2d.block(U*this.scale,F*this.scale,this.scale,this.scale,X)}}}]),D}();E.default=A},function(T,E){'use strict';function S(M,O){if(!(M instanceof O))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(E,'__esModule',{value:!0});var P=function(){function M(O,I){for(var A=0,D;A<I.length;A++)D=I[A],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(O,D.key,D)}return function(O,I,A){return I&&M(O.prototype,I),A&&M(O,A),O}}(),C=function(){function M(O){S(this,M),this.parent='string'==typeof O?document.getElementById(O):O,this.element=document.createElement('canvas'),this.parent.appendChild(this.element),this.context=this.element.getContext('2d'),this.clear()}return P(M,[{key:'block',value:function(I,A,D,L,N){var F=this.context;F.beginPath(),F.rect(I,A,D,L),F.fillStyle=N?'rgb('+N[0]+','+N[1]+','+N[2]+')':'black',F.fill()}},{key:'selfblit',value:function(I,A,D,L,N,F,U,X){this.context.drawImage(this.context.canvas,I,A,D,L,N,F,U,X)}},{key:'clear',value:function(I){var A=this.context;A.beginPath(),A.rect(0,0,this.element.width,this.element.height),A.fillStyle=I?'rgb('+I[0]+','+I[1]+','+I[2]+')':'white',A.fill()}},{key:'width',value:function(){return this.element.width}},{key:'height',value:function(){return this.element.height}},{key:'fitwindow',value:function(){this.resize(this.parent.clientWidth,this.parent.clientHeight)}},{key:'resize',value:function(I,A){this.element.width=I,this.element.height=A}}]),M}();E.default=C},function(T,E,S){'use strict';function C(X,Y){if(!(X instanceof Y))throw new TypeError('Cannot call a class as a function')}function M(X,Y){if(!X)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Y&&('object'==typeof Y||'function'==typeof Y)?Y:X}function O(X,Y){if('function'!=typeof Y&&null!==Y)throw new TypeError('Super expression must either be null or a function, not '+typeof Y);X.prototype=Object.create(Y&&Y.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(X,Y):X.__proto__=Y)}Object.defineProperty(E,'__esModule',{value:!0});var I=function(){function X(Y,V){for(var K=0,Z;K<V.length;K++)Z=V[K],Z.enumerable=Z.enumerable||!1,Z.configurable=!0,'value'in Z&&(Z.writable=!0),Object.defineProperty(Y,Z.key,Z)}return function(Y,V,K){return V&&X(Y.prototype,V),K&&X(Y,K),Y}}(),A=S(7),D=function(X){return X&&X.__esModule?X:{default:X}}(A),L=1,N=0,F=[[255,255,255],[0,0,0]],U=function(X){function Y(){C(this,Y);var V=M(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this));return V.alive=_Mathround(Math.random()),V}return O(Y,X),I(Y,[{key:'shader',value:function(){return F[this.alive]}},{key:'evaluate',value:function(){return this.alive?1:0}},{key:'value',value:function(K){return void 0===K?this.alive?1:0:void(this.alive=0==K?N:L)}},{key:'mutate',value:function(K){var Z=this.numLiveNeighbours(K),J=new Y,Q=N;return Q=K.subject.alive&&2>Z?N:K.subject.alive&&3<Z?N:K.subject.alive||3!=Z?K.subject.value():L,J.value(Q),J}}]),Y}(D.default);E.default=U},function(T,E){'use strict';function S(M,O){if(!(M instanceof O))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(E,'__esModule',{value:!0});var P=function(){function M(O,I){for(var A=0,D;A<I.length;A++)D=I[A],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(O,D.key,D)}return function(O,I,A){return I&&M(O.prototype,I),A&&M(O,A),O}}(),C=function(){function M(){S(this,M)}return P(M,[{key:'prepare',value:function(){}},{key:'mutate',value:function(){}},{key:'shader',value:function(){}},{key:'value',value:function(){}},{key:'numLiveNeighbours',value:function(I){for(var A=0,D=0;D<I.cells.length;D++)for(var L=0;L<I.cells[D].length;L++)I.cells[D][L]&&0<I.cells[D][L].value()&&A++;return A-(0<I.subject.value()?1:0)}},{key:'numNeighboursWithValue',value:function(I,A){for(var D=0,L=0;L<I.linear.length;L++)I.linear[L]&&I.linear[L].value()==A&&D++;return D}},{key:'averageValueNeighbours',value:function(I){for(var A=0,D=0;D<I.linear.length;D++)I.linear[D]&&(A+=I.linear[D].value());return A-=I.subject.value(),A/(I.linear.length-1)}}]),M}();E.default=C},function(T,E,S){'use strict';function P($){return $&&$.__esModule?$:{default:$}}function C($,te){if(!($ instanceof te))throw new TypeError('Cannot call a class as a function')}function M($,te){if(!$)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return te&&('object'==typeof te||'function'==typeof te)?te:$}function O($,te){if('function'!=typeof te&&null!==te)throw new TypeError('Super expression must either be null or a function, not '+typeof te);$.prototype=Object.create(te&&te.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf($,te):$.__proto__=te)}Object.defineProperty(E,'__esModule',{value:!0});var I=function(){function $(te,re){for(var oe=0,ne;oe<re.length;oe++)ne=re[oe],ne.enumerable=ne.enumerable||!1,ne.configurable=!0,'value'in ne&&(ne.writable=!0),Object.defineProperty(te,ne.key,ne)}return function(te,re,oe){return re&&$(te.prototype,re),oe&&$(te,oe),te}}(),A=S(7),D=P(A),L=S(9),N=P(L),F=32,V=[[255,0,0,1],[255,96,0,1],[255,191,0,1],[223,255,0,1],[128,255,0,1],[32,255,0,1],[0,255,64,1],[0,255,159,1],[0,255,255,1],[0,159,255,1],[0,64,255,1],[32,0,255,1],[127,0,255,1],[223,0,255,1],[255,0,191,1],[255,0,96,1]],K=V.map(function($){return $[0]}),Z=V.map(function($){return $[1]}),J=V.map(function($){return $[2]}),Q=function($){function te(){C(this,te);var re=M(this,(te.__proto__||Object.getPrototypeOf(te)).call(this));return re.state=_Mathfloor(Math.random()*F),re}return O(te,$),I(te,[{key:'shader',value:function(){var oe=this.value()/F;return[255&N.default.ilinerp(K,oe),255&N.default.ilinerp(Z,oe),255&N.default.ilinerp(J,oe)]}},{key:'value',value:function(oe){return void 0==oe?this.state:void(this.state=oe)}},{key:'mutate',value:function(oe){for(var ne=(this.value()+1+_Mathfloor(3*Math.random()))%F,ie=!1,le=0;le<oe.linear.length;le++)oe.linear[le]&&(ie=ie||oe.linear[le].value()===ne);if(!ie){var se=this.averageValueNeighbours(oe);1==_Mathabs(this.value()-se)&&this.value(se)}return ie&&this.value(ne),this}}]),te}(D.default);E.default=Q},function(T,E){'use strict';function S(M,O){if(!(M instanceof O))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(E,'__esModule',{value:!0});var P=function(){function M(O,I){for(var A=0,D;A<I.length;A++)D=I[A],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(O,D.key,D)}return function(O,I,A){return I&&M(O.prototype,I),A&&M(O,A),O}}(),C=function(){function M(){S(this,M)}return P(M,[{key:'ilinerp',value:function(I,A){if(1<=A)return I[I.length-1];if(0>A)return I[0];var D=A*(I.length-1),L=_Mathfloor(D),F=D-L,U=I[L]*(1-F)+I[L+1]*F;return _Mathround(U)}}]),M}();E.default=new C},function(T,E,S){'use strict';function P(X){return X&&X.__esModule?X:{default:X}}function C(X,Y){if(!(X instanceof Y))throw new TypeError('Cannot call a class as a function')}function M(X,Y){if(!X)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Y&&('object'==typeof Y||'function'==typeof Y)?Y:X}function O(X,Y){if('function'!=typeof Y&&null!==Y)throw new TypeError('Super expression must either be null or a function, not '+typeof Y);X.prototype=Object.create(Y&&Y.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(X,Y):X.__proto__=Y)}Object.defineProperty(E,'__esModule',{value:!0});var I=function(){function X(Y,V){for(var K=0,Z;K<V.length;K++)Z=V[K],Z.enumerable=Z.enumerable||!1,Z.configurable=!0,'value'in Z&&(Z.writable=!0),Object.defineProperty(Y,Z.key,Z)}return function(Y,V,K){return V&&X(Y.prototype,V),K&&X(Y,K),Y}}(),A=S(7),D=P(A),L=S(9),N=P(L),F=[[255,255,255],[0,0,0]],U=function(X){function Y(){C(this,Y);var V=M(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this));return V.open=0.4<Math.random(),V}return O(Y,X),I(Y,[{key:'prepare',value:function(){this.wasOpen=this.open}},{key:'shader',value:function(){return F[this.value()]}},{key:'value',value:function(){return this.wasOpen?1:0}},{key:'mutate',value:function(K){var Z=this.numLiveNeighbours(K);return this.open=this.wasOpen&&4<=Z||6<=Z,this}}]),Y}(D.default);E.default=U},function(T,E,S){'use strict';function P($){return $&&$.__esModule?$:{default:$}}function C($,te){if(!($ instanceof te))throw new TypeError('Cannot call a class as a function')}function M($,te){if(!$)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return te&&('object'==typeof te||'function'==typeof te)?te:$}function O($,te){if('function'!=typeof te&&null!==te)throw new TypeError('Super expression must either be null or a function, not '+typeof te);$.prototype=Object.create(te&&te.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf($,te):$.__proto__=te)}Object.defineProperty(E,'__esModule',{value:!0});var I=function(){function $(te,re){for(var oe=0,ne;oe<re.length;oe++)ne=re[oe],ne.enumerable=ne.enumerable||!1,ne.configurable=!0,'value'in ne&&(ne.writable=!0),Object.defineProperty(te,ne.key,ne)}return function(te,re,oe){return re&&$(te.prototype,re),oe&&$(te,oe),te}}(),A=S(7),D=P(A),L=S(9),N=P(L),F=32,V=[[0,0,0,1],[255,0,0,0],[255,96,0,1],[255,191,0,1],[223,255,0,1],[128,255,0,1],[32,255,0,1],[0,255,64,1],[0,255,159,1],[0,255,255,1],[0,159,255,1],[0,64,255,1],[32,0,255,1],[127,0,255,1],[223,0,255,1],[255,0,191,1],[255,0,96,1]],K=V.map(function($){return $[0]}),Z=V.map(function($){return $[1]}),J=V.map(function($){return $[2]}),Q=function($){function te(){C(this,te);var re=M(this,(te.__proto__||Object.getPrototypeOf(te)).call(this));return re.state=_Mathfloor(Math.random()*F),re}return O(te,$),I(te,[{key:'prepare',value:function(){}},{key:'shader',value:function(){var oe=this.state/F;return[255&N.default.ilinerp(K,oe),255&N.default.ilinerp(Z,oe),255&N.default.ilinerp(J,oe)]}},{key:'value',value:function(oe){return void 0==oe?this.state:void(0>oe&&(oe+=F),this.state=_Mathround(oe))}},{key:'mutate',value:function(oe){var ne=this.averageValueNeighbours(oe);return this.value(ne),0.01>Math.random()&&this.value(0),this}}]),te}(D.default);E.default=Q},function(T,E,S){'use strict';function P(V){return V&&V.__esModule?V:{default:V}}function C(V,K){if(!(V instanceof K))throw new TypeError('Cannot call a class as a function')}function M(V,K){if(!V)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return K&&('object'==typeof K||'function'==typeof K)?K:V}function O(V,K){if('function'!=typeof K&&null!==K)throw new TypeError('Super expression must either be null or a function, not '+typeof K);V.prototype=Object.create(K&&K.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(V,K):V.__proto__=K)}Object.defineProperty(E,'__esModule',{value:!0});var I=function(){function V(K,Z){for(var J=0,Q;J<Z.length;J++)Q=Z[J],Q.enumerable=Q.enumerable||!1,Q.configurable=!0,'value'in Q&&(Q.writable=!0),Object.defineProperty(K,Q.key,Q)}return function(K,Z,J){return Z&&V(K.prototype,Z),J&&V(K,J),K}}(),A=S(7),D=P(A),L=S(9),N=P(L),F=16,X=[0,255],Y=function(V){function K(Z){C(this,K);var J=M(this,(K.__proto__||Object.getPrototypeOf(K)).call(this));return J.snowing=!1,J.value(0),Z&&J.startSnowing(),J}return O(K,V),I(K,[{key:'prepare',value:function(){}},{key:'startSnowing',value:function(){this.snowing=!0,this.value(0.6<Math.random()?F:0)}},{key:'shader',value:function(){var J=N.default.ilinerp(X,this.value()/F);return[J,J,J]}},{key:'value',value:function(J){return void 0==J?this.state:void(this.state=J)}},{key:'mutate',value:function(J){return this.snowing&&(this.value(this.value()-_Mathround(3*Math.random())),8>this.value()&&(J.cells[2][1].snowing=!0,J.cells[2][1].value(this.value()+4),this.value(F))),this}}]),K}(D.default);Y.test=function(V,K){return 0==K},E.default=Y},function(T,E,S){'use strict';function C(X,Y){if(!(X instanceof Y))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(E,'__esModule',{value:!0});var M=function(){function X(Y,V){for(var K=0,Z;K<V.length;K++)Z=V[K],Z.enumerable=Z.enumerable||!1,Z.configurable=!0,'value'in Z&&(Z.writable=!0),Object.defineProperty(Y,Z.key,Z)}return function(Y,V,K){return V&&X(Y.prototype,V),K&&X(Y,K),Y}}(),O=S(14),I=function(X){return X&&X.__esModule?X:{default:X}}(O),L=0.6,U=function(){function X(Y,V){C(this,X),this.bounds=V;var K=(128+_Mathfloor(127*Math.random())).toString(16);this.shade='0x'+K+K+K,this.maxVelocity=2+Math.random(),this.maxSteer=0.1,this.velocity=new I.default(2*Math.random()-1,2*Math.random()-1),this.accelerate=new I.default,this.position=new I.default(Math.random()*this.bounds.x,Math.random()*this.bounds.y),this.prepare(),this.DEBUG_STOP_DOING_STUFF=!1}return M(X,[{key:'shader',value:function(){return this.shade}},{key:'mutate',value:function(V){this.DEBUG_STOP_DOING_STUFF||(this.flock(V.neighbours),this.interact(V),this.fuzzy(),this.move())}},{key:'flock',value:function(V){this.accelerate=this.accelerate.add(this.alignment(V)).add(this.cohesion(V)).add(this.separation(V))}},{key:'interact',value:function(){}},{key:'fuzzy',value:function(){1e-3>Math.random()&&this.accelerate.tmul(this.maxVelocity)}},{key:'move',value:function(){Math.random()>0.8&&this.bound(),this.velocity.tadd(this.accelerate);var V=this.velocity.mag();V>this.maxVelocity&&this.velocity.tdiv(V/this.maxVelocity),this.position.tadd(this.velocity),this.bound2(),this.accelerate.tmul(0),this.dirty=!0}},{key:'bound',value:function(){var V=10,K=this.avoid(new I.default(0,this.position.y)),Z=this.avoid(new I.default(this.bounds.x,this.position.y)),J=this.avoid(new I.default(this.position.x,0)),Q=this.avoid(new I.default(this.position.x,this.bounds.y));K.tmul(V),Z.tmul(V),J.tmul(V),Q.tmul(V),this.accelerate.tadd(K.add(Z).add(J).add(Q))}},{key:'seek',value:function(V){var K=this.position.dist(V);return K>75?new I.default:V.sub(this.position).norm().mul(0.1)}},{key:'avoid',value:function(V){return this.position.sub(V).mul(1/this.position.distsq(V))}},{key:'flee',value:function(V){if(!V)return new I.default;var K=this.position.dist(V);if(K>50)return new I.default;var Z=this.position.sub(V);return Z.mul(0.4/K)}},{key:'alignment',value:function(V){var K=new I.default;if(0==V.length)return K;var Z=0,J=!0,Q=!1,$;try{for(var te=V[Symbol.iterator](),re,oe;!(J=(re=te.next()).done);J=!0)oe=re.value,Math.random()>L||(K.tadd(oe.velocity),Z++)}catch(ie){Q=!0,$=ie}finally{try{!J&&te.return&&te.return()}finally{if(Q)throw $}}if(0==Z)return K;K.tdiv(Z);var ne=K.mag();return ne>this.maxSteer&&K.tdiv(ne/this.maxSteer),K}},{key:'cohesion',value:function(V){var K=new I.default;if(0==V.length)return K;var Z=0,J=!0,Q=!1,$;try{for(var te=V[Symbol.iterator](),re,oe;!(J=(re=te.next()).done);J=!0)oe=re.value,Math.random()>L||(K.tadd(oe.position),Z++)}catch(le){Q=!0,$=le}finally{try{!J&&te.return&&te.return()}finally{if(Q)throw $}}if(0==Z)return K;K.tdiv(Z);var ne=K.sub(this.position),ie=ne.mag();return ie>this.maxSteer&&ne.tdiv(ie/this.maxSteer),ne}},{key:'separation',value:function(V){var K=new I.default;if(0==V.length)return K;var Z=!0,J=!1,Q;try{for(var $=V[Symbol.iterator](),te,re;!(Z=(te=$.next()).done);Z=!0)if(re=te.value,!(Math.random()>L)){var oe=re.position.dist(this.position);if(0!=oe){var ne=this.position.sub(re.position);ne.tnorm(),ne.tdiv(oe),K.tadd(ne)}}}catch(ie){J=!0,Q=ie}finally{try{!Z&&$.return&&$.return()}finally{if(J)throw Q}}return K}},{key:'bound2',value:function(){this.position.x=this.wrap(this.position.x,this.bounds.x),this.position.y=this.wrap(this.position.y,this.bounds.y)}},{key:'wrap',value:function(V,K){return 0>V?V+K:V>K?V-K:V}},{key:'prepare',value:function(){}}]),X}();E.default=U},function(T,E){'use strict';function S(M,O){if(!(M instanceof O))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(E,'__esModule',{value:!0});var P=function(){function M(O,I){for(var A=0,D;A<I.length;A++)D=I[A],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(O,D.key,D)}return function(O,I,A){return I&&M(O.prototype,I),A&&M(O,A),O}}(),C=function(){function M(){var O=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,I=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;S(this,M),this.x=O,this.y=I}return P(M,[{key:'set',value:function(I,A){var D=[I,A];return this.x=D[0],this.y=D[1],this}},{key:'sub',value:function(I){return new M(this.x-I.x,this.y-I.y)}},{key:'add',value:function(I){return new M(I.x+this.x,I.y+this.y)}},{key:'mul',value:function(I){return new M(this.x*I,this.y*I)}},{key:'div',value:function(I){return new M(this.x/I,this.y/I)}},{key:'tsub',value:function(I){this.x-=I.x,this.y-=I.y}},{key:'tadd',value:function(I){this.x+=I.x,this.y+=I.y}},{key:'tmul',value:function(I){this.x*=I,this.y*=I}},{key:'tdiv',value:function(I){this.x/=I,this.y/=I}},{key:'tnorm',value:function(){var I=this.mag();return I?this.tdiv(I):this}},{key:'norm',value:function(){var I=this.mag();return I?this.div(I):new M(this.x,this.y)}},{key:'mag',value:function(){return _Mathsqrt(this.x*this.x+this.y*this.y)}},{key:'dist',value:function(I){var A=I.x-this.x,D=I.y-this.y;return _Mathsqrt(A*A+D*D)}},{key:'distsq',value:function(I){var A=I.x-this.x,D=I.y-this.y;return A*A+D*D}}]),M}();E.default=C},function(T,E,S){'use strict';function P(U){return U&&U.__esModule?U:{default:U}}function C(U,X){if(!(U instanceof X))throw new TypeError('Cannot call a class as a function')}Object.defineProperty(E,'__esModule',{value:!0});var M=function(){function U(X,Y){for(var V=0,K;V<Y.length;V++)K=Y[V],K.enumerable=K.enumerable||!1,K.configurable=!0,'value'in K&&(K.writable=!0),Object.defineProperty(X,K.key,K)}return function(X,Y,V){return Y&&U(X.prototype,Y),V&&U(X,V),X}}(),O=S(14),I=P(O),A=S(1),D=P(A),L=S(16),F=function(){function U(X){var Y=this;C(this,U),this.size=X.size,this.data=null,this.scale=X.scale||1,this.grid=new D.default(0,0,this.size,this.size,10,!1,'position'),this.element=document.getElementById(X.render),this.renderer=L.autoDetectRenderer(this.size*this.scale,this.size*this.scale),this.stage=new L.Container,this.element.appendChild(this.renderer.view),this.mouse=new I.default(0,0),this.element.onmousemove=function(V){Y.mouse.set(V.clientX,V.clientY)},this.init(X.type,X.spread)}return M(U,[{key:'init',value:function(Y,V){this.data=[],this.graphics=[];for(var K=0,Z=100,J=0;J<this.size;J++){for(var Q=0;Q<this.size;Q++){if(Math.random()<V){var $=new Y(new I.default(Q,J),new I.default(this.size-1,this.size-1));this.data.push($),this.grid.add($);var te=new L.Graphics;te.beginFill($.shader()),te.drawRect(0,0,this.scale,this.scale),te.endFill(),te.x=$.position.x*this.scale,te.y=$.position.y*this.scale,this.graphics.push(te),this.stage.addChild(te),K++}if(K==Z)break}if(K==Z)break}}},{key:'render',value:function(){this.renderer.render(this.stage)}},{key:'wrap',value:function(Y){return 0>Y?Y+this.size:Y>this.size-1?Y-this.size:Y}},{key:'array2d',value:function(Y){for(var V=[];V.length<Y;V.push([]));return V}},{key:'evolve',value:function(){this.prepare();for(var Y={centroid:this.centroid(),number:this.data.length,mouse:this.mouse.div(this.scale),all:this.data},V=0,K=this.data.length;V<K;V++){Y.neighbours=this.grid.query(this.data[V],50);var Z=this.data[V].position.x,J=this.data[V].position.y;this.data[V].mutate(Y),this.grid.move(this.data[V],Z,J,this.data[V].position.x,this.data[V].position.y),this.data[V].dirty&&(this.graphics[V].x=_Mathround(this.data[V].position.x*this.scale),this.graphics[V].y=_Mathround(this.data[V].position.y*this.scale))}}},{key:'neighbourhoodBruteForce',value:function(Y,V){for(var Z=[],J=this.data[Y].position,Q=0,$=this.data.length;Q<$;Q++)if(Q!=Y){var te=this.data[Q].position.distsq(J);te<=V*V&&Z.push(this.data[Q])}return Z}},{key:'centroid',value:function(){for(var Y=0,V=0,K=0,Z=this.data.length;K<Z;K++)Y+=this.data[K].position.x,V+=this.data[K].position.y;return new I.default(Y/this.data.length,V/this.data.length)}},{key:'prepare',value:function(){for(var Y=0,V=this.data.length;Y<V;Y++)this.data[Y].prepare()}}]),U}();E.default=F},function(T,E,S){(function(P){'use strict';function C(de){if(de&&de.__esModule)return de;var ue={};if(null!=de)for(var pe in de)Object.prototype.hasOwnProperty.call(de,pe)&&(ue[pe]=de[pe]);return ue.default=de,ue}E.__esModule=!0,E.loader=E.prepare=E.particles=E.mesh=E.loaders=E.interaction=E.filters=E.extras=E.extract=E.accessibility=void 0;var O=S(17);Object.keys(O).forEach(function(de){'default'===de||'__esModule'===de||Object.defineProperty(E,de,{enumerable:!0,get:function(){return O[de]}})});var I=S(22);Object.keys(I).forEach(function(de){'default'===de||'__esModule'===de||Object.defineProperty(E,de,{enumerable:!0,get:function(){return I[de]}})});var A=S(138),D=function(de){return de&&de.__esModule?de:{default:de}}(A),L=S(139),N=C(L),F=S(142),U=C(F),X=S(145),Y=C(X),V=S(154),K=C(V),Z=S(166),J=C(Z),Q=S(172),$=C(Q),te=S(185),re=C(te),oe=S(192),ne=C(oe),ie=S(197),le=C(ie);I.utils.mixins.performMixins();var se=$.shared||null;E.accessibility=N,E.extract=U,E.extras=Y,E.filters=K,E.interaction=J,E.loaders=$,E.mesh=re,E.particles=ne,E.prepare=le,E.loader=se,'function'==typeof D.default&&(0,D.default)(E),P.PIXI=E}).call(E,function(){return this}())},function(T,E,S){'use strict';S(18),S(20),S(21),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(T,E,S){'use strict';var C=S(19),M=function(O){return O&&O.__esModule?O:{default:O}}(C);Object.assign||(Object.assign=M.default)},function(T){'use strict';function S(I){if(null===I||I===void 0)throw new TypeError('Object.assign cannot be called with null or undefined');return Object(I)}var C=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;T.exports=function(){try{if(!Object.assign)return!1;var I=new String('abc');if(I[5]='de','5'===Object.getOwnPropertyNames(I)[0])return!1;for(var A={},D=0;10>D;D++)A['_'+_StringfromCharCode(D)]=D;var L=Object.getOwnPropertyNames(A).map(function(F){return A[F]});if('0123456789'!==L.join(''))return!1;var N={};return'abcdefghijklmnopqrst'.split('').forEach(function(F){N[F]=F}),'abcdefghijklmnopqrst'===Object.keys(Object.assign({},N)).join('')}catch(F){return!1}}()?Object.assign:function(I){for(var L=S(I),F=1,D,N;F<arguments.length;F++){for(var U in D=Object(arguments[F]),D)M.call(D,U)&&(L[U]=D[U]);if(C){N=C(D);for(var X=0;X<N.length;X++)O.call(D,N[X])&&(L[N[X]]=D[N[X]])}}return L}},function(T,E){(function(S){'use strict';if(Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()}),!(S.performance&&S.performance.now)){var C=Date.now();S.performance||(S.performance={}),S.performance.now=function(){return Date.now()-C}}for(var M=Date.now(),O=['ms','moz','webkit','o'],I=0,A;I<O.length&&!S.requestAnimationFrame;++I)A=O[I],S.requestAnimationFrame=S[A+'RequestAnimationFrame'],S.cancelAnimationFrame=S[A+'CancelAnimationFrame']||S[A+'CancelRequestAnimationFrame'];S.requestAnimationFrame||(S.requestAnimationFrame=function(D){if('function'!=typeof D)throw new TypeError(D+'is not a function');var L=Date.now(),N=16+M-L;return 0>N&&(N=0),M=L,setTimeout(function(){M=Date.now(),D(performance.now())},N)}),S.cancelAnimationFrame||(S.cancelAnimationFrame=function(D){return clearTimeout(D)})}).call(E,function(){return this}())},function(){'use strict';_Mathsign||(_Mathsign=function(P){return P=+P,0===P||isNaN(P)?P:0<P?1:-1})},function(T,E,S){'use strict';function P(Le){if(Le&&Le.__esModule)return Le;var Ne={};if(null!=Le)for(var Fe in Le)Object.prototype.hasOwnProperty.call(Le,Fe)&&(Ne[Fe]=Le[Fe]);return Ne.default=Le,Ne}function C(Le){return Le&&Le.__esModule?Le:{default:Le}}E.__esModule=!0,E.autoDetectRenderer=E.Application=E.Filter=E.SpriteMaskFilter=E.Quad=E.RenderTarget=E.ObjectRenderer=E.WebGLManager=E.Shader=E.CanvasRenderTarget=E.TextureUvs=E.VideoBaseTexture=E.BaseRenderTexture=E.RenderTexture=E.BaseTexture=E.Texture=E.Spritesheet=E.CanvasGraphicsRenderer=E.GraphicsRenderer=E.GraphicsData=E.Graphics=E.TextMetrics=E.TextStyle=E.Text=E.SpriteRenderer=E.CanvasTinter=E.CanvasSpriteRenderer=E.Sprite=E.TransformBase=E.TransformStatic=E.Transform=E.Container=E.DisplayObject=E.Bounds=E.glCore=E.WebGLRenderer=E.CanvasRenderer=E.ticker=E.utils=E.settings=void 0;var M=S(23);Object.keys(M).forEach(function(Le){'default'===Le||'__esModule'===Le||Object.defineProperty(E,Le,{enumerable:!0,get:function(){return M[Le]}})});var O=S(24);Object.keys(O).forEach(function(Le){'default'===Le||'__esModule'===Le||Object.defineProperty(E,Le,{enumerable:!0,get:function(){return O[Le]}})});var I=S(34);Object.defineProperty(E,'glCore',{enumerable:!0,get:function(){return C(I).default}});var A=S(51);Object.defineProperty(E,'Bounds',{enumerable:!0,get:function(){return C(A).default}});var D=S(52);Object.defineProperty(E,'DisplayObject',{enumerable:!0,get:function(){return C(D).default}});var L=S(61);Object.defineProperty(E,'Container',{enumerable:!0,get:function(){return C(L).default}});var N=S(60);Object.defineProperty(E,'Transform',{enumerable:!0,get:function(){return C(N).default}});var F=S(58);Object.defineProperty(E,'TransformStatic',{enumerable:!0,get:function(){return C(F).default}});var U=S(59);Object.defineProperty(E,'TransformBase',{enumerable:!0,get:function(){return C(U).default}});var X=S(65);Object.defineProperty(E,'Sprite',{enumerable:!0,get:function(){return C(X).default}});var Y=S(82);Object.defineProperty(E,'CanvasSpriteRenderer',{enumerable:!0,get:function(){return C(Y).default}});var V=S(91);Object.defineProperty(E,'CanvasTinter',{enumerable:!0,get:function(){return C(V).default}});var K=S(92);Object.defineProperty(E,'SpriteRenderer',{enumerable:!0,get:function(){return C(K).default}});var Z=S(118);Object.defineProperty(E,'Text',{enumerable:!0,get:function(){return C(Z).default}});var J=S(119);Object.defineProperty(E,'TextStyle',{enumerable:!0,get:function(){return C(J).default}});var Q=S(120);Object.defineProperty(E,'TextMetrics',{enumerable:!0,get:function(){return C(Q).default}});var $=S(122);Object.defineProperty(E,'Graphics',{enumerable:!0,get:function(){return C($).default}});var te=S(123);Object.defineProperty(E,'GraphicsData',{enumerable:!0,get:function(){return C(te).default}});var re=S(125);Object.defineProperty(E,'GraphicsRenderer',{enumerable:!0,get:function(){return C(re).default}});var oe=S(134);Object.defineProperty(E,'CanvasGraphicsRenderer',{enumerable:!0,get:function(){return C(oe).default}});var ne=S(135);Object.defineProperty(E,'Spritesheet',{enumerable:!0,get:function(){return C(ne).default}});var ie=S(66);Object.defineProperty(E,'Texture',{enumerable:!0,get:function(){return C(ie).default}});var le=S(67);Object.defineProperty(E,'BaseTexture',{enumerable:!0,get:function(){return C(le).default}});var se=S(85);Object.defineProperty(E,'RenderTexture',{enumerable:!0,get:function(){return C(se).default}});var de=S(86);Object.defineProperty(E,'BaseRenderTexture',{enumerable:!0,get:function(){return C(de).default}});var ue=S(77);Object.defineProperty(E,'VideoBaseTexture',{enumerable:!0,get:function(){return C(ue).default}});var pe=S(81);Object.defineProperty(E,'TextureUvs',{enumerable:!0,get:function(){return C(pe).default}});var ce=S(88);Object.defineProperty(E,'CanvasRenderTarget',{enumerable:!0,get:function(){return C(ce).default}});var fe=S(107);Object.defineProperty(E,'Shader',{enumerable:!0,get:function(){return C(fe).default}});var he=S(94);Object.defineProperty(E,'WebGLManager',{enumerable:!0,get:function(){return C(he).default}});var ge=S(93);Object.defineProperty(E,'ObjectRenderer',{enumerable:!0,get:function(){return C(ge).default}});var _e=S(104);Object.defineProperty(E,'RenderTarget',{enumerable:!0,get:function(){return C(_e).default}});var be=S(105);Object.defineProperty(E,'Quad',{enumerable:!0,get:function(){return C(be).default}});var ve=S(97);Object.defineProperty(E,'SpriteMaskFilter',{enumerable:!0,get:function(){return C(ve).default}});var Te=S(98);Object.defineProperty(E,'Filter',{enumerable:!0,get:function(){return C(Te).default}});var Ee=S(136);Object.defineProperty(E,'Application',{enumerable:!0,get:function(){return C(Ee).default}});var Se=S(137);Object.defineProperty(E,'autoDetectRenderer',{enumerable:!0,get:function(){return Se.autoDetectRenderer}});var Pe=S(62),Ce=P(Pe),Me=S(78),Oe=P(Me),Ie=S(54),Re=C(Ie),Ae=S(83),we=C(Ae),De=S(95),ke=C(De);E.settings=Re.default,E.utils=Ce,E.ticker=Oe,E.CanvasRenderer=we.default,E.WebGLRenderer=ke.default},function(T,E){'use strict';E.__esModule=!0;var S=E.VERSION='4.5.1',P=E.PI_2=2*_MathPI,C=E.RAD_TO_DEG=180/_MathPI,M=E.DEG_TO_RAD=_MathPI/180,O=E.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},I=E.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},A=E.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},D=E.SCALE_MODES={LINEAR:0,NEAREST:1},L=E.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},N=E.GC_MODES={AUTO:0,MANUAL:1},F=E.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,U=E.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,X=E.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,Y=E.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},V=E.PRECISION={LOW:'lowp',MEDIUM:'mediump',HIGH:'highp'},K=E.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},Z=E.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},J=E.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(T,E,S){'use strict';function P(U){return U&&U.__esModule?U:{default:U}}E.__esModule=!0;var C=S(25);Object.defineProperty(E,'Point',{enumerable:!0,get:function(){return P(C).default}});var M=S(26);Object.defineProperty(E,'ObservablePoint',{enumerable:!0,get:function(){return P(M).default}});var O=S(27);Object.defineProperty(E,'Matrix',{enumerable:!0,get:function(){return P(O).default}});var I=S(28);Object.defineProperty(E,'GroupD8',{enumerable:!0,get:function(){return P(I).default}});var A=S(29);Object.defineProperty(E,'Circle',{enumerable:!0,get:function(){return P(A).default}});var D=S(31);Object.defineProperty(E,'Ellipse',{enumerable:!0,get:function(){return P(D).default}});var L=S(32);Object.defineProperty(E,'Polygon',{enumerable:!0,get:function(){return P(L).default}});var N=S(30);Object.defineProperty(E,'Rectangle',{enumerable:!0,get:function(){return P(N).default}});var F=S(33);Object.defineProperty(E,'RoundedRectangle',{enumerable:!0,get:function(){return P(F).default}})},function(T,E){'use strict';function S(C,M){if(!(C instanceof M))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var P=function(){function C(){var M=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,O=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;S(this,C),this.x=M,this.y=O}return C.prototype.clone=function(){return new C(this.x,this.y)},C.prototype.copy=function(O){this.set(O.x,O.y)},C.prototype.equals=function(O){return O.x===this.x&&O.y===this.y},C.prototype.set=function(O,I){this.x=O||0,this.y=I||(0===I?0:this.x)},C}();E.default=P},function(T,E){'use strict';function S(M,O){if(!(M instanceof O))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var P=function(){function M(O,I){for(var A=0,D;A<I.length;A++)D=I[A],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(O,D.key,D)}return function(O,I,A){return I&&M(O.prototype,I),A&&M(O,A),O}}(),C=function(){function M(O,I){var A=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,D=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;S(this,M),this._x=A,this._y=D,this.cb=O,this.scope=I}return M.prototype.set=function(I,A){var D=I||0,L=A||(0===A?0:D);(this._x!==D||this._y!==L)&&(this._x=D,this._y=L,this.cb.call(this.scope))},M.prototype.copy=function(I){(this._x!==I.x||this._y!==I.y)&&(this._x=I.x,this._y=I.y,this.cb.call(this.scope))},P(M,[{key:'x',get:function(){return this._x},set:function(I){this._x!==I&&(this._x=I,this.cb.call(this.scope))}},{key:'y',get:function(){return this._y},set:function(I){this._y!==I&&(this._y=I,this.cb.call(this.scope))}}]),M}();E.default=C},function(T,E,S){'use strict';function C(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=function(){function D(L,N){for(var F=0,U;F<N.length;F++)U=N[F],U.enumerable=U.enumerable||!1,U.configurable=!0,'value'in U&&(U.writable=!0),Object.defineProperty(L,U.key,U)}return function(L,N,F){return N&&D(L.prototype,N),F&&D(L,F),L}}(),O=S(25),I=function(D){return D&&D.__esModule?D:{default:D}}(O),A=function(){function D(){var L=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,N=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,F=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,U=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,X=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,Y=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;C(this,D),this.a=L,this.b=N,this.c=F,this.d=U,this.tx=X,this.ty=Y,this.array=null}return D.prototype.fromArray=function(N){this.a=N[0],this.b=N[1],this.c=N[3],this.d=N[4],this.tx=N[2],this.ty=N[5]},D.prototype.set=function(N,F,U,X,Y,V){return this.a=N,this.b=F,this.c=U,this.d=X,this.tx=Y,this.ty=V,this},D.prototype.toArray=function(N,F){this.array||(this.array=new Float32Array(9));var U=F||this.array;return N?(U[0]=this.a,U[1]=this.b,U[2]=0,U[3]=this.c,U[4]=this.d,U[5]=0,U[6]=this.tx,U[7]=this.ty,U[8]=1):(U[0]=this.a,U[1]=this.c,U[2]=this.tx,U[3]=this.b,U[4]=this.d,U[5]=this.ty,U[6]=0,U[7]=0,U[8]=1),U},D.prototype.apply=function(N,F){F=F||new I.default;var U=N.x,X=N.y;return F.x=this.a*U+this.c*X+this.tx,F.y=this.b*U+this.d*X+this.ty,F},D.prototype.applyInverse=function(N,F){F=F||new I.default;var U=1/(this.a*this.d+this.c*-this.b),X=N.x,Y=N.y;return F.x=this.d*U*X+-this.c*U*Y+(this.ty*this.c-this.tx*this.d)*U,F.y=this.a*U*Y+-this.b*U*X+(-this.ty*this.a+this.tx*this.b)*U,F},D.prototype.translate=function(N,F){return this.tx+=N,this.ty+=F,this},D.prototype.scale=function(N,F){return this.a*=N,this.d*=F,this.c*=N,this.b*=F,this.tx*=N,this.ty*=F,this},D.prototype.rotate=function(N){var F=_Mathcos(N),U=_Mathsin(N),X=this.a,Y=this.c,V=this.tx;return this.a=X*F-this.b*U,this.b=X*U+this.b*F,this.c=Y*F-this.d*U,this.d=Y*U+this.d*F,this.tx=V*F-this.ty*U,this.ty=V*U+this.ty*F,this},D.prototype.append=function(N){var F=this.a,U=this.b,X=this.c,Y=this.d;return this.a=N.a*F+N.b*X,this.b=N.a*U+N.b*Y,this.c=N.c*F+N.d*X,this.d=N.c*U+N.d*Y,this.tx=N.tx*F+N.ty*X+this.tx,this.ty=N.tx*U+N.ty*Y+this.ty,this},D.prototype.setTransform=function(N,F,U,X,Y,V,K,Z,J){var Q=_Mathsin(K),$=_Mathcos(K),te=_Mathcos(J),re=_Mathsin(J),oe=-_Mathsin(Z),ne=_Mathcos(Z),ie=$*Y,le=Q*Y,se=-Q*V,de=$*V;return this.a=te*ie+re*se,this.b=te*le+re*de,this.c=oe*ie+ne*se,this.d=oe*le+ne*de,this.tx=N+(U*ie+X*se),this.ty=F+(U*le+X*de),this},D.prototype.prepend=function(N){var F=this.tx;if(1!==N.a||0!==N.b||0!==N.c||1!==N.d){var U=this.a,X=this.c;this.a=U*N.a+this.b*N.c,this.b=U*N.b+this.b*N.d,this.c=X*N.a+this.d*N.c,this.d=X*N.b+this.d*N.d}return this.tx=F*N.a+this.ty*N.c+N.tx,this.ty=F*N.b+this.ty*N.d+N.ty,this},D.prototype.decompose=function(N){var F=this.a,U=this.b,X=this.c,Y=this.d,V=-_Mathatan(-X,Y),K=_Mathatan(U,F),Z=_Mathabs(V+K);return 1e-5>Z?(N.rotation=K,0>F&&0<=Y&&(N.rotation+=0>=N.rotation?_MathPI:-_MathPI),N.skew.x=N.skew.y=0):(N.skew.x=V,N.skew.y=K),N.scale.x=_Mathsqrt(F*F+U*U),N.scale.y=_Mathsqrt(X*X+Y*Y),N.position.x=this.tx,N.position.y=this.ty,N},D.prototype.invert=function(){var N=this.a,F=this.b,U=this.c,X=this.d,Y=this.tx,V=N*X-F*U;return this.a=X/V,this.b=-F/V,this.c=-U/V,this.d=N/V,this.tx=(U*this.ty-X*Y)/V,this.ty=-(N*this.ty-F*Y)/V,this},D.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},D.prototype.clone=function(){var N=new D;return N.a=this.a,N.b=this.b,N.c=this.c,N.d=this.d,N.tx=this.tx,N.ty=this.ty,N},D.prototype.copy=function(N){return N.a=this.a,N.b=this.b,N.c=this.c,N.d=this.d,N.tx=this.tx,N.ty=this.ty,N},M(D,null,[{key:'IDENTITY',get:function(){return new D}},{key:'TEMP_MATRIX',get:function(){return new D}}]),D}();E.default=A},function(T,E,S){'use strict';function C(Y){return 0>Y?-1:0<Y?1:0}E.__esModule=!0;var O=S(27),I=function(Y){return Y&&Y.__esModule?Y:{default:Y}}(O),A=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],D=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],L=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],N=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],F=[],U=[];(function(){for(var Y=0,V;16>Y;Y++){V=[],U.push(V);for(var K=0;16>K;K++)for(var Z=C(A[Y]*A[K]+L[Y]*D[K]),J=C(D[Y]*A[K]+N[Y]*D[K]),Q=C(A[Y]*L[K]+L[Y]*N[K]),$=C(D[Y]*L[K]+N[Y]*N[K]),te=0;16>te;te++)if(A[te]===Z&&D[te]===J&&L[te]===Q&&N[te]===$){V.push(te);break}}for(var re=0,oe;16>re;re++)oe=new I.default,oe.set(A[re],D[re],L[re],N[re],0,0),F.push(oe)})();var X={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(V){return A[V]},uY:function(V){return D[V]},vX:function(V){return L[V]},vY:function(V){return N[V]},inv:function(V){return 8&V?15&V:7&-V},add:function(V,K){return U[V][K]},sub:function(V,K){return U[V][X.inv(K)]},rotate180:function(V){return 4^V},isSwapWidthHeight:function(V){return 2==(3&V)},byDirection:function(V,K){if(2*_Mathabs(V)<=_Mathabs(K))return 0<=K?X.S:X.N;return 2*_Mathabs(K)<=_Mathabs(V)?0<V?X.E:X.W:0<K?0<V?X.SE:X.SW:0<V?X.NE:X.NW},matrixAppendRotationInv:function(V,K){var Z=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,J=3<arguments.length&&arguments[3]!==void 0?arguments[3]:0,Q=F[X.inv(K)];Q.tx=Z,Q.ty=J,V.append(Q)}};E.default=X},function(T,E,S){'use strict';function C(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(30),O=function(D){return D&&D.__esModule?D:{default:D}}(M),I=S(23),A=function(){function D(){var L=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,N=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,F=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;C(this,D),this.x=L,this.y=N,this.radius=F,this.type=I.SHAPES.CIRC}return D.prototype.clone=function(){return new D(this.x,this.y,this.radius)},D.prototype.contains=function(N,F){if(0>=this.radius)return!1;var U=this.radius*this.radius,X=this.x-N,Y=this.y-F;return X*=X,Y*=Y,X+Y<=U},D.prototype.getBounds=function(){return new O.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},D}();E.default=A},function(T,E,S){'use strict';function P(I,A){if(!(I instanceof A))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=function(){function I(A,D){for(var L=0,N;L<D.length;L++)N=D[L],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}return function(A,D,L){return D&&I(A.prototype,D),L&&I(A,L),A}}(),M=S(23),O=function(){function I(){var A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,L=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,N=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;P(this,I),this.x=A,this.y=D,this.width=L,this.height=N,this.type=M.SHAPES.RECT}return I.prototype.clone=function(){return new I(this.x,this.y,this.width,this.height)},I.prototype.copy=function(D){return this.x=D.x,this.y=D.y,this.width=D.width,this.height=D.height,this},I.prototype.contains=function(D,L){return 0>=this.width||0>=this.height?!1:D>=this.x&&D<this.x+this.width&&L>=this.y&&L<this.y+this.height},I.prototype.pad=function(D,L){D=D||0,L=L||(0===L?0:D),this.x-=D,this.y-=L,this.width+=2*D,this.height+=2*L},I.prototype.fit=function(D){this.x<D.x&&(this.width+=this.x,0>this.width&&(this.width=0),this.x=D.x),this.y<D.y&&(this.height+=this.y,0>this.height&&(this.height=0),this.y=D.y),this.x+this.width>D.x+D.width&&(this.width=D.width-this.x,0>this.width&&(this.width=0)),this.y+this.height>D.y+D.height&&(this.height=D.height-this.y,0>this.height&&(this.height=0))},I.prototype.enlarge=function(D){var L=_Mathmin(this.x,D.x),N=_Mathmax(this.x+this.width,D.x+D.width),F=_Mathmin(this.y,D.y),U=_Mathmax(this.y+this.height,D.y+D.height);this.x=L,this.width=N-L,this.y=F,this.height=U-F},C(I,[{key:'left',get:function(){return this.x}},{key:'right',get:function(){return this.x+this.width}},{key:'top',get:function(){return this.y}},{key:'bottom',get:function(){return this.y+this.height}}],[{key:'EMPTY',get:function(){return new I(0,0,0,0)}}]),I}();E.default=O},function(T,E,S){'use strict';function C(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(30),O=function(D){return D&&D.__esModule?D:{default:D}}(M),I=S(23),A=function(){function D(){var L=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,N=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,F=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,U=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;C(this,D),this.x=L,this.y=N,this.width=F,this.height=U,this.type=I.SHAPES.ELIP}return D.prototype.clone=function(){return new D(this.x,this.y,this.width,this.height)},D.prototype.contains=function(N,F){if(0>=this.width||0>=this.height)return!1;var U=(N-this.x)/this.width,X=(F-this.y)/this.height;return U*=U,X*=X,1>=U+X},D.prototype.getBounds=function(){return new O.default(this.x-this.width,this.y-this.height,this.width,this.height)},D}();E.default=A},function(T,E,S){'use strict';function C(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(25),O=function(D){return D&&D.__esModule?D:{default:D}}(M),I=S(23),A=function(){function D(){for(var L=arguments.length,N=Array(L),F=0;F<L;F++)N[F]=arguments[F];if(C(this,D),Array.isArray(N[0])&&(N=N[0]),N[0]instanceof O.default){for(var U=[],X=0,Y=N.length;X<Y;X++)U.push(N[X].x,N[X].y);N=U}this.closed=!0,this.points=N,this.type=I.SHAPES.POLY}return D.prototype.clone=function(){return new D(this.points.slice())},D.prototype.close=function(){var N=this.points;(N[0]!==N[N.length-2]||N[1]!==N[N.length-1])&&N.push(N[0],N[1])},D.prototype.contains=function(N,F){for(var U=!1,X=this.points.length/2,Y=0,V=X-1;Y<X;V=Y++){var K=this.points[2*Y],Z=this.points[2*Y+1],J=this.points[2*V],Q=this.points[2*V+1];Z>F!=Q>F&&N<(J-K)*((F-Z)/(Q-Z))+K&&(U=!U)}return U},D}();E.default=A},function(T,E,S){'use strict';function P(O,I){if(!(O instanceof I))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(23),M=function(){function O(){var I=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,A=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,D=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,L=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,N=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;P(this,O),this.x=I,this.y=A,this.width=D,this.height=L,this.radius=N,this.type=C.SHAPES.RREC}return O.prototype.clone=function(){return new O(this.x,this.y,this.width,this.height,this.radius)},O.prototype.contains=function(A,D){if(0>=this.width||0>=this.height)return!1;if(A>=this.x&&A<=this.x+this.width&&D>=this.y&&D<=this.y+this.height){if(D>=this.y+this.radius&&D<=this.y+this.height-this.radius||A>=this.x+this.radius&&A<=this.x+this.width-this.radius)return!0;var L=A-(this.x+this.radius),N=D-(this.y+this.radius),F=this.radius*this.radius;if(L*L+N*N<=F)return!0;if(L=A-(this.x+this.width-this.radius),L*L+N*N<=F)return!0;if(N=D-(this.y+this.height-this.radius),L*L+N*N<=F)return!0;if(L=A-(this.x+this.radius),L*L+N*N<=F)return!0}return!1},O}();E.default=M},function(T,E,S){var P={createContext:S(35),setVertexAttribArrays:S(36),GLBuffer:S(37),GLFramebuffer:S(38),GLShader:S(40),GLTexture:S(39),VertexArrayObject:S(49),shader:S(50)};'undefined'!=typeof T&&T.exports&&(T.exports=P),'undefined'!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=P)},function(T){T.exports=function(P,C){var M=P.getContext('webgl',C)||P.getContext('experimental-webgl',C);if(!M)throw new Error('This browser does not support webGL. Try using the canvas renderer');return M}},function(T){T.exports=function(P,C,M){var O;if(M){var I=M.tempAttribState,A=M.attribState;for(O=0;O<I.length;O++)I[O]=!1;for(O=0;O<C.length;O++)I[C[O].attribute.location]=!0;for(O=0;O<A.length;O++)A[O]!==I[O]&&(A[O]=I[O],M.attribState[O]?P.enableVertexAttribArray(O):P.disableVertexAttribArray(O))}else for(O=0;O<C.length;O++){var D=C[O];P.enableVertexAttribArray(D.attribute.location)}}},function(T){var S=new ArrayBuffer(0),P=function(C,M,O,I){this.gl=C,this.buffer=C.createBuffer(),this.type=M||C.ARRAY_BUFFER,this.drawType=I||C.STATIC_DRAW,this.data=S,O&&this.upload(O),this._updateID=0};P.prototype.upload=function(C,M,O){O||this.bind();var I=this.gl;C=C||this.data,M=M||0,this.data.byteLength>=C.byteLength?I.bufferSubData(this.type,M,C):I.bufferData(this.type,C,this.drawType),this.data=C},P.prototype.bind=function(){var C=this.gl;C.bindBuffer(this.type,this.buffer)},P.createVertexBuffer=function(C,M,O){return new P(C,C.ARRAY_BUFFER,M,O)},P.createIndexBuffer=function(C,M,O){return new P(C,C.ELEMENT_ARRAY_BUFFER,M,O)},P.create=function(C,M,O,I){return new P(C,M,O,I)},P.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},T.exports=P},function(T,E,S){var P=S(39),C=function(M,O,I){this.gl=M,this.framebuffer=M.createFramebuffer(),this.stencil=null,this.texture=null,this.width=O||100,this.height=I||100};C.prototype.enableTexture=function(M){var O=this.gl;this.texture=M||new P(O),this.texture.bind(),this.bind(),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,this.texture.texture,0)},C.prototype.enableStencil=function(){if(!this.stencil){var M=this.gl;this.stencil=M.createRenderbuffer(),M.bindRenderbuffer(M.RENDERBUFFER,this.stencil),M.framebufferRenderbuffer(M.FRAMEBUFFER,M.DEPTH_STENCIL_ATTACHMENT,M.RENDERBUFFER,this.stencil),M.renderbufferStorage(M.RENDERBUFFER,M.DEPTH_STENCIL,this.width,this.height)}},C.prototype.clear=function(M,O,I,A){this.bind();var D=this.gl;D.clearColor(M,O,I,A),D.clear(D.COLOR_BUFFER_BIT|D.DEPTH_BUFFER_BIT)},C.prototype.bind=function(){var M=this.gl;M.bindFramebuffer(M.FRAMEBUFFER,this.framebuffer)},C.prototype.unbind=function(){var M=this.gl;M.bindFramebuffer(M.FRAMEBUFFER,null)},C.prototype.resize=function(M,O){var I=this.gl;this.width=M,this.height=O,this.texture&&this.texture.uploadData(null,M,O),this.stencil&&(I.bindRenderbuffer(I.RENDERBUFFER,this.stencil),I.renderbufferStorage(I.RENDERBUFFER,I.DEPTH_STENCIL,M,O))},C.prototype.destroy=function(){var M=this.gl;this.texture&&this.texture.destroy(),M.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},C.createRGBA=function(M,O,I){var D=P.fromData(M,null,O,I);D.enableNearestScaling(),D.enableWrapClamp();var L=new C(M,O,I);return L.enableTexture(D),L.unbind(),L},C.createFloat32=function(M,O,I,A){var D=new P.fromData(M,A,O,I);D.enableNearestScaling(),D.enableWrapClamp();var L=new C(M,O,I);return L.enableTexture(D),L.unbind(),L},T.exports=C},function(T){var S=function(C,M,O,I,A){this.gl=C,this.texture=C.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=M||-1,this.height=O||-1,this.format=I||C.RGBA,this.type=A||C.UNSIGNED_BYTE};S.prototype.upload=function(C){this.bind();var M=this.gl;M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var O=C.videoWidth||C.width,I=C.videoHeight||C.height;I!==this.height||O!==this.width?M.texImage2D(M.TEXTURE_2D,0,this.format,this.format,this.type,C):M.texSubImage2D(M.TEXTURE_2D,0,0,0,this.format,this.type,C),this.width=O,this.height=I};var P=!1;S.prototype.uploadData=function(C,M,O){this.bind();var I=this.gl;if(C instanceof Float32Array){if(!P){var A=I.getExtension('OES_texture_float');if(A)P=!0;else throw new Error('floating point textures not available')}this.type=I.FLOAT}else this.type=this.type||I.UNSIGNED_BYTE;I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),M!==this.width||O!==this.height?I.texImage2D(I.TEXTURE_2D,0,this.format,M,O,0,this.format,this.type,C||null):I.texSubImage2D(I.TEXTURE_2D,0,0,0,M,O,this.format,this.type,C||null),this.width=M,this.height=O},S.prototype.bind=function(C){var M=this.gl;C!==void 0&&M.activeTexture(M.TEXTURE0+C),M.bindTexture(M.TEXTURE_2D,this.texture)},S.prototype.unbind=function(){var C=this.gl;C.bindTexture(C.TEXTURE_2D,null)},S.prototype.minFilter=function(C){var M=this.gl;this.bind(),this.mipmap?M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,C?M.LINEAR_MIPMAP_LINEAR:M.NEAREST_MIPMAP_NEAREST):M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,C?M.LINEAR:M.NEAREST)},S.prototype.magFilter=function(C){var M=this.gl;this.bind(),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MAG_FILTER,C?M.LINEAR:M.NEAREST)},S.prototype.enableMipmap=function(){var C=this.gl;this.bind(),this.mipmap=!0,C.generateMipmap(C.TEXTURE_2D)},S.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},S.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},S.prototype.enableWrapClamp=function(){var C=this.gl;this.bind(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE)},S.prototype.enableWrapRepeat=function(){var C=this.gl;this.bind(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.REPEAT),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.REPEAT)},S.prototype.enableWrapMirrorRepeat=function(){var C=this.gl;this.bind(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.MIRRORED_REPEAT),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.MIRRORED_REPEAT)},S.prototype.destroy=function(){var C=this.gl;C.deleteTexture(this.texture)},S.fromSource=function(C,M,O){var I=new S(C);return I.premultiplyAlpha=O||!1,I.upload(M),I},S.fromData=function(C,M,O,I){var A=new S(C);return A.uploadData(M,O,I),A},T.exports=S},function(T,E,S){var P=S(41),C=S(42),M=S(45),O=S(47),I=S(48),A=function(D,L,N,F,U){this.gl=D,F&&(L=O(L,F),N=O(N,F)),this.program=P(D,L,N,U),this.attributes=C(D,this.program),this.uniformData=M(D,this.program),this.uniforms=I(D,this.uniformData)};A.prototype.bind=function(){this.gl.useProgram(this.program)},A.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null;var D=this.gl;D.deleteProgram(this.program)},T.exports=A},function(T){var P=function(C,M,O){var I=C.createShader(M);return C.shaderSource(I,O),C.compileShader(I),C.getShaderParameter(I,C.COMPILE_STATUS)?I:null};T.exports=function(C,M,O,I){var A=P(C,C.VERTEX_SHADER,M),D=P(C,C.FRAGMENT_SHADER,O),L=C.createProgram();if(C.attachShader(L,A),C.attachShader(L,D),I)for(var N in I)C.bindAttribLocation(L,I[N],N);return C.linkProgram(L),C.getProgramParameter(L,C.LINK_STATUS)||(''!==C.getProgramInfoLog(L)&&void 0,C.deleteProgram(L),L=null),C.deleteShader(A),C.deleteShader(D),L}},function(T,E,S){var P=S(43),C=S(44),O=function(I,A,D,L){gl.vertexAttribPointer(this.location,this.size,I||gl.FLOAT,A||!1,D||0,L||0)};T.exports=function(I,A){for(var D={},L=I.getProgramParameter(A,I.ACTIVE_ATTRIBUTES),N=0;N<L;N++){var F=I.getActiveAttrib(A,N),U=P(I,F.type);D[F.name]={type:U,size:C(U),location:I.getAttribLocation(A,F.name),pointer:O}}return D}},function(T){var P=null,C={FLOAT:'float',FLOAT_VEC2:'vec2',FLOAT_VEC3:'vec3',FLOAT_VEC4:'vec4',INT:'int',INT_VEC2:'ivec2',INT_VEC3:'ivec3',INT_VEC4:'ivec4',BOOL:'bool',BOOL_VEC2:'bvec2',BOOL_VEC3:'bvec3',BOOL_VEC4:'bvec4',FLOAT_MAT2:'mat2',FLOAT_MAT3:'mat3',FLOAT_MAT4:'mat4',SAMPLER_2D:'sampler2D'};T.exports=function(M,O){if(!P){var I=Object.keys(C);P={};for(var A=0,D;A<I.length;++A)D=I[A],P[M[D]]=C[D]}return P[O]}},function(T){var P={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};T.exports=function(C){return P[C]}},function(T,E,S){var P=S(43),C=S(46);T.exports=function(O,I){for(var A={},D=O.getProgramParameter(I,O.ACTIVE_UNIFORMS),L=0;L<D;L++){var N=O.getActiveUniform(I,L),F=N.name.replace(/\[.*?\]/,''),U=P(O,N.type);A[F]={type:U,size:N.size,location:O.getUniformLocation(I,F),value:C(U,N.size)}}return A}},function(T){var P=function(C){for(var M=Array(C),O=0;O<M.length;O++)M[O]=!1;return M};T.exports=function(C,M){return'float'===C?0:'vec2'===C?new Float32Array(2*M):'vec3'===C?new Float32Array(3*M):'vec4'===C?new Float32Array(4*M):'int'===C||'sampler2D'===C?0:'ivec2'===C?new Int32Array(2*M):'ivec3'===C?new Int32Array(3*M):'ivec4'===C?new Int32Array(4*M):'bool'!=C&&('bvec2'===C?P(2*M):'bvec3'===C?P(3*M):'bvec4'===C?P(4*M):'mat2'===C?new Float32Array([1,0,0,1]):'mat3'===C?new Float32Array([1,0,0,0,1,0,0,0,1]):'mat4'===C?new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]):void 0)}},function(T){T.exports=function(P,C){return'precision'===P.substring(0,9)?P:'precision '+C+' float;\n'+P}},function(T){var P=function(L){var N=O.replace('%%',L);return new Function(N)},C=function(L,N){var F=I.replace(/%%/g,L),U;return U=1===N.size?A[N.type]:D[N.type],U&&(F+='\nthis.gl.'+U+';'),new Function('value',F)},M=function(L,N){for(var F=N,U=0,X;U<L.length-1;U++)X=F[L[U]]||{data:{}},F[L[U]]=X,F=X;return F},O=['return this.data.%%.value;'].join('\n'),I=['this.data.%%.value = value;','var location = this.data.%%.location;'].join('\n'),A={float:'uniform1f(location, value)',vec2:'uniform2f(location, value[0], value[1])',vec3:'uniform3f(location, value[0], value[1], value[2])',vec4:'uniform4f(location, value[0], value[1], value[2], value[3])',int:'uniform1i(location, value)',ivec2:'uniform2i(location, value[0], value[1])',ivec3:'uniform3i(location, value[0], value[1], value[2])',ivec4:'uniform4i(location, value[0], value[1], value[2], value[3])',bool:'uniform1i(location, value)',bvec2:'uniform2i(location, value[0], value[1])',bvec3:'uniform3i(location, value[0], value[1], value[2])',bvec4:'uniform4i(location, value[0], value[1], value[2], value[3])',mat2:'uniformMatrix2fv(location, false, value)',mat3:'uniformMatrix3fv(location, false, value)',mat4:'uniformMatrix4fv(location, false, value)',sampler2D:'uniform1i(location, value)'},D={float:'uniform1fv(location, value)',vec2:'uniform2fv(location, value)',vec3:'uniform3fv(location, value)',vec4:'uniform4fv(location, value)',int:'uniform1iv(location, value)',ivec2:'uniform2iv(location, value)',ivec3:'uniform3iv(location, value)',ivec4:'uniform4iv(location, value)',bool:'uniform1iv(location, value)',bvec2:'uniform2iv(location, value)',bvec3:'uniform3iv(location, value)',bvec4:'uniform4iv(location, value)',sampler2D:'uniform1iv(location, value)'};T.exports=function(L,N){for(var F={data:{},gl:L},U=Object.keys(N),X=0;X<U.length;X++){var Y=U[X],V=Y.split('.'),K=V[V.length-1],Z=M(V,F),J=N[Y];Z.data[K]=J,Z.gl=L,Object.defineProperty(Z,K,{get:P(K),set:C(K,J)})}return F}},function(T,E,S){function P(M,O){if(this.nativeVaoExtension=null,P.FORCE_NATIVE||(this.nativeVaoExtension=M.getExtension('OES_vertex_array_object')||M.getExtension('MOZ_OES_vertex_array_object')||M.getExtension('WEBKIT_OES_vertex_array_object')),this.nativeState=O,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var I=M.getParameter(M.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:Array(I),attribState:Array(I)}}this.gl=M,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var C=S(36);P.prototype.constructor=P,T.exports=P,P.FORCE_NATIVE=!1,P.prototype.bind=function(){return this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate(),this},P.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},P.prototype.activate=function(){for(var M=this.gl,O=null,I=0,A;I<this.attributes.length;I++)A=this.attributes[I],O!==A.buffer&&(A.buffer.bind(),O=A.buffer),M.vertexAttribPointer(A.attribute.location,A.attribute.size,A.type||M.FLOAT,A.normalized||!1,A.stride||0,A.start||0);return C(M,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},P.prototype.addAttribute=function(M,O,I,A,D,L){return this.attributes.push({buffer:M,attribute:O,location:O.location,type:I||this.gl.FLOAT,normalized:A||!1,stride:D||0,start:L||0}),this.dirty=!0,this},P.prototype.addIndex=function(M){return this.indexBuffer=M,this.dirty=!0,this},P.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},P.prototype.draw=function(M,O,I){var A=this.gl;return this.indexBuffer?A.drawElements(M,O||this.indexBuffer.data.length,A.UNSIGNED_SHORT,2*(I||0)):A.drawArrays(M,I,O||this.getSize()),this},P.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},P.prototype.getSize=function(){var M=this.attributes[0];return M.buffer.data.length/(M.stride/4||M.attribute.size)}},function(T,E,S){T.exports={compileProgram:S(41),defaultValue:S(46),extractAttributes:S(42),extractUniforms:S(45),generateUniformAccessObject:S(48),setPrecision:S(47),mapSize:S(44),mapType:S(43)}},function(T,E,S){'use strict';function P(O,I){if(!(O instanceof I))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(24),M=function(){function O(){P(this,O),this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity,this.rect=null}return O.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},O.prototype.clear=function(){this.updateID++,this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity},O.prototype.getRectangle=function(A){return this.minX>this.maxX||this.minY>this.maxY?C.Rectangle.EMPTY:(A=A||new C.Rectangle(0,0,1,1),A.x=this.minX,A.y=this.minY,A.width=this.maxX-this.minX,A.height=this.maxY-this.minY,A)},O.prototype.addPoint=function(A){this.minX=_Mathmin(this.minX,A.x),this.maxX=_Mathmax(this.maxX,A.x),this.minY=_Mathmin(this.minY,A.y),this.maxY=_Mathmax(this.maxY,A.y)},O.prototype.addQuad=function(A){var D=this.minX,L=this.minY,N=this.maxX,F=this.maxY,U=A[0],X=A[1];D=U<D?U:D,L=X<L?X:L,N=U>N?U:N,F=X>F?X:F,U=A[2],X=A[3],D=U<D?U:D,L=X<L?X:L,N=U>N?U:N,F=X>F?X:F,U=A[4],X=A[5],D=U<D?U:D,L=X<L?X:L,N=U>N?U:N,F=X>F?X:F,U=A[6],X=A[7],D=U<D?U:D,L=X<L?X:L,N=U>N?U:N,F=X>F?X:F,this.minX=D,this.minY=L,this.maxX=N,this.maxY=F},O.prototype.addFrame=function(A,D,L,N,F){var U=A.worldTransform,X=U.a,Y=U.b,V=U.c,K=U.d,Z=U.tx,J=U.ty,Q=this.minX,$=this.minY,te=this.maxX,re=this.maxY,oe=X*D+V*L+Z,ne=Y*D+K*L+J;Q=oe<Q?oe:Q,$=ne<$?ne:$,te=oe>te?oe:te,re=ne>re?ne:re,oe=X*N+V*L+Z,ne=Y*N+K*L+J,Q=oe<Q?oe:Q,$=ne<$?ne:$,te=oe>te?oe:te,re=ne>re?ne:re,oe=X*D+V*F+Z,ne=Y*D+K*F+J,Q=oe<Q?oe:Q,$=ne<$?ne:$,te=oe>te?oe:te,re=ne>re?ne:re,oe=X*N+V*F+Z,ne=Y*N+K*F+J,Q=oe<Q?oe:Q,$=ne<$?ne:$,te=oe>te?oe:te,re=ne>re?ne:re,this.minX=Q,this.minY=$,this.maxX=te,this.maxY=re},O.prototype.addVertices=function(A,D,L,N){for(var F=A.worldTransform,U=F.a,X=F.b,Y=F.c,V=F.d,K=F.tx,Z=F.ty,J=this.minX,Q=this.minY,$=this.maxX,te=this.maxY,re=L;re<N;re+=2){var oe=D[re],ne=D[re+1],ie=U*oe+Y*ne+K,le=V*ne+X*oe+Z;J=ie<J?ie:J,Q=le<Q?le:Q,$=ie>$?ie:$,te=le>te?le:te}this.minX=J,this.minY=Q,this.maxX=$,this.maxY=te},O.prototype.addBounds=function(A){var D=this.minX,L=this.minY,N=this.maxX,F=this.maxY;this.minX=A.minX<D?A.minX:D,this.minY=A.minY<L?A.minY:L,this.maxX=A.maxX>N?A.maxX:N,this.maxY=A.maxY>F?A.maxY:F},O.prototype.addBoundsMask=function(A,D){var L=A.minX>D.minX?A.minX:D.minX,N=A.minY>D.minY?A.minY:D.minY,F=A.maxX<D.maxX?A.maxX:D.maxX,U=A.maxY<D.maxY?A.maxY:D.maxY;if(L<=F&&N<=U){var X=this.minX,Y=this.minY,V=this.maxX,K=this.maxY;this.minX=L<X?L:X,this.minY=N<Y?N:Y,this.maxX=F>V?F:V,this.maxY=U>K?U:K}},O.prototype.addBoundsArea=function(A,D){var L=A.minX>D.x?A.minX:D.x,N=A.minY>D.y?A.minY:D.y,F=A.maxX<D.x+D.width?A.maxX:D.x+D.width,U=A.maxY<D.y+D.height?A.maxY:D.y+D.height;if(L<=F&&N<=U){var X=this.minX,Y=this.minY,V=this.maxX,K=this.maxY;this.minX=L<X?L:X,this.minY=N<Y?N:Y,this.maxX=F>V?F:V,this.maxY=U>K?U:K}},O}();E.default=M},function(T,E,S){'use strict';function P($){return $&&$.__esModule?$:{default:$}}function C($,te){if(!($ instanceof te))throw new TypeError('Cannot call a class as a function')}function M($,te){if(!$)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return te&&('object'==typeof te||'function'==typeof te)?te:$}function O($,te){if('function'!=typeof te&&null!==te)throw new TypeError('Super expression must either be null or a function, not '+typeof te);$.prototype=Object.create(te&&te.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf($,te):$.__proto__=te)}E.__esModule=!0;var I=function(){function $(te,re){for(var oe=0,ne;oe<re.length;oe++)ne=re[oe],ne.enumerable=ne.enumerable||!1,ne.configurable=!0,'value'in ne&&(ne.writable=!0),Object.defineProperty(te,ne.key,ne)}return function(te,re,oe){return re&&$(te.prototype,re),oe&&$(te,oe),te}}(),A=S(53),D=P(A),L=S(23),N=S(54),F=P(N),U=S(58),X=P(U),Y=S(60),V=P(Y),K=S(51),Z=P(K),J=S(24),Q=function($){function te(){C(this,te);var re=M(this,$.call(this)),oe=F.default.TRANSFORM_MODE===L.TRANSFORM_MODE.STATIC?X.default:V.default;return re.tempDisplayObjectParent=null,re.transform=new oe,re.alpha=1,re.visible=!0,re.renderable=!0,re.parent=null,re.worldAlpha=1,re.filterArea=null,re._filters=null,re._enabledFilters=null,re._bounds=new Z.default,re._boundsID=0,re._lastBoundsID=-1,re._boundsRect=null,re._localBoundsRect=null,re._mask=null,re._destroyed=!1,re}return O(te,$),te.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},te.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},te.prototype.getBounds=function(oe,ne){return oe||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),ne||(!this._boundsRect&&(this._boundsRect=new J.Rectangle),ne=this._boundsRect),this._bounds.getRectangle(ne)},te.prototype.getLocalBounds=function(oe){var ne=this.transform,ie=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,oe||(!this._localBoundsRect&&(this._localBoundsRect=new J.Rectangle),oe=this._localBoundsRect);var le=this.getBounds(!1,oe);return this.parent=ie,this.transform=ne,le},te.prototype.toGlobal=function(oe,ne){var ie=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return ie||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(oe,ne)},te.prototype.toLocal=function(oe,ne,ie,le){return ne&&(oe=ne.toGlobal(oe,ie,le)),le||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(oe,ie)},te.prototype.renderWebGL=function(){},te.prototype.renderCanvas=function(){},te.prototype.setParent=function(oe){if(!oe||!oe.addChild)throw new Error('setParent: Argument must be a Container');return oe.addChild(this),oe},te.prototype.setTransform=function(){var oe=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,ne=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,ie=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,le=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,se=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,de=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,ue=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,pe=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,ce=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=oe,this.position.y=ne,this.scale.x=ie?ie:1,this.scale.y=le?le:1,this.rotation=se,this.skew.x=de,this.skew.y=ue,this.pivot.x=pe,this.pivot.y=ce,this},te.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},I(te,[{key:'_tempDisplayObjectParent',get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new te),this.tempDisplayObjectParent}},{key:'x',get:function(){return this.position.x},set:function(oe){this.transform.position.x=oe}},{key:'y',get:function(){return this.position.y},set:function(oe){this.transform.position.y=oe}},{key:'worldTransform',get:function(){return this.transform.worldTransform}},{key:'localTransform',get:function(){return this.transform.localTransform}},{key:'position',get:function(){return this.transform.position},set:function(oe){this.transform.position.copy(oe)}},{key:'scale',get:function(){return this.transform.scale},set:function(oe){this.transform.scale.copy(oe)}},{key:'pivot',get:function(){return this.transform.pivot},set:function(oe){this.transform.pivot.copy(oe)}},{key:'skew',get:function(){return this.transform.skew},set:function(oe){this.transform.skew.copy(oe)}},{key:'rotation',get:function(){return this.transform.rotation},set:function(oe){this.transform.rotation=oe}},{key:'worldVisible',get:function(){var oe=this;do{if(!oe.visible)return!1;oe=oe.parent}while(oe);return!0}},{key:'mask',get:function(){return this._mask},set:function(oe){this._mask&&(this._mask.renderable=!0),this._mask=oe,this._mask&&(this._mask.renderable=!1)}},{key:'filters',get:function(){return this._filters&&this._filters.slice()},set:function(oe){this._filters=oe&&oe.slice()}}]),te}(D.default);E.default=Q,Q.prototype.displayObjectUpdateTransform=Q.prototype.updateTransform},function(T){'use strict';function P(){}function C(A,D,L){this.fn=A,this.context=D,this.once=L||!1}function M(){this._events=new P,this._eventsCount=0}var O=Object.prototype.hasOwnProperty,I='~';Object.create&&(P.prototype=Object.create(null),!new P().__proto__&&(I=!1)),M.prototype.eventNames=function(){var D=[],L,N;if(0===this._eventsCount)return D;for(N in L=this._events)O.call(L,N)&&D.push(I?N.slice(1):N);return Object.getOwnPropertySymbols?D.concat(Object.getOwnPropertySymbols(L)):D},M.prototype.listeners=function(D,L){var N=I?I+D:D,F=this._events[N];if(L)return!!F;if(!F)return[];if(F.fn)return[F.fn];for(var U=0,X=F.length,Y=Array(X);U<X;U++)Y[U]=F[U].fn;return Y},M.prototype.emit=function(D,L,N,F,U,X){var Y=I?I+D:D;if(!this._events[Y])return!1;var V=this._events[Y],K=arguments.length,Z,J;if(V.fn){switch(V.once&&this.removeListener(D,V.fn,void 0,!0),K){case 1:return V.fn.call(V.context),!0;case 2:return V.fn.call(V.context,L),!0;case 3:return V.fn.call(V.context,L,N),!0;case 4:return V.fn.call(V.context,L,N,F),!0;case 5:return V.fn.call(V.context,L,N,F,U),!0;case 6:return V.fn.call(V.context,L,N,F,U,X),!0;}for(J=1,Z=Array(K-1);J<K;J++)Z[J-1]=arguments[J];V.fn.apply(V.context,Z)}else{var Q=V.length,$;for(J=0;J<Q;J++)switch(V[J].once&&this.removeListener(D,V[J].fn,void 0,!0),K){case 1:V[J].fn.call(V[J].context);break;case 2:V[J].fn.call(V[J].context,L);break;case 3:V[J].fn.call(V[J].context,L,N);break;case 4:V[J].fn.call(V[J].context,L,N,F);break;default:if(!Z)for($=1,Z=Array(K-1);$<K;$++)Z[$-1]=arguments[$];V[J].fn.apply(V[J].context,Z);}}return!0},M.prototype.on=function(D,L,N){var F=new C(L,N||this),U=I?I+D:D;return this._events[U]?this._events[U].fn?this._events[U]=[this._events[U],F]:this._events[U].push(F):(this._events[U]=F,this._eventsCount++),this},M.prototype.once=function(D,L,N){var F=new C(L,N||this,!0),U=I?I+D:D;return this._events[U]?this._events[U].fn?this._events[U]=[this._events[U],F]:this._events[U].push(F):(this._events[U]=F,this._eventsCount++),this},M.prototype.removeListener=function(D,L,N,F){var U=I?I+D:D;if(!this._events[U])return this;if(!L)return 0==--this._eventsCount?this._events=new P:delete this._events[U],this;var X=this._events[U];if(X.fn)X.fn!==L||F&&!X.once||N&&X.context!==N||(0==--this._eventsCount?this._events=new P:delete this._events[U]);else{for(var Y=0,V=[],K=X.length;Y<K;Y++)(X[Y].fn!==L||F&&!X[Y].once||N&&X[Y].context!==N)&&V.push(X[Y]);V.length?this._events[U]=1===V.length?V[0]:V:0==--this._eventsCount?this._events=new P:delete this._events[U]}return this},M.prototype.removeAllListeners=function(D){var L;return D?(L=I?I+D:D,this._events[L]&&(0==--this._eventsCount?this._events=new P:delete this._events[L])):(this._events=new P,this._eventsCount=0),this},M.prototype.off=M.prototype.removeListener,M.prototype.addListener=M.prototype.on,M.prototype.setMaxListeners=function(){return this},M.prefixed=I,M.EventEmitter=M,T.exports=M},function(T,E,S){'use strict';function P(A){return A&&A.__esModule?A:{default:A}}E.__esModule=!0;var C=S(55),M=P(C),O=S(57),I=P(O);E.default={TARGET_FPMS:0.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,M.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:'highp',PRECISION_FRAGMENT:'mediump',CAN_UPLOAD_SAME_BUFFER:(0,I.default)()}},function(T,E,S){'use strict';E.__esModule=!0,E.default=function(I){return O.default.tablet||O.default.phone?4:I};var M=S(56),O=function(I){return I&&I.__esModule?I:{default:I}}(M)},function(T,E){var P,C,M;(function(O){var I=/iPhone/i,A=/iPod/i,D=/iPad/i,L=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,N=/Android/i,F=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,U=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,X=/Windows Phone/i,Y=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,V=/BlackBerry/i,K=/BB10/i,Z=/Opera Mini/i,J=/(CriOS|Chrome)(?=.*\bMobile\b)/i,Q=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,$=/(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)/i,te=function(ne,ie){return ne.test(ie)},re=function(ne){var ie=ne||navigator.userAgent,le=ie.split('[FBAN');if('undefined'!=typeof le[1]&&(ie=le[0]),le=ie.split('Twitter'),'undefined'!=typeof le[1]&&(ie=le[0]),this.apple={phone:te(I,ie),ipod:te(A,ie),tablet:!te(I,ie)&&te(D,ie),device:te(I,ie)||te(A,ie)||te(D,ie)},this.amazon={phone:te(F,ie),tablet:!te(F,ie)&&te(U,ie),device:te(F,ie)||te(U,ie)},this.android={phone:te(F,ie)||te(L,ie),tablet:!te(F,ie)&&!te(L,ie)&&(te(U,ie)||te(N,ie)),device:te(F,ie)||te(U,ie)||te(L,ie)||te(N,ie)},this.windows={phone:te(X,ie),tablet:te(Y,ie),device:te(X,ie)||te(Y,ie)},this.other={blackberry:te(V,ie),blackberry10:te(K,ie),opera:te(Z,ie),firefox:te(Q,ie),chrome:te(J,ie),device:te(V,ie)||te(K,ie)||te(Z,ie)||te(Q,ie)||te(J,ie)},this.seven_inch=te($,ie),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,'undefined'==typeof window)return this},oe=function(){var ne=new re;return ne.Class=re,ne};'undefined'!=typeof T&&T.exports&&'undefined'==typeof window?T.exports=re:'undefined'!=typeof T&&T.exports&&'undefined'!=typeof window?T.exports=oe():(C=[],P=O.isMobile=oe(),M='function'==typeof P?P.apply(E,C):P,!(M!==void 0&&(T.exports=M)))})(this)},function(T,E){'use strict';E.__esModule=!0,E.default=function(){var P=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!P}},function(T,E,S){'use strict';function C(F,U){if(!(F instanceof U))throw new TypeError('Cannot call a class as a function')}function M(F,U){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:F}function O(F,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);F.prototype=Object.create(U&&U.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(F,U):F.__proto__=U)}E.__esModule=!0;var I=function(){function F(U,X){for(var Y=0,V;Y<X.length;Y++)V=X[Y],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(U,V.key,V)}return function(U,X,Y){return X&&F(U.prototype,X),Y&&F(U,Y),U}}(),A=S(24),D=S(59),L=function(F){return F&&F.__esModule?F:{default:F}}(D),N=function(F){function U(){C(this,U);var X=M(this,F.call(this));return X.position=new A.ObservablePoint(X.onChange,X,0,0),X.scale=new A.ObservablePoint(X.onChange,X,1,1),X.pivot=new A.ObservablePoint(X.onChange,X,0,0),X.skew=new A.ObservablePoint(X.updateSkew,X,0,0),X._rotation=0,X._cx=1,X._sx=0,X._cy=0,X._sy=1,X._localID=0,X._currentLocalID=0,X}return O(U,F),U.prototype.onChange=function(){this._localID++},U.prototype.updateSkew=function(){this._cx=_Mathcos(this._rotation+this.skew._y),this._sx=_Mathsin(this._rotation+this.skew._y),this._cy=-_Mathsin(this._rotation-this.skew._x),this._sy=_Mathcos(this._rotation-this.skew._x),this._localID++},U.prototype.updateLocalTransform=function(){var Y=this.localTransform;this._localID!==this._currentLocalID&&(Y.a=this._cx*this.scale._x,Y.b=this._sx*this.scale._x,Y.c=this._cy*this.scale._y,Y.d=this._sy*this.scale._y,Y.tx=this.position._x-(this.pivot._x*Y.a+this.pivot._y*Y.c),Y.ty=this.position._y-(this.pivot._x*Y.b+this.pivot._y*Y.d),this._currentLocalID=this._localID,this._parentID=-1)},U.prototype.updateTransform=function(Y){var V=this.localTransform;if(this._localID!==this._currentLocalID&&(V.a=this._cx*this.scale._x,V.b=this._sx*this.scale._x,V.c=this._cy*this.scale._y,V.d=this._sy*this.scale._y,V.tx=this.position._x-(this.pivot._x*V.a+this.pivot._y*V.c),V.ty=this.position._y-(this.pivot._x*V.b+this.pivot._y*V.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==Y._worldID){var K=Y.worldTransform,Z=this.worldTransform;Z.a=V.a*K.a+V.b*K.c,Z.b=V.a*K.b+V.b*K.d,Z.c=V.c*K.a+V.d*K.c,Z.d=V.c*K.b+V.d*K.d,Z.tx=V.tx*K.a+V.ty*K.c+K.tx,Z.ty=V.tx*K.b+V.ty*K.d+K.ty,this._parentID=Y._worldID,this._worldID++}},U.prototype.setFromMatrix=function(Y){Y.decompose(this),this._localID++},I(U,[{key:'rotation',get:function(){return this._rotation},set:function(Y){this._rotation=Y,this.updateSkew()}}]),U}(L.default);E.default=N},function(T,E,S){'use strict';function P(O,I){if(!(O instanceof I))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(24),M=function(){function O(){P(this,O),this.worldTransform=new C.Matrix,this.localTransform=new C.Matrix,this._worldID=0,this._parentID=0}return O.prototype.updateLocalTransform=function(){},O.prototype.updateTransform=function(A){var D=A.worldTransform,L=this.worldTransform,N=this.localTransform;L.a=N.a*D.a+N.b*D.c,L.b=N.a*D.b+N.b*D.d,L.c=N.c*D.a+N.d*D.c,L.d=N.c*D.b+N.d*D.d,L.tx=N.tx*D.a+N.ty*D.c+D.tx,L.ty=N.tx*D.b+N.ty*D.d+D.ty,this._worldID++},O}();E.default=M,M.prototype.updateWorldTransform=M.prototype.updateTransform,M.IDENTITY=new M},function(T,E,S){'use strict';function C(F,U){if(!(F instanceof U))throw new TypeError('Cannot call a class as a function')}function M(F,U){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:F}function O(F,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);F.prototype=Object.create(U&&U.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(F,U):F.__proto__=U)}E.__esModule=!0;var I=function(){function F(U,X){for(var Y=0,V;Y<X.length;Y++)V=X[Y],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(U,V.key,V)}return function(U,X,Y){return X&&F(U.prototype,X),Y&&F(U,Y),U}}(),A=S(24),D=S(59),L=function(F){return F&&F.__esModule?F:{default:F}}(D),N=function(F){function U(){C(this,U);var X=M(this,F.call(this));return X.position=new A.Point(0,0),X.scale=new A.Point(1,1),X.skew=new A.ObservablePoint(X.updateSkew,X,0,0),X.pivot=new A.Point(0,0),X._rotation=0,X._cx=1,X._sx=0,X._cy=0,X._sy=1,X}return O(U,F),U.prototype.updateSkew=function(){this._cx=_Mathcos(this._rotation+this.skew._y),this._sx=_Mathsin(this._rotation+this.skew._y),this._cy=-_Mathsin(this._rotation-this.skew._x),this._sy=_Mathcos(this._rotation-this.skew._x)},U.prototype.updateLocalTransform=function(){var Y=this.localTransform;Y.a=this._cx*this.scale.x,Y.b=this._sx*this.scale.x,Y.c=this._cy*this.scale.y,Y.d=this._sy*this.scale.y,Y.tx=this.position.x-(this.pivot.x*Y.a+this.pivot.y*Y.c),Y.ty=this.position.y-(this.pivot.x*Y.b+this.pivot.y*Y.d)},U.prototype.updateTransform=function(Y){var V=this.localTransform;V.a=this._cx*this.scale.x,V.b=this._sx*this.scale.x,V.c=this._cy*this.scale.y,V.d=this._sy*this.scale.y,V.tx=this.position.x-(this.pivot.x*V.a+this.pivot.y*V.c),V.ty=this.position.y-(this.pivot.x*V.b+this.pivot.y*V.d);var K=Y.worldTransform,Z=this.worldTransform;Z.a=V.a*K.a+V.b*K.c,Z.b=V.a*K.b+V.b*K.d,Z.c=V.c*K.a+V.d*K.c,Z.d=V.c*K.b+V.d*K.d,Z.tx=V.tx*K.a+V.ty*K.c+K.tx,Z.ty=V.tx*K.b+V.ty*K.d+K.ty,this._worldID++},U.prototype.setFromMatrix=function(Y){Y.decompose(this)},I(U,[{key:'rotation',get:function(){return this._rotation},set:function(Y){this._rotation=Y,this.updateSkew()}}]),U}(L.default);E.default=N},function(T,E,S){'use strict';function C(F,U){if(!(F instanceof U))throw new TypeError('Cannot call a class as a function')}function M(F,U){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:F}function O(F,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);F.prototype=Object.create(U&&U.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(F,U):F.__proto__=U)}E.__esModule=!0;var I=function(){function F(U,X){for(var Y=0,V;Y<X.length;Y++)V=X[Y],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(U,V.key,V)}return function(U,X,Y){return X&&F(U.prototype,X),Y&&F(U,Y),U}}(),A=S(62),D=S(52),L=function(F){return F&&F.__esModule?F:{default:F}}(D),N=function(F){function U(){C(this,U);var X=M(this,F.call(this));return X.children=[],X}return O(U,F),U.prototype.onChildrenChange=function(){},U.prototype.addChild=function(Y){var V=arguments.length;if(1<V)for(var K=0;K<V;K++)this.addChild(arguments[K]);else Y.parent&&Y.parent.removeChild(Y),Y.parent=this,Y.transform._parentID=-1,this.children.push(Y),this._boundsID++,this.onChildrenChange(this.children.length-1),Y.emit('added',this);return Y},U.prototype.addChildAt=function(Y,V){if(0>V||V>this.children.length)throw new Error(Y+'addChildAt: The index '+V+' supplied is out of bounds '+this.children.length);return Y.parent&&Y.parent.removeChild(Y),Y.parent=this,Y.transform._parentID=-1,this.children.splice(V,0,Y),this._boundsID++,this.onChildrenChange(V),Y.emit('added',this),Y},U.prototype.swapChildren=function(Y,V){if(Y!==V){var K=this.getChildIndex(Y),Z=this.getChildIndex(V);this.children[K]=V,this.children[Z]=Y,this.onChildrenChange(K<Z?K:Z)}},U.prototype.getChildIndex=function(Y){var V=this.children.indexOf(Y);if(-1===V)throw new Error('The supplied DisplayObject must be a child of the caller');return V},U.prototype.setChildIndex=function(Y,V){if(0>V||V>=this.children.length)throw new Error('The supplied index is out of bounds');var K=this.getChildIndex(Y);(0,A.removeItems)(this.children,K,1),this.children.splice(V,0,Y),this.onChildrenChange(V)},U.prototype.getChildAt=function(Y){if(0>Y||Y>=this.children.length)throw new Error('getChildAt: Index ('+Y+') does not exist.');return this.children[Y]},U.prototype.removeChild=function(Y){var V=arguments.length;if(1<V)for(var K=0;K<V;K++)this.removeChild(arguments[K]);else{var Z=this.children.indexOf(Y);if(-1===Z)return null;Y.parent=null,Y.transform._parentID=-1,(0,A.removeItems)(this.children,Z,1),this._boundsID++,this.onChildrenChange(Z),Y.emit('removed',this)}return Y},U.prototype.removeChildAt=function(Y){var V=this.getChildAt(Y);return V.parent=null,V.transform._parentID=-1,(0,A.removeItems)(this.children,Y,1),this._boundsID++,this.onChildrenChange(Y),V.emit('removed',this),V},U.prototype.removeChildren=function(){var Y=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,V=arguments[1],K=Y,Z='number'==typeof V?V:this.children.length,J=Z-K,Q;if(0<J&&J<=Z){Q=this.children.splice(K,J);for(var $=0;$<Q.length;++$)Q[$].parent=null,Q[$].transform&&(Q[$].transform._parentID=-1);this._boundsID++,this.onChildrenChange(Y);for(var te=0;te<Q.length;++te)Q[te].emit('removed',this);return Q}if(0==J&&0===this.children.length)return[];throw new RangeError('removeChildren: numeric values are outside the acceptable range.')},U.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var Y=0,V=this.children.length,K;Y<V;++Y)K=this.children[Y],K.visible&&K.updateTransform()},U.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var Y=0,V;Y<this.children.length;Y++)(V=this.children[Y],V.visible&&V.renderable)&&(V.calculateBounds(),V._mask?(V._mask.calculateBounds(),this._bounds.addBoundsMask(V._bounds,V._mask._bounds)):V.filterArea?this._bounds.addBoundsArea(V._bounds,V.filterArea):this._bounds.addBounds(V._bounds));this._lastBoundsID=this._boundsID},U.prototype._calculateBounds=function(){},U.prototype.renderWebGL=function(Y){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(Y);else{this._renderWebGL(Y);for(var V=0,K=this.children.length;V<K;++V)this.children[V].renderWebGL(Y)}},U.prototype.renderAdvancedWebGL=function(Y){Y.flush();var V=this._filters,K=this._mask;if(V){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var Z=0;Z<V.length;Z++)V[Z].enabled&&this._enabledFilters.push(V[Z]);this._enabledFilters.length&&Y.filterManager.pushFilter(this,this._enabledFilters)}K&&Y.maskManager.pushMask(this,this._mask),this._renderWebGL(Y);for(var J=0,Q=this.children.length;J<Q;J++)this.children[J].renderWebGL(Y);Y.flush(),K&&Y.maskManager.popMask(this,this._mask),V&&this._enabledFilters&&this._enabledFilters.length&&Y.filterManager.popFilter()},U.prototype._renderWebGL=function(){},U.prototype._renderCanvas=function(){},U.prototype.renderCanvas=function(Y){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable){this._mask&&Y.maskManager.pushMask(this._mask),this._renderCanvas(Y);for(var V=0,K=this.children.length;V<K;++V)this.children[V].renderCanvas(Y);this._mask&&Y.maskManager.popMask(Y)}},U.prototype.destroy=function(Y){F.prototype.destroy.call(this);var V='boolean'==typeof Y?Y:Y&&Y.children,K=this.removeChildren(0,this.children.length);if(V)for(var Z=0;Z<K.length;++Z)K[Z].destroy(Y)},I(U,[{key:'width',get:function(){return this.scale.x*this.getLocalBounds().width},set:function(Y){var V=this.getLocalBounds().width;this.scale.x=0===V?1:Y/V,this._width=Y}},{key:'height',get:function(){return this.scale.y*this.getLocalBounds().height},set:function(Y){var V=this.getLocalBounds().height;this.scale.y=0===V?1:Y/V,this._height=Y}}]),U}(L.default);E.default=N,N.prototype.containerUpdateTransform=N.prototype.updateTransform},function(T,E,S){'use strict';function P(ge){if(ge&&ge.__esModule)return ge;var _e={};if(null!=ge)for(var be in ge)Object.prototype.hasOwnProperty.call(ge,be)&&(_e[be]=ge[be]);return _e.default=ge,_e}function C(ge){return ge&&ge.__esModule?ge:{default:ge}}E.__esModule=!0,E.BaseTextureCache=E.TextureCache=E.mixins=E.pluginTarget=E.EventEmitter=E.isMobile=void 0,E.uid=function(){return++pe},E.hex2rgb=function(ge,_e){return _e=_e||[],_e[0]=(255&ge>>16)/255,_e[1]=(255&ge>>8)/255,_e[2]=(255&ge)/255,_e},E.hex2string=function(ge){return ge=ge.toString(16),ge='000000'.substr(0,6-ge.length)+ge,'#'+ge},E.rgb2hex=function(ge){return(255*ge[0]<<16)+(255*ge[1]<<8)+(0|255*ge[2])},E.getResolutionOfUrl=function(ge,_e){var be=te.default.RETINA_PREFIX.exec(ge);return be?parseFloat(be[1]):_e===void 0?1:_e},E.decomposeDataUri=function(ge){var _e=Q.DATA_URI.exec(ge);return _e?{mediaType:_e[1]?_e[1].toLowerCase():void 0,subType:_e[2]?_e[2].toLowerCase():void 0,encoding:_e[3]?_e[3].toLowerCase():void 0,data:_e[4]}:void 0},E.getUrlFileExtension=function(ge){var _e=Q.URL_FILE_EXTENSION.exec(ge);return _e?_e[1].toLowerCase():void 0},E.getSvgSize=function(ge){var _e=Q.SVG_SIZE.exec(ge),be={};return _e&&(be[_e[1]]=_Mathround(parseFloat(_e[3])),be[_e[5]]=_Mathround(parseFloat(_e[7]))),be},E.skipHello=function(){ce=!0},E.sayHello=function(ge){if(!ce){if(-1<navigator.userAgent.toLowerCase().indexOf('chrome')){var _e=['\n %c %c %c Pixi.js '+Q.VERSION+' - \u2730 '+ge+' \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n','background: #ff66a5; padding:5px 0;','background: #ff66a5; padding:5px 0;','color: #ff66a5; background: #030307; padding:5px 0;','background: #ff66a5; padding:5px 0;','background: #ffc3dc; padding:5px 0;','background: #ff66a5; padding:5px 0;','color: #ff2424; background: #fff; padding:5px 0;','color: #ff2424; background: #fff; padding:5px 0;','color: #ff2424; background: #fff; padding:5px 0;'];window.console.log.apply(console,_e)}else window.console&&window.console.log('Pixi.js '+Q.VERSION+' - '+ge+' - http://www.pixijs.com/');ce=!0}},E.isWebGLSupported=function(){var ge={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var _e=document.createElement('canvas'),be=_e.getContext('webgl',ge)||_e.getContext('experimental-webgl',ge),ve=!!(be&&be.getContextAttributes().stencil);if(be){var Te=be.getExtension('WEBGL_lose_context');Te&&Te.loseContext()}return be=null,ve}catch(Ee){return!1}},E.sign=function(ge){return 0===ge?0:0>ge?-1:1},E.removeItems=function(ge,_e,be){var ve=ge.length;if(!(_e>=ve||0===be)){be=_e+be>ve?ve-_e:be;for(var Te=ve-be,Ee=_e;Ee<Te;++Ee)ge[Ee]=ge[Ee+be];ge.length=Te}},E.destroyTextureCache=function(){var ge=void 0;for(ge in fe)fe[ge].destroy();for(ge in he)he[ge].destroy()},E.clearTextureCache=function(){var ge=void 0;for(ge in fe)delete fe[ge];for(ge in he)delete he[ge]};var Q=S(23),$=S(54),te=C($),re=S(53),oe=C(re),ne=S(63),ie=C(ne),le=S(64),se=P(le),de=S(56),ue=P(de),pe=0,ce=!1;E.isMobile=ue,E.EventEmitter=oe.default,E.pluginTarget=ie.default,E.mixins=se;var fe=E.TextureCache=Object.create(null),he=E.BaseTextureCache=Object.create(null)},function(T,E){'use strict';function S(P){P.__plugins={},P.registerPlugin=function(M,O){P.__plugins[M]=O},P.prototype.initPlugins=function(){for(var M in this.plugins=this.plugins||{},P.__plugins)this.plugins[M]=new P.__plugins[M](this)},P.prototype.destroyPlugins=function(){for(var M in this.plugins)this.plugins[M].destroy(),this.plugins[M]=null;this.plugins=null}}E.__esModule=!0,E.default={mixin:function(C){S(C)}}},function(T,E){'use strict';function S(O,I){if(O&&I)for(var A=Object.keys(I),D=0,L;D<A.length;++D)L=A[D],Object.defineProperty(O,L,Object.getOwnPropertyDescriptor(I,L))}E.__esModule=!0,E.mixin=S,E.delayMixin=function(O,I){M.push(O,I)},E.performMixins=function(){for(var O=0;O<M.length;O+=2)S(M[O],M[O+1]);M.length=0};var M=[]},function(T,E,S){'use strict';function P(K){return K&&K.__esModule?K:{default:K}}function C(K,Z){if(!(K instanceof Z))throw new TypeError('Cannot call a class as a function')}function M(K,Z){if(!K)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Z&&('object'==typeof Z||'function'==typeof Z)?Z:K}function O(K,Z){if('function'!=typeof Z&&null!==Z)throw new TypeError('Super expression must either be null or a function, not '+typeof Z);K.prototype=Object.create(Z&&Z.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(K,Z):K.__proto__=Z)}E.__esModule=!0;var I=function(){function K(Z,J){for(var Q=0,$;Q<J.length;Q++)$=J[Q],$.enumerable=$.enumerable||!1,$.configurable=!0,'value'in $&&($.writable=!0),Object.defineProperty(Z,$.key,$)}return function(Z,J,Q){return J&&K(Z.prototype,J),Q&&K(Z,Q),Z}}(),A=S(24),D=S(62),L=S(23),N=S(66),F=P(N),U=S(61),X=P(U),Y=new A.Point,V=function(K){function Z(J){C(this,Z);var Q=M(this,K.call(this));return Q._anchor=new A.ObservablePoint(Q._onAnchorUpdate,Q),Q._texture=null,Q._width=0,Q._height=0,Q._tint=null,Q._tintRGB=null,Q.tint=16777215,Q.blendMode=L.BLEND_MODES.NORMAL,Q.shader=null,Q.cachedTint=16777215,Q.texture=J||F.default.EMPTY,Q.vertexData=new Float32Array(8),Q.vertexTrimmedData=null,Q._transformID=-1,Q._textureID=-1,Q._transformTrimmedID=-1,Q._textureTrimmedID=-1,Q.pluginName='sprite',Q}return O(Z,K),Z.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._width&&(this.scale.x=(0,D.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,D.sign)(this.scale.y)*this._height/this._texture.orig.height)},Z.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},Z.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var Q=this._texture,$=this.transform.worldTransform,te=$.a,re=$.b,oe=$.c,ne=$.d,ie=$.tx,le=$.ty,se=this.vertexData,de=Q.trim,ue=Q.orig,pe=this._anchor,ce=0,fe=0,he=0,ge=0;de?(fe=de.x-pe._x*ue.width,ce=fe+de.width,ge=de.y-pe._y*ue.height,he=ge+de.height):(fe=-pe._x*ue.width,ce=fe+ue.width,ge=-pe._y*ue.height,he=ge+ue.height),se[0]=te*fe+oe*ge+ie,se[1]=ne*ge+re*fe+le,se[2]=te*ce+oe*ge+ie,se[3]=ne*ge+re*ce+le,se[4]=te*ce+oe*he+ie,se[5]=ne*he+re*ce+le,se[6]=te*fe+oe*he+ie,se[7]=ne*he+re*fe+le}},Z.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var Q=this._texture,$=this.vertexTrimmedData,te=Q.orig,re=this._anchor,oe=this.transform.worldTransform,ne=oe.a,ie=oe.b,le=oe.c,se=oe.d,de=oe.tx,ue=oe.ty,pe=-re._x*te.width,ce=pe+te.width,fe=-re._y*te.height,he=fe+te.height;$[0]=ne*pe+le*fe+de,$[1]=se*fe+ie*pe+ue,$[2]=ne*ce+le*fe+de,$[3]=se*fe+ie*ce+ue,$[4]=ne*ce+le*he+de,$[5]=se*he+ie*ce+ue,$[6]=ne*pe+le*he+de,$[7]=se*he+ie*pe+ue},Z.prototype._renderWebGL=function(Q){this.calculateVertices(),Q.setObjectRenderer(Q.plugins[this.pluginName]),Q.plugins[this.pluginName].render(this)},Z.prototype._renderCanvas=function(Q){Q.plugins[this.pluginName].render(this)},Z.prototype._calculateBounds=function(){var Q=this._texture.trim,$=this._texture.orig;Q&&(Q.width!==$.width||Q.height!==$.height)?(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData)):(this.calculateVertices(),this._bounds.addQuad(this.vertexData))},Z.prototype.getLocalBounds=function(Q){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._x),Q||(!this._localBoundsRect&&(this._localBoundsRect=new A.Rectangle),Q=this._localBoundsRect),this._bounds.getRectangle(Q)):K.prototype.getLocalBounds.call(this,Q)},Z.prototype.containsPoint=function(Q){this.worldTransform.applyInverse(Q,Y);var $=this._texture.orig.width,te=this._texture.orig.height,re=-$*this.anchor.x,oe=0;return Y.x>re&&Y.x<re+$&&(oe=-te*this.anchor.y,Y.y>oe&&Y.y<oe+te)},Z.prototype.destroy=function(Q){K.prototype.destroy.call(this,Q),this._anchor=null;var $='boolean'==typeof Q?Q:Q&&Q.texture;if($){var te='boolean'==typeof Q?Q:Q&&Q.baseTexture;this._texture.destroy(!!te)}this._texture=null,this.shader=null},Z.from=function(Q){return new Z(F.default.from(Q))},Z.fromFrame=function(Q){var $=D.TextureCache[Q];if(!$)throw new Error('The frameId "'+Q+'" does not exist in the texture cache');return new Z($)},Z.fromImage=function(Q,$,te){return new Z(F.default.fromImage(Q,$,te))},I(Z,[{key:'width',get:function(){return _Mathabs(this.scale.x)*this._texture.orig.width},set:function(Q){var $=(0,D.sign)(this.scale.x)||1;this.scale.x=$*Q/this._texture.orig.width,this._width=Q}},{key:'height',get:function(){return _Mathabs(this.scale.y)*this._texture.orig.height},set:function(Q){var $=(0,D.sign)(this.scale.y)||1;this.scale.y=$*Q/this._texture.orig.height,this._height=Q}},{key:'anchor',get:function(){return this._anchor},set:function(Q){this._anchor.copy(Q)}},{key:'tint',get:function(){return this._tint},set:function(Q){this._tint=Q,this._tintRGB=(Q>>16)+(65280&Q)+((255&Q)<<16)}},{key:'texture',get:function(){return this._texture},set:function(Q){this._texture===Q||(this._texture=Q,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,Q&&(Q.baseTexture.hasLoaded?this._onTextureUpdate():Q.once('update',this._onTextureUpdate,this)))}}]),Z}(X.default);E.default=V},function(T,E,S){'use strict';function P(re){return re&&re.__esModule?re:{default:re}}function C(re,oe){if(!(re instanceof oe))throw new TypeError('Cannot call a class as a function')}function M(re,oe){if(!re)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return oe&&('object'==typeof oe||'function'==typeof oe)?oe:re}function O(re,oe){if('function'!=typeof oe&&null!==oe)throw new TypeError('Super expression must either be null or a function, not '+typeof oe);re.prototype=Object.create(oe&&oe.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),oe&&(Object.setPrototypeOf?Object.setPrototypeOf(re,oe):re.__proto__=oe)}function A(re){re.destroy=function(){},re.on=function(){},re.once=function(){},re.emit=function(){}}E.__esModule=!0;var D=function(){function re(oe,ne){for(var ie=0,le;ie<ne.length;ie++)le=ne[ie],le.enumerable=le.enumerable||!1,le.configurable=!0,'value'in le&&(le.writable=!0),Object.defineProperty(oe,le.key,le)}return function(oe,ne,ie){return ne&&re(oe.prototype,ne),ie&&re(oe,ie),oe}}(),L=S(67),N=P(L),F=S(77),U=P(F),X=S(81),Y=P(X),V=S(53),K=P(V),Z=S(24),J=S(62),Q=S(54),$=P(Q),te=function(re){function oe(ne,ie,le,se,de){C(this,oe);var ue=M(this,re.call(this));if(ue.noFrame=!1,ie||(ue.noFrame=!0,ie=new Z.Rectangle(0,0,1,1)),ne instanceof oe&&(ne=ne.baseTexture),ue.baseTexture=ne,ue._frame=ie,ue.trim=se,ue.valid=!1,ue.requiresUpdate=!1,ue._uvs=null,ue.orig=le||ie,ue._rotate=+(de||0),!0===de)ue._rotate=2;else if(0!=ue._rotate%2)throw new Error('attempt to use diamond-shaped UVs. If you are sure, set rotation manually');return ne.hasLoaded?(ue.noFrame&&(ie=new Z.Rectangle(0,0,ne.width,ne.height),ne.on('update',ue.onBaseTextureUpdated,ue)),ue.frame=ie):ne.once('loaded',ue.onBaseTextureLoaded,ue),ue._updateID=0,ue.transform=null,ue.textureCacheIds=[],ue}return O(oe,re),oe.prototype.update=function(){this.baseTexture.update()},oe.prototype.onBaseTextureLoaded=function(ie){this._updateID++,this.frame=this.noFrame?new Z.Rectangle(0,0,ie.width,ie.height):this._frame,this.baseTexture.on('update',this.onBaseTextureUpdated,this),this.emit('update',this)},oe.prototype.onBaseTextureUpdated=function(ie){this._updateID++,this._frame.width=ie.width,this._frame.height=ie.height,this.emit('update',this)},oe.prototype.destroy=function(ie){this.baseTexture&&(ie&&(J.TextureCache[this.baseTexture.imageUrl]&&oe.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off('update',this.onBaseTextureUpdated,this),this.baseTexture.off('loaded',this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,oe.removeFromCache(this),this.textureCacheIds=null},oe.prototype.clone=function(){return new oe(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},oe.prototype._updateUvs=function(){this._uvs||(this._uvs=new Y.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},oe.fromImage=function(ie,le,se,de){var ue=J.TextureCache[ie];return ue||(ue=new oe(N.default.fromImage(ie,le,se,de)),oe.addToCache(ue,ie)),ue},oe.fromFrame=function(ie){var le=J.TextureCache[ie];if(!le)throw new Error('The frameId "'+ie+'" does not exist in the texture cache');return le},oe.fromCanvas=function(ie,le){var se=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'canvas';return new oe(N.default.fromCanvas(ie,le,se))},oe.fromVideo=function(ie,le){return'string'==typeof ie?oe.fromVideoUrl(ie,le):new oe(U.default.fromVideo(ie,le))},oe.fromVideoUrl=function(ie,le){return new oe(U.default.fromUrl(ie,le))},oe.from=function(ie){if('string'==typeof ie){var le=J.TextureCache[ie];if(!le){var se=null!==ie.match(/\.(mp4|webm|ogg|h264|avi|mov)$/);return se?oe.fromVideoUrl(ie):oe.fromImage(ie)}return le}return ie instanceof HTMLImageElement?new oe(N.default.from(ie)):ie instanceof HTMLCanvasElement?oe.fromCanvas(ie,$.default.SCALE_MODE,'HTMLCanvasElement'):ie instanceof HTMLVideoElement?oe.fromVideo(ie):ie instanceof N.default?new oe(ie):ie},oe.fromLoader=function(ie,le,se){var de=new N.default(ie,void 0,(0,J.getResolutionOfUrl)(le)),ue=new oe(de);return de.imageUrl=le,se||(se=le),N.default.addToCache(ue.baseTexture,se),oe.addToCache(ue,se),se!==le&&(N.default.addToCache(ue.baseTexture,le),oe.addToCache(ue,le)),ue},oe.addToCache=function(ie,le){le&&(-1===ie.textureCacheIds.indexOf(le)&&ie.textureCacheIds.push(le),J.TextureCache[le]&&void 0,J.TextureCache[le]=ie)},oe.removeFromCache=function(ie){if('string'==typeof ie){var le=J.TextureCache[ie];if(le){var se=le.textureCacheIds.indexOf(ie);return-1<se&&le.textureCacheIds.splice(se,1),delete J.TextureCache[ie],le}}else if(ie&&ie.textureCacheIds){for(var de=0;de<ie.textureCacheIds.length;++de)delete J.TextureCache[ie.textureCacheIds[de]];return ie.textureCacheIds.length=0,ie}return null},D(oe,[{key:'frame',get:function(){return this._frame},set:function(ie){if(this._frame=ie,this.noFrame=!1,ie.x+ie.width>this.baseTexture.width||ie.y+ie.height>this.baseTexture.height)throw new Error('Texture Error: frame does not fit inside the base Texture dimensions: X: '+ie.x+' + '+ie.width+' > '+this.baseTexture.width+' '+('Y: '+ie.y+' + '+ie.height+' > '+this.baseTexture.height));this.valid=ie&&ie.width&&ie.height&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=ie),this.valid&&this._updateUvs()}},{key:'rotate',get:function(){return this._rotate},set:function(ie){this._rotate=ie,this.valid&&this._updateUvs()}},{key:'width',get:function(){return this.orig.width}},{key:'height',get:function(){return this.orig.height}}]),oe}(K.default);E.default=te,te.EMPTY=new te(new N.default()),A(te.EMPTY),A(te.EMPTY.baseTexture),te.WHITE=function(){var re=document.createElement('canvas');re.width=10,re.height=10;var oe=re.getContext('2d');return oe.fillStyle='white',oe.fillRect(0,0,10,10),new te(new N.default(re))}(),A(te.WHITE),A(te.WHITE.baseTexture)},function(T,E,S){'use strict';function P(K){return K&&K.__esModule?K:{default:K}}function C(K,Z){if(!(K instanceof Z))throw new TypeError('Cannot call a class as a function')}function M(K,Z){if(!K)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Z&&('object'==typeof Z||'function'==typeof Z)?Z:K}function O(K,Z){if('function'!=typeof Z&&null!==Z)throw new TypeError('Super expression must either be null or a function, not '+typeof Z);K.prototype=Object.create(Z&&Z.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(K,Z):K.__proto__=Z)}E.__esModule=!0;var I=S(62),A=S(54),D=P(A),L=S(53),N=P(L),F=S(68),U=P(F),X=S(76),Y=P(X),V=function(K){function Z(J,Q,$){C(this,Z);var te=M(this,K.call(this));return te.uid=(0,I.uid)(),te.touched=0,te.resolution=$||D.default.RESOLUTION,te.width=100,te.height=100,te.realWidth=100,te.realHeight=100,te.scaleMode=void 0===Q?D.default.SCALE_MODE:Q,te.hasLoaded=!1,te.isLoading=!1,te.source=null,te.origSource=null,te.imageType=null,te.sourceScale=1,te.premultipliedAlpha=!0,te.imageUrl=null,te.isPowerOfTwo=!1,te.mipmap=D.default.MIPMAP_TEXTURES,te.wrapMode=D.default.WRAP_MODE,te._glTextures={},te._enabled=0,te._virtalBoundId=-1,te._destroyed=!1,te.textureCacheIds=[],J&&te.loadSource(J),te}return O(Z,K),Z.prototype.update=function(){'svg'!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit('update',this)},Z.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=Y.default.isPow2(this.realWidth)&&Y.default.isPow2(this.realHeight)},Z.prototype.loadSource=function(Q){var $=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,$&&this.source&&(this.source.onload=null,this.source.onerror=null);var te=!this.source;if(this.source=Q,(Q.src&&Q.complete||Q.getContext)&&Q.width&&Q.height)this._updateImageType(),'svg'===this.imageType?this._loadSvgSource():this._sourceLoaded(),te&&this.emit('loaded',this);else if(!Q.getContext){this.isLoading=!0;var re=this;if(Q.onload=function(){if(re._updateImageType(),Q.onload=null,Q.onerror=null,!!re.isLoading)return re.isLoading=!1,re._sourceLoaded(),'svg'===re.imageType?void re._loadSvgSource():void re.emit('loaded',re)},Q.onerror=function(){Q.onload=null,Q.onerror=null,re.isLoading&&(re.isLoading=!1,re.emit('error',re))},Q.complete&&Q.src){if(Q.onload=null,Q.onerror=null,'svg'===re.imageType)return void re._loadSvgSource();this.isLoading=!1,Q.width&&Q.height?(this._sourceLoaded(),$&&this.emit('loaded',this)):$&&this.emit('error',this)}}},Z.prototype._updateImageType=function(){if(this.imageUrl){var Q=(0,I.decomposeDataUri)(this.imageUrl),$;if(Q&&'image'===Q.mediaType){var te=Q.subType.split('+')[0];if($=(0,I.getUrlFileExtension)('.'+te),!$)throw new Error('Invalid image type in data URI.')}else $=(0,I.getUrlFileExtension)(this.imageUrl),$||($='png');this.imageType=$}},Z.prototype._loadSvgSource=function(){if('svg'===this.imageType){var Q=(0,I.decomposeDataUri)(this.imageUrl);Q?this._loadSvgSourceUsingDataUri(Q):this._loadSvgSourceUsingXhr()}},Z.prototype._loadSvgSourceUsingDataUri=function(Q){var $;if('base64'===Q.encoding){if(!atob)throw new Error('Your browser doesn\'t support base64 conversions.');$=atob(Q.data)}else $=Q.data;this._loadSvgSourceUsingString($)},Z.prototype._loadSvgSourceUsingXhr=function(){var Q=this,$=new XMLHttpRequest;$.onload=function(){if($.readyState!==$.DONE||200!==$.status)throw new Error('Failed to load SVG using XHR.');Q._loadSvgSourceUsingString($.response)},$.onerror=function(){return Q.emit('error',Q)},$.open('GET',this.imageUrl,!0),$.send()},Z.prototype._loadSvgSourceUsingString=function(Q){var $=(0,I.getSvgSize)(Q),te=$.width,re=$.height;if(!te||!re)throw new Error('The SVG image must have width and height defined (in pixels), canvas API needs them.');this.realWidth=_Mathround(te*this.sourceScale),this.realHeight=_Mathround(re*this.sourceScale),this._updateDimensions();var oe=document.createElement('canvas');oe.width=this.realWidth,oe.height=this.realHeight,oe._pixiId='canvas_'+(0,I.uid)(),oe.getContext('2d').drawImage(this.source,0,0,te,re,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=oe,Z.addToCache(this,oe._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit('loaded',this)},Z.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},Z.prototype.destroy=function(){this.imageUrl&&(delete I.TextureCache[this.imageUrl],this.imageUrl=null,!navigator.isCocoonJS&&(this.source.src='')),this.source=null,this.dispose(),Z.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},Z.prototype.dispose=function(){this.emit('dispose',this)},Z.prototype.updateSourceImage=function(Q){this.source.src=Q,this.loadSource(this.source)},Z.fromImage=function(Q,$,te,re){var oe=I.BaseTextureCache[Q];if(!oe){var ne=new Image;void 0===$&&0!==Q.indexOf('data:')&&(ne.crossOrigin=(0,U.default)(Q)),oe=new Z(ne,te),oe.imageUrl=Q,re&&(oe.sourceScale=re),oe.resolution=(0,I.getResolutionOfUrl)(Q),ne.src=Q,Z.addToCache(oe,Q)}return oe},Z.fromCanvas=function(Q,$){var te=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'canvas';Q._pixiId||(Q._pixiId=te+'_'+(0,I.uid)());var re=I.BaseTextureCache[Q._pixiId];return re||(re=new Z(Q,$),Z.addToCache(re,Q._pixiId)),re},Z.from=function(Q,$,te){if('string'==typeof Q)return Z.fromImage(Q,void 0,$,te);if(Q instanceof HTMLImageElement){var re=Q.src,oe=I.BaseTextureCache[re];return oe||(oe=new Z(Q,$),oe.imageUrl=re,te&&(oe.sourceScale=te),oe.resolution=(0,I.getResolutionOfUrl)(re),Z.addToCache(oe,re)),oe}return Q instanceof HTMLCanvasElement?Z.fromCanvas(Q,$):Q},Z.addToCache=function(Q,$){$&&(-1===Q.textureCacheIds.indexOf($)&&Q.textureCacheIds.push($),I.BaseTextureCache[$]&&void 0,I.BaseTextureCache[$]=Q)},Z.removeFromCache=function(Q){if('string'==typeof Q){var $=I.BaseTextureCache[Q];if($){var te=$.textureCacheIds.indexOf(Q);return-1<te&&$.textureCacheIds.splice(te,1),delete I.BaseTextureCache[Q],$}}else if(Q&&Q.textureCacheIds){for(var re=0;re<Q.textureCacheIds.length;++re)delete I.BaseTextureCache[Q.textureCacheIds[re]];return Q.textureCacheIds.length=0,Q}return null},Z}(N.default);E.default=V},function(T,E,S){'use strict';E.__esModule=!0,E.default=function(A){var D=1<arguments.length&&arguments[1]!==void 0?arguments[1]:window.location;if(0===A.indexOf('data:'))return'';D=D||window.location,I||(I=document.createElement('a')),I.href=A,A=O.default.parse(I.href);var L=!A.port&&''===D.port||A.port===D.port;return A.hostname===D.hostname&&L&&A.protocol===D.protocol?'':'anonymous'};var M=S(69),O=function(A){return A&&A.__esModule?A:{default:A}}(M),I=void 0},function(T,E,S){'use strict';function P(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function C(ne,ie,le){if(ne&&D.isObject(ne)&&ne instanceof P)return ne;var se=new P;return se.parse(ne,ie,le),se}var A=S(70),D=S(72);E.parse=C,E.resolve=function(ne,ie){return C(ne,!1,!0).resolve(ie)},E.resolveObject=function(ne,ie){return ne?C(ne,!1,!0).resolveObject(ie):ie},E.format=function(ne){return D.isString(ne)&&(ne=C(ne)),ne instanceof P?ne.format():P.prototype.format.call(ne)},E.Url=P;var L=/^([a-z0-9.+-]+:)/i,N=/:[0-9]*$/,F=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,X=['{','}','|','\\','^','`'].concat(['<','>','"','`',' ','\r','\n','\t']),Y=['\''].concat(X),V=['%','/','?',';','#'].concat(Y),K=['/','?','#'],J=/^[+a-z0-9A-Z_-]{0,63}$/,Q=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,$={javascript:!0,'javascript:':!0},te={javascript:!0,'javascript:':!0},re={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,'http:':!0,'https:':!0,'ftp:':!0,'gopher:':!0,'file:':!0},oe=S(73);P.prototype.parse=function(ne,ie,le){if(!D.isString(ne))throw new TypeError('Parameter \'url\' must be a string, not '+typeof ne);var se=ne.indexOf('?'),de=-1!==se&&se<ne.indexOf('#')?'?':'#',ue=ne.split(de),pe=/\\/g;ue[0]=ue[0].replace(pe,'/'),ne=ue.join(de);var ce=ne;if(ce=ce.trim(),!le&&1===ne.split('#').length){var fe=F.exec(ce);if(fe)return this.path=ce,this.href=ce,this.pathname=fe[1],fe[2]?(this.search=fe[2],this.query=ie?oe.parse(this.search.substr(1)):this.search.substr(1)):ie&&(this.search='',this.query={}),this}var he=L.exec(ce);if(he){he=he[0];var ge=he.toLowerCase();this.protocol=ge,ce=ce.substr(he.length)}if(le||he||ce.match(/^\/\/[^@\/]+@[^@\/]+/)){var _e='//'===ce.substr(0,2);_e&&!(he&&te[he])&&(ce=ce.substr(2),this.slashes=!0)}if(!te[he]&&(_e||he&&!re[he])){for(var be=-1,ve=0,Te;ve<K.length;ve++)Te=ce.indexOf(K[ve]),-1!==Te&&(-1==be||Te<be)&&(be=Te);var Ee,Se;Se=-1===be?ce.lastIndexOf('@'):ce.lastIndexOf('@',be),-1!==Se&&(Ee=ce.slice(0,Se),ce=ce.slice(Se+1),this.auth=decodeURIComponent(Ee)),be=-1;for(var ve=0,Te;ve<V.length;ve++)Te=ce.indexOf(V[ve]),-1!==Te&&(-1===be||Te<be)&&(be=Te);-1===be&&(be=ce.length),this.host=ce.slice(0,be),ce=ce.slice(be),this.parseHost(),this.hostname=this.hostname||'';var Pe='['===this.hostname[0]&&']'===this.hostname[this.hostname.length-1];if(!Pe)for(var Ce=this.hostname.split(/\./),ve=0,Me=Ce.length,Oe;ve<Me;ve++)if(Oe=Ce[ve],Oe&&!Oe.match(J)){for(var Ie='',Re=0,Ae=Oe.length;Re<Ae;Re++)Ie+=127<Oe.charCodeAt(Re)?'x':Oe[Re];if(!Ie.match(J)){var we=Ce.slice(0,ve),De=Ce.slice(ve+1),ke=Oe.match(Q);ke&&(we.push(ke[1]),De.unshift(ke[2])),De.length&&(ce='/'+De.join('.')+ce),this.hostname=we.join('.');break}}this.hostname=this.hostname.length>255?'':this.hostname.toLowerCase(),Pe||(this.hostname=A.toASCII(this.hostname));var Le=this.port?':'+this.port:'',Ne=this.hostname||'';this.host=Ne+Le,this.href+=this.host,Pe&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),'/'!==ce[0]&&(ce='/'+ce))}if(!$[ge])for(var ve=0,Me=Y.length,Fe;ve<Me;ve++)if(Fe=Y[ve],-1!==ce.indexOf(Fe)){var Be=encodeURIComponent(Fe);Be===Fe&&(Be=escape(Fe)),ce=ce.split(Fe).join(Be)}var Ue=ce.indexOf('#');-1!==Ue&&(this.hash=ce.substr(Ue),ce=ce.slice(0,Ue));var Xe=ce.indexOf('?');if(-1===Xe?ie&&(this.search='',this.query={}):(this.search=ce.substr(Xe),this.query=ce.substr(Xe+1),ie&&(this.query=oe.parse(this.query)),ce=ce.slice(0,Xe)),ce&&(this.pathname=ce),re[ge]&&this.hostname&&!this.pathname&&(this.pathname='/'),this.pathname||this.search){var Le=this.pathname||'',Ge=this.search||'';this.path=Le+Ge}return this.href=this.format(),this},P.prototype.format=function(){var ne=this.auth||'';ne&&(ne=encodeURIComponent(ne),ne=ne.replace(/%3A/i,':'),ne+='@');var ie=this.protocol||'',le=this.pathname||'',se=this.hash||'',de=!1,ue='';this.host?de=ne+this.host:this.hostname&&(de=ne+(-1===this.hostname.indexOf(':')?this.hostname:'['+this.hostname+']'),this.port&&(de+=':'+this.port)),this.query&&D.isObject(this.query)&&Object.keys(this.query).length&&(ue=oe.stringify(this.query));var pe=this.search||ue&&'?'+ue||'';return ie&&':'!==ie.substr(-1)&&(ie+=':'),this.slashes||(!ie||re[ie])&&!1!==de?(de='//'+(de||''),le&&'/'!==le.charAt(0)&&(le='/'+le)):!de&&(de=''),se&&'#'!==se.charAt(0)&&(se='#'+se),pe&&'?'!==pe.charAt(0)&&(pe='?'+pe),le=le.replace(/[?#]/g,function(ce){return encodeURIComponent(ce)}),pe=pe.replace('#','%23'),ie+de+le+pe+se},P.prototype.resolve=function(ne){return this.resolveObject(C(ne,!1,!0)).format()},P.prototype.resolveObject=function(ne){if(D.isString(ne)){var ie=new P;ie.parse(ne,!1,!0),ne=ie}for(var le=new P,se=Object.keys(this),de=0,ue;de<se.length;de++)ue=se[de],le[ue]=this[ue];if(le.hash=ne.hash,''===ne.href)return le.href=le.format(),le;if(ne.slashes&&!ne.protocol){for(var pe=Object.keys(ne),ce=0,fe;ce<pe.length;ce++)fe=pe[ce],'protocol'!==fe&&(le[fe]=ne[fe]);return re[le.protocol]&&le.hostname&&!le.pathname&&(le.path=le.pathname='/'),le.href=le.format(),le}if(ne.protocol&&ne.protocol!==le.protocol){if(!re[ne.protocol]){for(var he=Object.keys(ne),ge=0,_e;ge<he.length;ge++)_e=he[ge],le[_e]=ne[_e];return le.href=le.format(),le}if(le.protocol=ne.protocol,!ne.host&&!te[ne.protocol]){for(var be=(ne.pathname||'').split('/');be.length&&!(ne.host=be.shift()););ne.host||(ne.host=''),ne.hostname||(ne.hostname=''),''!==be[0]&&be.unshift(''),2>be.length&&be.unshift(''),le.pathname=be.join('/')}else le.pathname=ne.pathname;if(le.search=ne.search,le.query=ne.query,le.host=ne.host||'',le.auth=ne.auth,le.hostname=ne.hostname||ne.host,le.port=ne.port,le.pathname||le.search){var ve=le.pathname||'',Te=le.search||'';le.path=ve+Te}return le.slashes=le.slashes||ne.slashes,le.href=le.format(),le}var Ee=le.pathname&&'/'===le.pathname.charAt(0),Se=ne.host||ne.pathname&&'/'===ne.pathname.charAt(0),Pe=Se||Ee||le.host&&ne.pathname,Ce=Pe,Me=le.pathname&&le.pathname.split('/')||[],be=ne.pathname&&ne.pathname.split('/')||[],Oe=le.protocol&&!re[le.protocol];if(Oe&&(le.hostname='',le.port=null,le.host&&(''===Me[0]?Me[0]=le.host:Me.unshift(le.host)),le.host='',ne.protocol&&(ne.hostname=null,ne.port=null,ne.host&&(''===be[0]?be[0]=ne.host:be.unshift(ne.host)),ne.host=null),Pe=Pe&&(''===be[0]||''===Me[0])),Se)le.host=ne.host||''===ne.host?ne.host:le.host,le.hostname=ne.hostname||''===ne.hostname?ne.hostname:le.hostname,le.search=ne.search,le.query=ne.query,Me=be;else if(be.length)Me||(Me=[]),Me.pop(),Me=Me.concat(be),le.search=ne.search,le.query=ne.query;else if(!D.isNullOrUndefined(ne.search)){if(Oe){le.hostname=le.host=Me.shift();var Ie=le.host&&0<le.host.indexOf('@')&&le.host.split('@');Ie&&(le.auth=Ie.shift(),le.host=le.hostname=Ie.shift())}return le.search=ne.search,le.query=ne.query,D.isNull(le.pathname)&&D.isNull(le.search)||(le.path=(le.pathname?le.pathname:'')+(le.search?le.search:'')),le.href=le.format(),le}if(!Me.length)return le.pathname=null,le.path=le.search?'/'+le.search:null,le.href=le.format(),le;for(var Re=Me.slice(-1)[0],Ae=(le.host||ne.host||1<Me.length)&&('.'===Re||'..'===Re)||''===Re,we=0,De=Me.length;0<=De;De--)Re=Me[De],'.'===Re?Me.splice(De,1):'..'===Re?(Me.splice(De,1),we++):we&&(Me.splice(De,1),we--);if(!Pe&&!Ce)for(;we--;we)Me.unshift('..');Pe&&''!==Me[0]&&(!Me[0]||'/'!==Me[0].charAt(0))&&Me.unshift(''),Ae&&'/'!==Me.join('/').substr(-1)&&Me.push('');var ke=''===Me[0]||Me[0]&&'/'===Me[0].charAt(0);if(Oe){le.hostname=le.host=ke?'':Me.length?Me.shift():'';var Ie=le.host&&0<le.host.indexOf('@')&&le.host.split('@');Ie&&(le.auth=Ie.shift(),le.host=le.hostname=Ie.shift())}return Pe=Pe||le.host&&Me.length,Pe&&!ke&&Me.unshift(''),Me.length?le.pathname=Me.join('/'):(le.pathname=null,le.path=null),D.isNull(le.pathname)&&D.isNull(le.search)||(le.path=(le.pathname?le.pathname:'')+(le.search?le.search:'')),le.auth=ne.auth||le.auth,le.slashes=le.slashes||ne.slashes,le.href=le.format(),le},P.prototype.parseHost=function(){var ne=this.host,ie=N.exec(ne);ie&&(ie=ie[0],':'!==ie&&(this.port=ie.substr(1)),ne=ne.substr(0,ne.length-ie.length)),ne&&(this.hostname=ne)}},function(T,E,S){var P;(function(C,M){(function(O){function I(Ee){throw RangeError(ge[Ee])}function A(Ee,Se){for(var Pe=Ee.length,Ce=[];Pe--;)Ce[Pe]=Se(Ee[Pe]);return Ce}function D(Ee,Se){var Pe=Ee.split('@'),Ce='';1<Pe.length&&(Ce=Pe[0]+'@',Ee=Pe[1]),Ee=Ee.replace(he,'.');var Me=Ee.split('.'),Oe=A(Me,Se).join('.');return Ce+Oe}function L(Ee){for(var Se=[],Pe=0,Ce=Ee.length,Me,Oe;Pe<Ce;)Me=Ee.charCodeAt(Pe++),55296<=Me&&56319>=Me&&Pe<Ce?(Oe=Ee.charCodeAt(Pe++),56320==(64512&Oe)?Se.push(((1023&Me)<<10)+(1023&Oe)+65536):(Se.push(Me),Pe--)):Se.push(Me);return Se}function N(Ee){return A(Ee,function(Se){var Pe='';return 65535<Se&&(Se-=65536,Pe+=ve(55296|1023&Se>>>10),Se=56320|1023&Se),Pe+=ve(Se),Pe}).join('')}function F(Ee){return 10>Ee-48?Ee-22:26>Ee-65?Ee-65:26>Ee-97?Ee-97:oe}function U(Ee,Se){return Ee+22+75*(26>Ee)-((0!=Se)<<5)}function X(Ee,Se,Pe){var Ce=0;for(Ee=Pe?be(Ee/se):Ee>>1,Ee+=be(Ee/Se);Ee>_e*ie>>1;Ce+=oe)Ee=be(Ee/_e);return be(Ce+(_e+1)*Ee/(Ee+le))}function Y(Ee){var Se=[],Pe=Ee.length,Me=0,Oe=ue,Ie=de,Ce,Re,Ae,we,De,ke,Le,Ne,Fe,Be;for(Re=Ee.lastIndexOf(pe),0>Re&&(Re=0),Ae=0;Ae<Re;++Ae)128<=Ee.charCodeAt(Ae)&&I('not-basic'),Se.push(Ee.charCodeAt(Ae));for(we=0<Re?Re+1:0;we<Pe;){for(De=Me,ke=1,Le=oe;;Le+=oe){if(we>=Pe&&I('invalid-input'),Ne=F(Ee.charCodeAt(we++)),(Ne>=oe||Ne>be((re-Me)/ke))&&I('overflow'),Me+=Ne*ke,Fe=Le<=Ie?ne:Le>=Ie+ie?ie:Le-Ie,Ne<Fe)break;Be=oe-Fe,ke>be(re/Be)&&I('overflow'),ke*=Be}Ce=Se.length+1,Ie=X(Me-De,Ce,0==De),be(Me/Ce)>re-Oe&&I('overflow'),Oe+=be(Me/Ce),Me%=Ce,Se.splice(Me++,0,Oe)}return N(Se)}function V(Ee){var Le=[],Se,Pe,Ce,Me,Oe,Ie,Re,Ae,we,De,ke,Ne,Fe,Be,Ue;for(Ee=L(Ee),Ne=Ee.length,Se=ue,Pe=0,Oe=de,Ie=0;Ie<Ne;++Ie)ke=Ee[Ie],128>ke&&Le.push(ve(ke));for(Ce=Me=Le.length,Me&&Le.push(pe);Ce<Ne;){for(Re=re,Ie=0;Ie<Ne;++Ie)ke=Ee[Ie],ke>=Se&&ke<Re&&(Re=ke);for(Fe=Ce+1,Re-Se>be((re-Pe)/Fe)&&I('overflow'),Pe+=(Re-Se)*Fe,Se=Re,Ie=0;Ie<Ne;++Ie)if(ke=Ee[Ie],ke<Se&&++Pe>re&&I('overflow'),ke==Se){for(Ae=Pe,we=oe;;we+=oe){if(De=we<=Oe?ne:we>=Oe+ie?ie:we-Oe,Ae<De)break;Ue=Ae-De,Be=oe-De,Le.push(ve(U(De+Ue%Be,0))),Ae=be(Ue/Be)}Le.push(ve(U(Ae,0))),Oe=X(Pe,Fe,Ce==Me),Pe=0,++Ce}++Pe,++Se}return Le.join('')}var J='object'==typeof E&&E&&!E.nodeType&&E,Q='object'==typeof C&&C&&!C.nodeType&&C,$='object'==typeof M&&M;($.global===$||$.window===$||$.self===$)&&(O=$);var re=2147483647,oe=36,ne=1,ie=26,le=38,se=700,de=72,ue=128,pe='-',ce=/^xn--/,fe=/[^\x20-\x7E]/,he=/[\x2E\u3002\uFF0E\uFF61]/g,ge={overflow:'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},_e=oe-ne,be=_Mathfloor,ve=_StringfromCharCode,te;te={version:'1.3.2',ucs2:{decode:L,encode:N},decode:Y,encode:V,toASCII:function(Ee){return D(Ee,function(Se){return fe.test(Se)?'xn--'+V(Se):Se})},toUnicode:function(Ee){return D(Ee,function(Se){return ce.test(Se)?Y(Se.slice(4).toLowerCase()):Se})}};P=function(){return te}.call(E,S,E,C),!(void 0!==P&&(C.exports=P))})(this)}).call(E,S(71)(T),function(){return this}())},function(T){T.exports=function(S){return S.webpackPolyfill||(S.deprecate=function(){},S.paths=[],S.children=[],S.webpackPolyfill=1),S}},function(T){'use strict';T.exports={isString:function(S){return'string'==typeof S},isObject:function(S){return'object'==typeof S&&null!==S},isNull:function(S){return null===S},isNullOrUndefined:function(S){return null==S}}},function(T,E,S){'use strict';E.decode=E.parse=S(74),E.encode=E.stringify=S(75)},function(T){'use strict';function S(P,C){return Object.prototype.hasOwnProperty.call(P,C)}T.exports=function(P,C,M,O){C=C||'&',M=M||'=';var I={};if('string'!=typeof P||0===P.length)return I;var A=/\+/g;P=P.split(C);var D=1e3;O&&'number'==typeof O.maxKeys&&(D=O.maxKeys);var L=P.length;0<D&&L>D&&(L=D);for(var N=0;N<L;++N){var F=P[N].replace(A,'%20'),U=F.indexOf(M),X,Y,V,K;0<=U?(X=F.substr(0,U),Y=F.substr(U+1)):(X=F,Y=''),V=decodeURIComponent(X),K=decodeURIComponent(Y),S(I,V)?Array.isArray(I[V])?I[V].push(K):I[V]=[I[V],K]:I[V]=K}return I}},function(T){'use strict';var S=function(P){switch(typeof P){case'string':return P;case'boolean':return P?'true':'false';case'number':return isFinite(P)?P:'';default:return'';}};T.exports=function(P,C,M,O){return C=C||'&',M=M||'=',null===P&&(P=void 0),'object'==typeof P?Object.keys(P).map(function(I){var A=encodeURIComponent(S(I))+M;return Array.isArray(P[I])?P[I].map(function(D){return A+encodeURIComponent(S(D))}).join(C):A+encodeURIComponent(S(P[I]))}).join(C):O?encodeURIComponent(S(O))+M+encodeURIComponent(S(P)):''}},function(T,E){'use strict';'use restrict';function S(M){var O=32;return M&=-M,M&&O--,65535&M&&(O-=16),16711935&M&&(O-=8),252645135&M&&(O-=4),858993459&M&&(O-=2),1431655765&M&&(O-=1),O}var P=32;E.INT_BITS=P,E.INT_MAX=2147483647,E.INT_MIN=-1<<P-1,E.sign=function(M){return(0<M)-(0>M)},E.abs=function(M){var O=M>>P-1;return(M^O)-O},E.min=function(M,O){return O^(M^O)&-(M<O)},E.max=function(M,O){return M^(M^O)&-(M<O)},E.isPow2=function(M){return!(M&M-1)&&!!M},E.log2=function(M){var O,I;return O=(65535<M)<<4,M>>>=O,I=(255<M)<<3,M>>>=I,O|=I,I=(15<M)<<2,M>>>=I,O|=I,I=(3<M)<<1,M>>>=I,O|=I,O|M>>1},E.log10=function(M){return 1e9<=M?9:1e8<=M?8:1e7<=M?7:1e6<=M?6:1e5<=M?5:1e4<=M?4:1e3<=M?3:100<=M?2:10<=M?1:0},E.popCount=function(M){return M-=1431655765&M>>>1,M=(858993459&M)+(858993459&M>>>2),16843009*(252645135&M+(M>>>4))>>>24},E.countTrailingZeros=S,E.nextPow2=function(M){return M+=0===M,--M,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,M+1},E.prevPow2=function(M){return M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,M-(M>>>1)},E.parity=function(M){return M^=M>>>16,M^=M>>>8,M^=M>>>4,M&=15,1&27030>>>M};var C=Array(256);(function(M){for(var O=0;256>O;++O){var I=O,A=O,D=7;for(I>>>=1;I;I>>>=1)A<<=1,A|=1&I,--D;M[O]=255&A<<D}})(C),E.reverse=function(M){return C[255&M]<<24|C[255&M>>>8]<<16|C[255&M>>>16]<<8|C[255&M>>>24]},E.interleave2=function(M,O){return M&=65535,M=16711935&(M|M<<8),M=252645135&(M|M<<4),M=858993459&(M|M<<2),M=1431655765&(M|M<<1),O&=65535,O=16711935&(O|O<<8),O=252645135&(O|O<<4),O=858993459&(O|O<<2),O=1431655765&(O|O<<1),M|O<<1},E.deinterleave2=function(M,O){return M=1431655765&M>>>O,M=858993459&(M|M>>>1),M=252645135&(M|M>>>2),M=16711935&(M|M>>>4),M=65535&(M|M>>>16),M<<16>>16},E.interleave3=function(M,O,I){return M&=1023,M=4278190335&(M|M<<16),M=251719695&(M|M<<8),M=3272356035&(M|M<<4),M=1227133513&(M|M<<2),O&=1023,O=4278190335&(O|O<<16),O=251719695&(O|O<<8),O=3272356035&(O|O<<4),O=1227133513&(O|O<<2),M|=O<<1,I&=1023,I=4278190335&(I|I<<16),I=251719695&(I|I<<8),I=3272356035&(I|I<<4),I=1227133513&(I|I<<2),M|I<<2},E.deinterleave3=function(M,O){return M=1227133513&M>>>O,M=3272356035&(M|M>>>2),M=251719695&(M|M>>>4),M=4278190335&(M|M>>>8),M=1023&(M|M>>>16),M<<22>>22},E.nextCombination=function(M){var O=M|M-1;return O+1|(~O&-~O)-1>>>S(M)+1}},function(T,E,S){'use strict';function C(Y,V){if(!(Y instanceof V))throw new TypeError('Cannot call a class as a function')}function M(Y,V){if(!Y)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:Y}function O(Y,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);Y.prototype=Object.create(V&&V.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,V):Y.__proto__=V)}function I(Y,V){V||(V='video/'+Y.substr(Y.lastIndexOf('.')+1));var K=document.createElement('source');return K.src=Y,K.type=V,K}E.__esModule=!0;var A=function(){function Y(V,K){for(var Z=0,J;Z<K.length;Z++)J=K[Z],J.enumerable=J.enumerable||!1,J.configurable=!0,'value'in J&&(J.writable=!0),Object.defineProperty(V,J.key,J)}return function(V,K,Z){return K&&Y(V.prototype,K),Z&&Y(V,Z),V}}(),D=S(67),L=function(Y){return Y&&Y.__esModule?Y:{default:Y}}(D),N=S(62),F=S(78),U=S(23),X=function(Y){function V(K,Z){if(C(this,V),!K)throw new Error('No video source element specified.');(K.readyState===K.HAVE_ENOUGH_DATA||K.readyState===K.HAVE_FUTURE_DATA)&&K.width&&K.height&&(K.complete=!0);var J=M(this,Y.call(this,K,Z));return J.width=K.videoWidth,J.height=K.videoHeight,J._autoUpdate=!0,J._isAutoUpdating=!1,J.autoPlay=!0,J.update=J.update.bind(J),J._onCanPlay=J._onCanPlay.bind(J),K.addEventListener('play',J._onPlayStart.bind(J)),K.addEventListener('pause',J._onPlayStop.bind(J)),J.hasLoaded=!1,J.__loaded=!1,J._isSourceReady()?J._onCanPlay():(K.addEventListener('canplay',J._onCanPlay),K.addEventListener('canplaythrough',J._onCanPlay)),J}return O(V,Y),V.prototype._isSourcePlaying=function(){var Z=this.source;return 0<Z.currentTime&&!1===Z.paused&&!1===Z.ended&&2<Z.readyState},V.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},V.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(F.shared.add(this.update,this,U.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},V.prototype._onPlayStop=function(){this._isAutoUpdating&&(F.shared.remove(this.update,this),this._isAutoUpdating=!1)},V.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener('canplay',this._onCanPlay),this.source.removeEventListener('canplaythrough',this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,!this.__loaded&&(this.__loaded=!0,this.emit('loaded',this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},V.prototype.destroy=function(){this._isAutoUpdating&&F.shared.remove(this.update,this),this.source&&this.source._pixiId&&(L.default.removeFromCache(this.source._pixiId),delete this.source._pixiId),Y.prototype.destroy.call(this)},V.fromVideo=function(Z,J){Z._pixiId||(Z._pixiId='video_'+(0,N.uid)());var Q=N.BaseTextureCache[Z._pixiId];return Q||(Q=new V(Z,J),L.default.addToCache(Q,Z._pixiId)),Q},V.fromUrl=function(Z,J){var Q=document.createElement('video');if(Q.setAttribute('webkit-playsinline',''),Q.setAttribute('playsinline',''),Array.isArray(Z))for(var $=0;$<Z.length;++$)Q.appendChild(I(Z[$].src||Z[$],Z[$].mime));else Q.appendChild(I(Z.src||Z,Z.mime));return Q.load(),V.fromVideo(Q,J)},A(V,[{key:'autoUpdate',get:function(){return this._autoUpdate},set:function(Z){Z!==this._autoUpdate&&(this._autoUpdate=Z,!this._autoUpdate&&this._isAutoUpdating?(F.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(F.shared.add(this.update,this,U.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),V}(L.default);E.default=X,X.fromUrls=X.fromUrl},function(T,E,S){'use strict';E.__esModule=!0,E.Ticker=E.shared=void 0;var C=S(79),M=function(I){return I&&I.__esModule?I:{default:I}}(C),O=new M.default;O.autoStart=!0,O.destroy=function(){},E.shared=O,E.Ticker=M.default},function(T,E,S){'use strict';function P(F){return F&&F.__esModule?F:{default:F}}function C(F,U){if(!(F instanceof U))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=function(){function F(U,X){for(var Y=0,V;Y<X.length;Y++)V=X[Y],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(U,V.key,V)}return function(U,X,Y){return X&&F(U.prototype,X),Y&&F(U,Y),U}}(),O=S(54),I=P(O),A=S(23),D=S(80),L=P(D),N=function(){function F(){var U=this;C(this,F),this._head=new L.default(null,null,Infinity),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/I.default.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1,this._tick=function(X){U._requestId=null,U.started&&(U.update(X),U.started&&null===U._requestId&&U._head.next&&(U._requestId=requestAnimationFrame(U._tick)))}}return F.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},F.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},F.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},F.prototype.add=function(X,Y){var V=2<arguments.length&&void 0!==arguments[2]?arguments[2]:A.UPDATE_PRIORITY.NORMAL;return this._addListener(new L.default(X,Y,V))},F.prototype.addOnce=function(X,Y){var V=2<arguments.length&&void 0!==arguments[2]?arguments[2]:A.UPDATE_PRIORITY.NORMAL;return this._addListener(new L.default(X,Y,V,!0))},F.prototype._addListener=function(X){var Y=this._head.next,V=this._head;if(!Y)X.connect(V);else{for(;Y;){if(X.priority>Y.priority){X.connect(V);break}V=Y,Y=Y.next}X.previous||X.connect(V)}return this._startIfPossible(),this},F.prototype.remove=function(X,Y){for(var V=this._head.next;V;)V=V.match(X,Y)?V.destroy():V.next;return this._head.next||this._cancelIfNeeded(),this},F.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},F.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},F.prototype.destroy=function(){this.stop();for(var X=this._head.next;X;)X=X.destroy(!0);this._head.destroy(),this._head=null},F.prototype.update=function(){var X=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now(),Y;if(X>this.lastTime){Y=this.elapsedMS=X-this.lastTime,Y>this._maxElapsedMS&&(Y=this._maxElapsedMS),this.deltaTime=Y*I.default.TARGET_FPMS*this.speed;for(var V=this._head,K=V.next;K;)K=K.emit(this.deltaTime);V.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=X},M(F,[{key:'FPS',get:function(){return 1e3/this.elapsedMS}},{key:'minFPS',get:function(){return 1e3/this._maxElapsedMS},set:function(X){var Y=_Mathmin(_Mathmax(0,X)/1e3,I.default.TARGET_FPMS);this._maxElapsedMS=1/Y}}]),F}();E.default=N},function(T,E){'use strict';function S(C,M){if(!(C instanceof M))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var P=function(){function C(M){var O=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,I=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,A=3<arguments.length&&void 0!==arguments[3]&&arguments[3];S(this,C),this.fn=M,this.context=O,this.priority=I,this.once=A,this.next=null,this.previous=null,this._destroyed=!1}return C.prototype.match=function(O,I){return I=I||null,this.fn===O&&this.context===I},C.prototype.emit=function(O){this.fn&&(this.context?this.fn.call(this.context,O):this.fn(O));var I=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),I},C.prototype.connect=function(O){this.previous=O,O.next&&(O.next.previous=this),this.next=O.next,O.next=this},C.prototype.destroy=function(){var O=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var I=this.previous;return this.next=O?null:I,this.previous=null,I},C}();E.default=P},function(T,E,S){'use strict';function C(A,D){if(!(A instanceof D))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(28),O=function(A){return A&&A.__esModule?A:{default:A}}(M),I=function(){function A(){C(this,A),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return A.prototype.set=function(L,N,F){var U=N.width,X=N.height;if(F){var Y=L.width/2/U,V=L.height/2/X,K=L.x/U+Y,Z=L.y/X+V;F=O.default.add(F,O.default.NW),this.x0=K+Y*O.default.uX(F),this.y0=Z+V*O.default.uY(F),F=O.default.add(F,2),this.x1=K+Y*O.default.uX(F),this.y1=Z+V*O.default.uY(F),F=O.default.add(F,2),this.x2=K+Y*O.default.uX(F),this.y2=Z+V*O.default.uY(F),F=O.default.add(F,2),this.x3=K+Y*O.default.uX(F),this.y3=Z+V*O.default.uY(F)}else this.x0=L.x/U,this.y0=L.y/X,this.x1=(L.x+L.width)/U,this.y1=L.y/X,this.x2=(L.x+L.width)/U,this.y2=(L.y+L.height)/X,this.x3=L.x/U,this.y3=(L.y+L.height)/X;this.uvsUint32[0]=(65535&65535*this.y0)<<16|65535&65535*this.x0,this.uvsUint32[1]=(65535&65535*this.y1)<<16|65535&65535*this.x1,this.uvsUint32[2]=(65535&65535*this.y2)<<16|65535&65535*this.x2,this.uvsUint32[3]=(65535&65535*this.y3)<<16|65535&65535*this.x3},A}();E.default=I},function(T,E,S){'use strict';function P(U){return U&&U.__esModule?U:{default:U}}function C(U,X){if(!(U instanceof X))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(83),O=P(M),I=S(23),A=S(24),D=S(91),L=P(D),N=new A.Matrix,F=function(){function U(X){C(this,U),this.renderer=X}return U.prototype.render=function(Y){var V=Y._texture,K=this.renderer,Z=V._frame.width,J=V._frame.height,Q=Y.transform.worldTransform,$=0,te=0;if(!(0>=V.orig.width||0>=V.orig.height||!V.baseTexture.source)&&(K.setBlendMode(Y.blendMode),V.valid)){K.context.globalAlpha=Y.worldAlpha;var re=V.baseTexture.scaleMode===I.SCALE_MODES.LINEAR;K.smoothProperty&&K.context[K.smoothProperty]!==re&&(K.context[K.smoothProperty]=re),V.trim?($=V.trim.width/2+V.trim.x-Y.anchor.x*V.orig.width,te=V.trim.height/2+V.trim.y-Y.anchor.y*V.orig.height):($=(0.5-Y.anchor.x)*V.orig.width,te=(0.5-Y.anchor.y)*V.orig.height),V.rotate&&(Q.copy(N),Q=N,A.GroupD8.matrixAppendRotationInv(Q,V.rotate,$,te),$=0,te=0),$-=Z/2,te-=J/2,K.roundPixels?(K.context.setTransform(Q.a,Q.b,Q.c,Q.d,0|Q.tx*K.resolution,0|Q.ty*K.resolution),$|=0,te|=0):K.context.setTransform(Q.a,Q.b,Q.c,Q.d,Q.tx*K.resolution,Q.ty*K.resolution);var oe=V.baseTexture.resolution;16777215===Y.tint?K.context.drawImage(V.baseTexture.source,V._frame.x*oe,V._frame.y*oe,Z*oe,J*oe,$*K.resolution,te*K.resolution,Z*K.resolution,J*K.resolution):(Y.cachedTint!==Y.tint&&(Y.cachedTint=Y.tint,Y.tintedTexture=L.default.getTintedTexture(Y,Y.tint)),K.context.drawImage(Y.tintedTexture,0,0,Z*oe,J*oe,$*K.resolution,te*K.resolution,Z*K.resolution,J*K.resolution))}},U.prototype.destroy=function(){this.renderer=null},U}();E.default=F,O.default.registerPlugin('sprite',F)},function(T,E,S){'use strict';function P(Q){return Q&&Q.__esModule?Q:{default:Q}}function C(Q,$){if(!(Q instanceof $))throw new TypeError('Cannot call a class as a function')}function M(Q,$){if(!Q)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return $&&('object'==typeof $||'function'==typeof $)?$:Q}function O(Q,$){if('function'!=typeof $&&null!==$)throw new TypeError('Super expression must either be null or a function, not '+typeof $);Q.prototype=Object.create($&&$.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,$):Q.__proto__=$)}E.__esModule=!0;var I=S(84),A=P(I),D=S(87),L=P(D),N=S(88),F=P(N),U=S(89),X=P(U),Y=S(62),V=S(23),K=S(54),Z=P(K),J=function(Q){function $(te,re,oe){C(this,$);var ne=M(this,Q.call(this,'Canvas',te,re,oe));return ne.type=V.RENDERER_TYPE.CANVAS,ne.rootContext=ne.view.getContext('2d',{alpha:ne.transparent}),ne.refresh=!0,ne.maskManager=new L.default(ne),ne.smoothProperty='imageSmoothingEnabled',ne.rootContext.imageSmoothingEnabled||(ne.rootContext.webkitImageSmoothingEnabled?ne.smoothProperty='webkitImageSmoothingEnabled':ne.rootContext.mozImageSmoothingEnabled?ne.smoothProperty='mozImageSmoothingEnabled':ne.rootContext.oImageSmoothingEnabled?ne.smoothProperty='oImageSmoothingEnabled':ne.rootContext.msImageSmoothingEnabled&&(ne.smoothProperty='msImageSmoothingEnabled')),ne.initPlugins(),ne.blendModes=(0,X.default)(),ne._activeBlendMode=null,ne.context=null,ne.renderingToScreen=!1,ne.resize(ne.options.width,ne.options.height),ne}return O($,Q),$.prototype.render=function(re,oe,ne,ie,le){if(this.view){this.renderingToScreen=!oe,this.emit('prerender');var se=this.resolution;oe?(oe=oe.baseTexture||oe,!oe._canvasRenderTarget&&(oe._canvasRenderTarget=new F.default(oe.width,oe.height,oe.resolution),oe.source=oe._canvasRenderTarget.canvas,oe.valid=!0),this.context=oe._canvasRenderTarget.context,this.resolution=oe._canvasRenderTarget.resolution):this.context=this.rootContext;var de=this.context;if(oe||(this._lastObjectRendered=re),!le){var ue=re.parent,pe=this._tempDisplayObjectParent.transform.worldTransform;ie?(ie.copy(pe),this._tempDisplayObjectParent.transform._worldID=-1):pe.identity(),re.parent=this._tempDisplayObjectParent,re.updateTransform(),re.parent=ue}de.setTransform(1,0,0,1,0,0),de.globalAlpha=1,de.globalCompositeOperation=this.blendModes[V.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(de.fillStyle='black',de.clear()),(void 0===ne?this.clearBeforeRender:ne)&&this.renderingToScreen&&(this.transparent?de.clearRect(0,0,this.width,this.height):(de.fillStyle=this._backgroundColorString,de.fillRect(0,0,this.width,this.height)));var ce=this.context;this.context=de,re.renderCanvas(this),this.context=ce,this.resolution=se,this.emit('postrender')}},$.prototype.clear=function(re){var oe=this.context;re=re||this._backgroundColorString,!this.transparent&&re?(oe.fillStyle=re,oe.fillRect(0,0,this.width,this.height)):oe.clearRect(0,0,this.width,this.height)},$.prototype.setBlendMode=function(re){this._activeBlendMode===re||(this._activeBlendMode=re,this.context.globalCompositeOperation=this.blendModes[re])},$.prototype.destroy=function(re){this.destroyPlugins(),Q.prototype.destroy.call(this,re),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},$.prototype.resize=function(re,oe){Q.prototype.resize.call(this,re,oe),this.smoothProperty&&(this.rootContext[this.smoothProperty]=Z.default.SCALE_MODE===V.SCALE_MODES.LINEAR)},$}(A.default);E.default=J,Y.pluginTarget.mixin(J)},function(T,E,S){'use strict';function P($){return $&&$.__esModule?$:{default:$}}function C($,te){if(!($ instanceof te))throw new TypeError('Cannot call a class as a function')}function M($,te){if(!$)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return te&&('object'==typeof te||'function'==typeof te)?te:$}function O($,te){if('function'!=typeof te&&null!==te)throw new TypeError('Super expression must either be null or a function, not '+typeof te);$.prototype=Object.create(te&&te.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf($,te):$.__proto__=te)}E.__esModule=!0;var I=function(){function $(te,re){for(var oe=0,ne;oe<re.length;oe++)ne=re[oe],ne.enumerable=ne.enumerable||!1,ne.configurable=!0,'value'in ne&&(ne.writable=!0),Object.defineProperty(te,ne.key,ne)}return function(te,re,oe){return re&&$(te.prototype,re),oe&&$(te,oe),te}}(),A=S(62),D=S(24),L=S(23),N=S(54),F=P(N),U=S(61),X=P(U),Y=S(85),V=P(Y),K=S(53),Z=P(K),J=new D.Matrix,Q=function($){function te(re,oe,ne,ie){C(this,te);var le=M(this,$.call(this));return(0,A.sayHello)(re),'number'==typeof oe&&(oe=Object.assign({width:oe,height:ne||F.default.RENDER_OPTIONS.height},ie)),oe=Object.assign({},F.default.RENDER_OPTIONS,oe),le.options=oe,le.type=L.RENDERER_TYPE.UNKNOWN,le.screen=new D.Rectangle(0,0,oe.width,oe.height),le.view=oe.view||document.createElement('canvas'),le.resolution=oe.resolution||F.default.RESOLUTION,le.transparent=oe.transparent,le.autoResize=oe.autoResize||!1,le.blendModes=null,le.preserveDrawingBuffer=oe.preserveDrawingBuffer,le.clearBeforeRender=oe.clearBeforeRender,le.roundPixels=oe.roundPixels,le._backgroundColor=0,le._backgroundColorRgba=[0,0,0,0],le._backgroundColorString='#000000',le.backgroundColor=oe.backgroundColor||le._backgroundColor,le._tempDisplayObjectParent=new X.default,le._lastObjectRendered=le._tempDisplayObjectParent,le}return O(te,$),te.prototype.resize=function(oe,ne){this.screen.width=oe,this.screen.height=ne,this.view.width=oe*this.resolution,this.view.height=ne*this.resolution,this.autoResize&&(this.view.style.width=oe+'px',this.view.style.height=ne+'px')},te.prototype.generateTexture=function(oe,ne,ie){var le=oe.getLocalBounds(),se=V.default.create(0|le.width,0|le.height,ne,ie);return J.tx=-le.x,J.ty=-le.y,this.render(oe,se,!1,J,!0),se},te.prototype.destroy=function(oe){oe&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=L.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this.backgroundColor=0,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},I(te,[{key:'width',get:function(){return this.view.width}},{key:'height',get:function(){return this.view.height}},{key:'backgroundColor',get:function(){return this._backgroundColor},set:function(oe){this._backgroundColor=oe,this._backgroundColorString=(0,A.hex2string)(oe),(0,A.hex2rgb)(oe,this._backgroundColorRgba)}}]),te}(Z.default);E.default=Q},function(T,E,S){'use strict';function P(F){return F&&F.__esModule?F:{default:F}}function C(F,U){if(!(F instanceof U))throw new TypeError('Cannot call a class as a function')}function M(F,U){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:F}function O(F,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);F.prototype=Object.create(U&&U.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(F,U):F.__proto__=U)}E.__esModule=!0;var I=S(86),A=P(I),D=S(66),L=P(D),N=function(F){function U(X,Y){C(this,U);var V=null;if(!(X instanceof A.default)){var K=arguments[1],Z=arguments[2],J=arguments[3],Q=arguments[4];V=arguments[0],Y=null,X=new A.default(K,Z,J,Q)}var $=M(this,F.call(this,X,Y));return $.legacyRenderer=V,$.valid=!0,$._updateUvs(),$}return O(U,F),U.prototype.resize=function(Y,V,K){this.valid=0<Y&&0<V,this._frame.width=this.orig.width=Y,this._frame.height=this.orig.height=V,K||this.baseTexture.resize(Y,V),this._updateUvs()},U.create=function(Y,V,K,Z){return new U(new A.default(Y,V,K,Z))},U}(L.default);E.default=N},function(T,E,S){'use strict';function P(F){return F&&F.__esModule?F:{default:F}}function C(F,U){if(!(F instanceof U))throw new TypeError('Cannot call a class as a function')}function M(F,U){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:F}function O(F,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);F.prototype=Object.create(U&&U.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(F,U):F.__proto__=U)}E.__esModule=!0;var I=S(67),A=P(I),D=S(54),L=P(D),N=function(F){function U(){var X=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,Y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,V=arguments[2],K=arguments[3];C(this,U);var Z=M(this,F.call(this,null,V));return Z.resolution=K||L.default.RESOLUTION,Z.width=X,Z.height=Y,Z.realWidth=Z.width*Z.resolution,Z.realHeight=Z.height*Z.resolution,Z.scaleMode=void 0===V?L.default.SCALE_MODE:V,Z.hasLoaded=!0,Z._glRenderTargets={},Z._canvasRenderTarget=null,Z.valid=!1,Z}return O(U,F),U.prototype.resize=function(Y,V){(Y!==this.width||V!==this.height)&&(this.valid=0<Y&&0<V,this.width=Y,this.height=V,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit('update',this))},U.prototype.destroy=function(){F.prototype.destroy.call(this,!0),this.renderer=null},U}(A.default);E.default=N},function(T,E,S){'use strict';function P(O,I){if(!(O instanceof I))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(23),M=function(){function O(I){P(this,O),this.renderer=I}return O.prototype.pushMask=function(A){var D=this.renderer;D.context.save();var L=A.alpha,N=A.transform.worldTransform,F=D.resolution;D.context.setTransform(N.a*F,N.b*F,N.c*F,N.d*F,N.tx*F,N.ty*F),A._texture||(this.renderGraphicsShape(A),D.context.clip()),A.worldAlpha=L},O.prototype.renderGraphicsShape=function(A){var D=this.renderer.context,L=A.graphicsData.length;if(0!==L){D.beginPath();for(var N=0;N<L;N++){var F=A.graphicsData[N],U=F.shape;if(F.type===C.SHAPES.POLY){var X=U.points;D.moveTo(X[0],X[1]);for(var Y=1;Y<X.length/2;Y++)D.lineTo(X[2*Y],X[2*Y+1]);X[0]===X[X.length-2]&&X[1]===X[X.length-1]&&D.closePath()}else if(F.type===C.SHAPES.RECT)D.rect(U.x,U.y,U.width,U.height),D.closePath();else if(F.type===C.SHAPES.CIRC)D.arc(U.x,U.y,U.radius,0,2*_MathPI),D.closePath();else if(F.type===C.SHAPES.ELIP){var V=2*U.width,K=2*U.height,Z=U.x-V/2,J=U.y-K/2,Q=0.5522848,$=V/2*Q,te=K/2*Q,re=Z+V,oe=J+K,ne=Z+V/2,ie=J+K/2;D.moveTo(Z,ie),D.bezierCurveTo(Z,ie-te,ne-$,J,ne,J),D.bezierCurveTo(ne+$,J,re,ie-te,re,ie),D.bezierCurveTo(re,ie+te,ne+$,oe,ne,oe),D.bezierCurveTo(ne-$,oe,Z,ie+te,Z,ie),D.closePath()}else if(F.type===C.SHAPES.RREC){var le=U.x,se=U.y,de=U.width,ue=U.height,pe=U.radius,ce=0|_Mathmin(de,ue)/2;pe=pe>ce?ce:pe,D.moveTo(le,se+pe),D.lineTo(le,se+ue-pe),D.quadraticCurveTo(le,se+ue,le+pe,se+ue),D.lineTo(le+de-pe,se+ue),D.quadraticCurveTo(le+de,se+ue,le+de,se+ue-pe),D.lineTo(le+de,se+pe),D.quadraticCurveTo(le+de,se,le+de-pe,se),D.lineTo(le+pe,se),D.quadraticCurveTo(le,se,le,se+pe),D.closePath()}}}},O.prototype.popMask=function(A){A.context.restore()},O.prototype.destroy=function(){},O}();E.default=M},function(T,E,S){'use strict';function C(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=function(){function D(L,N){for(var F=0,U;F<N.length;F++)U=N[F],U.enumerable=U.enumerable||!1,U.configurable=!0,'value'in U&&(U.writable=!0),Object.defineProperty(L,U.key,U)}return function(L,N,F){return N&&D(L.prototype,N),F&&D(L,F),L}}(),O=S(54),I=function(D){return D&&D.__esModule?D:{default:D}}(O),A=function(){function D(L,N,F){C(this,D),this.canvas=document.createElement('canvas'),this.context=this.canvas.getContext('2d'),this.resolution=F||I.default.RESOLUTION,this.resize(L,N)}return D.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},D.prototype.resize=function(N,F){this.canvas.width=N*this.resolution,this.canvas.height=F*this.resolution},D.prototype.destroy=function(){this.context=null,this.canvas=null},M(D,[{key:'width',get:function(){return this.canvas.width},set:function(N){this.canvas.width=N}},{key:'height',get:function(){return this.canvas.height},set:function(N){this.canvas.height=N}}]),D}();E.default=A},function(T,E,S){'use strict';E.__esModule=!0,E.default=function(){var A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return(0,I.default)()?(A[M.BLEND_MODES.NORMAL]='source-over',A[M.BLEND_MODES.ADD]='lighter',A[M.BLEND_MODES.MULTIPLY]='multiply',A[M.BLEND_MODES.SCREEN]='screen',A[M.BLEND_MODES.OVERLAY]='overlay',A[M.BLEND_MODES.DARKEN]='darken',A[M.BLEND_MODES.LIGHTEN]='lighten',A[M.BLEND_MODES.COLOR_DODGE]='color-dodge',A[M.BLEND_MODES.COLOR_BURN]='color-burn',A[M.BLEND_MODES.HARD_LIGHT]='hard-light',A[M.BLEND_MODES.SOFT_LIGHT]='soft-light',A[M.BLEND_MODES.DIFFERENCE]='difference',A[M.BLEND_MODES.EXCLUSION]='exclusion',A[M.BLEND_MODES.HUE]='hue',A[M.BLEND_MODES.SATURATION]='saturate',A[M.BLEND_MODES.COLOR]='color',A[M.BLEND_MODES.LUMINOSITY]='luminosity'):(A[M.BLEND_MODES.NORMAL]='source-over',A[M.BLEND_MODES.ADD]='lighter',A[M.BLEND_MODES.MULTIPLY]='source-over',A[M.BLEND_MODES.SCREEN]='source-over',A[M.BLEND_MODES.OVERLAY]='source-over',A[M.BLEND_MODES.DARKEN]='source-over',A[M.BLEND_MODES.LIGHTEN]='source-over',A[M.BLEND_MODES.COLOR_DODGE]='source-over',A[M.BLEND_MODES.COLOR_BURN]='source-over',A[M.BLEND_MODES.HARD_LIGHT]='source-over',A[M.BLEND_MODES.SOFT_LIGHT]='source-over',A[M.BLEND_MODES.DIFFERENCE]='source-over',A[M.BLEND_MODES.EXCLUSION]='source-over',A[M.BLEND_MODES.HUE]='source-over',A[M.BLEND_MODES.SATURATION]='source-over',A[M.BLEND_MODES.COLOR]='source-over',A[M.BLEND_MODES.LUMINOSITY]='source-over'),A};var M=S(23),O=S(90),I=function(A){return A&&A.__esModule?A:{default:A}}(O)},function(T,E){'use strict';function S(C){var M=document.createElement('canvas');M.width=6,M.height=1;var O=M.getContext('2d');return O.fillStyle=C,O.fillRect(0,0,6,1),M}E.__esModule=!0,E.default=function(){if('undefined'==typeof document)return!1;var C=S('#ff00ff'),M=S('#ffff00'),O=document.createElement('canvas');O.width=6,O.height=1;var I=O.getContext('2d');I.globalCompositeOperation='multiply',I.drawImage(C,0,0),I.drawImage(M,2,0);var A=I.getImageData(2,0,1,1);if(!A)return!1;var D=A.data;return 255===D[0]&&0===D[1]&&0===D[2]}},function(T,E,S){'use strict';E.__esModule=!0;var C=S(62),M=S(90),O=function(A){return A&&A.__esModule?A:{default:A}}(M),I={getTintedTexture:function(D,L){var N=D._texture;L=I.roundColor(L);var F='#'+('00000'+(0|L).toString(16)).substr(-6);if(N.tintCache=N.tintCache||{},N.tintCache[F])return N.tintCache[F];var U=I.canvas||document.createElement('canvas');if(I.tintMethod(N,L,U),I.convertTintToImage){var X=new Image;X.src=U.toDataURL(),N.tintCache[F]=X}else N.tintCache[F]=U,I.canvas=null;return U},tintWithMultiply:function(D,L,N){var F=N.getContext('2d'),U=D._frame.clone(),X=D.baseTexture.resolution;U.x*=X,U.y*=X,U.width*=X,U.height*=X,N.width=_Mathceil(U.width),N.height=_Mathceil(U.height),F.fillStyle='#'+('00000'+(0|L).toString(16)).substr(-6),F.fillRect(0,0,U.width,U.height),F.globalCompositeOperation='multiply',F.drawImage(D.baseTexture.source,U.x,U.y,U.width,U.height,0,0,U.width,U.height),F.globalCompositeOperation='destination-atop',F.drawImage(D.baseTexture.source,U.x,U.y,U.width,U.height,0,0,U.width,U.height)},tintWithOverlay:function(D,L,N){var F=N.getContext('2d'),U=D._frame.clone(),X=D.baseTexture.resolution;U.x*=X,U.y*=X,U.width*=X,U.height*=X,N.width=_Mathceil(U.width),N.height=_Mathceil(U.height),F.globalCompositeOperation='copy',F.fillStyle='#'+('00000'+(0|L).toString(16)).substr(-6),F.fillRect(0,0,U.width,U.height),F.globalCompositeOperation='destination-atop',F.drawImage(D.baseTexture.source,U.x,U.y,U.width,U.height,0,0,U.width,U.height)},tintWithPerPixel:function(D,L,N){var F=N.getContext('2d'),U=D._frame.clone(),X=D.baseTexture.resolution;U.x*=X,U.y*=X,U.width*=X,U.height*=X,N.width=_Mathceil(U.width),N.height=_Mathceil(U.height),F.globalCompositeOperation='copy',F.drawImage(D.baseTexture.source,U.x,U.y,U.width,U.height,0,0,U.width,U.height);for(var Y=(0,C.hex2rgb)(L),V=Y[0],K=Y[1],Z=Y[2],J=F.getImageData(0,0,U.width,U.height),Q=J.data,$=0;$<Q.length;$+=4)Q[$+0]*=V,Q[$+1]*=K,Q[$+2]*=Z;F.putImageData(J,0,0)},roundColor:function(D){var L=I.cacheStepsPerColorChannel,N=(0,C.hex2rgb)(D);return N[0]=_Mathmin(255,N[0]/L*L),N[1]=_Mathmin(255,N[1]/L*L),N[2]=_Mathmin(255,N[2]/L*L),(0,C.rgb2hex)(N)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,O.default)(),tintMethod:0};I.tintMethod=I.canUseMultiply?I.tintWithMultiply:I.tintWithPerPixel,E.default=I},function(T,E,S){'use strict';function P(se){return se&&se.__esModule?se:{default:se}}function C(se,de){if(!(se instanceof de))throw new TypeError('Cannot call a class as a function')}function M(se,de){if(!se)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return de&&('object'==typeof de||'function'==typeof de)?de:se}function O(se,de){if('function'!=typeof de&&null!==de)throw new TypeError('Super expression must either be null or a function, not '+typeof de);se.prototype=Object.create(de&&de.prototype,{constructor:{value:se,enumerable:!1,writable:!0,configurable:!0}}),de&&(Object.setPrototypeOf?Object.setPrototypeOf(se,de):se.__proto__=de)}E.__esModule=!0;var I=S(93),A=P(I),D=S(95),L=P(D),N=S(106),F=P(N),U=S(115),X=P(U),Y=S(116),V=P(Y),K=S(117),Z=P(K),J=S(54),Q=P(J),$=S(34),te=P($),re=S(76),oe=P(re),ne=0,ie=0,le=function(se){function de(ue){C(this,de);var pe=M(this,se.call(this,ue));pe.vertSize=5,pe.vertByteSize=4*pe.vertSize,pe.size=Q.default.SPRITE_BATCH_SIZE,pe.buffers=[];for(var ce=1;ce<=oe.default.nextPow2(pe.size);ce*=2)pe.buffers.push(new Z.default(4*ce*pe.vertByteSize));pe.indices=(0,F.default)(pe.size),pe.shader=null,pe.currentIndex=0,pe.groups=[];for(var fe=0;fe<pe.size;fe++)pe.groups[fe]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return pe.sprites=[],pe.vertexBuffers=[],pe.vaos=[],pe.vaoMax=2,pe.vertexCount=0,pe.renderer.on('prerender',pe.onPrerender,pe),pe}return O(de,se),de.prototype.onContextChange=function(){var pe=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=_Mathmin(pe.getParameter(pe.MAX_TEXTURE_IMAGE_UNITS),Q.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,V.default)(this.MAX_TEXTURES,pe)),this.shader=(0,X.default)(pe,this.MAX_TEXTURES),this.indexBuffer=te.default.GLBuffer.createIndexBuffer(pe,this.indices,pe.STATIC_DRAW),this.renderer.bindVao(null);for(var ce=this.shader.attributes,fe=0;fe<this.vaoMax;fe++){var he=this.vertexBuffers[fe]=te.default.GLBuffer.createVertexBuffer(pe,null,pe.STREAM_DRAW),ge=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(he,ce.aVertexPosition,pe.FLOAT,!1,this.vertByteSize,0).addAttribute(he,ce.aTextureCoord,pe.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(he,ce.aColor,pe.UNSIGNED_BYTE,!0,this.vertByteSize,12);ce.aTextureId&&ge.addAttribute(he,ce.aTextureId,pe.FLOAT,!1,this.vertByteSize,16),this.vaos[fe]=ge}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=Array(this.MAX_TEXTURES)},de.prototype.onPrerender=function(){this.vertexCount=0},de.prototype.render=function(pe){this.currentIndex>=this.size&&this.flush(),pe._texture._uvs&&(this.sprites[this.currentIndex++]=pe)},de.prototype.flush=function(){if(0!==this.currentIndex){var pe=this.renderer.gl,ce=this.MAX_TEXTURES,fe=oe.default.nextPow2(this.currentIndex),he=oe.default.log2(fe),ge=this.buffers[he],_e=this.sprites,be=this.groups,ve=ge.float32View,Te=ge.uint32View,Ee=this.boundTextures,Se=this.renderer.boundTextures,Pe=this.renderer.textureGC.count,Ce=0,Ie=1,Re=0,Ae=be[0],ke=_e[0].blendMode,Me,Oe,we,De;Ae.textureCount=0,Ae.start=0,Ae.blend=ke,ne++;var Le=void 0;for(Le=0;Le<ce;++Le)Ee[Le]=Se[Le],Ee[Le]._virtalBoundId=Le;for(Le=0;Le<this.currentIndex;++Le){var Ne=_e[Le];if(Me=Ne._texture.baseTexture,ke!==Ne.blendMode&&(ke=Ne.blendMode,Oe=null,Re=ce,ne++),Oe!==Me&&(Oe=Me,Me._enabled!==ne)){if(Re===ce&&(ne++,Ae.size=Le-Ae.start,Re=0,Ae=be[Ie++],Ae.blend=ke,Ae.textureCount=0,Ae.start=Le),Me.touched=Pe,-1===Me._virtalBoundId)for(var Fe=0;Fe<ce;++Fe){var Be=(Fe+ie)%ce,Ue=Ee[Be];if(Ue._enabled!==ne){ie++,Ue._virtalBoundId=-1,Me._virtalBoundId=Be,Ee[Be]=Me;break}}Me._enabled=ne,Ae.textureCount++,Ae.ids[Re]=Me._virtalBoundId,Ae.textures[Re++]=Me}if(we=Ne.vertexData,De=Ne._texture._uvs.uvsUint32,this.renderer.roundPixels){var Xe=this.renderer.resolution;ve[Ce]=(0|we[0]*Xe)/Xe,ve[Ce+1]=(0|we[1]*Xe)/Xe,ve[Ce+5]=(0|we[2]*Xe)/Xe,ve[Ce+6]=(0|we[3]*Xe)/Xe,ve[Ce+10]=(0|we[4]*Xe)/Xe,ve[Ce+11]=(0|we[5]*Xe)/Xe,ve[Ce+15]=(0|we[6]*Xe)/Xe,ve[Ce+16]=(0|we[7]*Xe)/Xe}else ve[Ce]=we[0],ve[Ce+1]=we[1],ve[Ce+5]=we[2],ve[Ce+6]=we[3],ve[Ce+10]=we[4],ve[Ce+11]=we[5],ve[Ce+15]=we[6],ve[Ce+16]=we[7];Te[Ce+2]=De[0],Te[Ce+7]=De[1],Te[Ce+12]=De[2],Te[Ce+17]=De[3],Te[Ce+3]=Te[Ce+8]=Te[Ce+13]=Te[Ce+18]=Ne._tintRGB+(255*_Mathmin(Ne.worldAlpha,1)<<24),ve[Ce+4]=ve[Ce+9]=ve[Ce+14]=ve[Ce+19]=Me._virtalBoundId,Ce+=20}if(Ae.size=Le-Ae.start,!Q.default.CAN_UPLOAD_SAME_BUFFER){if(this.vaoMax<=this.vertexCount){this.vaoMax++;var Ge=this.shader.attributes,We=this.vertexBuffers[this.vertexCount]=te.default.GLBuffer.createVertexBuffer(pe,null,pe.STREAM_DRAW),je=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(We,Ge.aVertexPosition,pe.FLOAT,!1,this.vertByteSize,0).addAttribute(We,Ge.aTextureCoord,pe.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(We,Ge.aColor,pe.UNSIGNED_BYTE,!0,this.vertByteSize,12);Ge.aTextureId&&je.addAttribute(We,Ge.aTextureId,pe.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=je}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(ge.vertices,0,!1),this.vertexCount++}else this.vertexBuffers[this.vertexCount].upload(ge.vertices,0,!0);for(Le=0;Le<ce;++Le)Se[Le]._virtalBoundId=-1;for(Le=0;Le<Ie;++Le){for(var He=be[Le],ze=He.textureCount,Ye=0;Ye<ze;Ye++)Oe=He.textures[Ye],Se[He.ids[Ye]]!==Oe&&this.renderer.bindTexture(Oe,He.ids[Ye],!0),Oe._virtalBoundId=-1;this.renderer.state.setBlendMode(He.blend),pe.drawElements(pe.TRIANGLES,6*He.size,pe.UNSIGNED_SHORT,2*(6*He.start))}this.currentIndex=0}},de.prototype.start=function(){this.renderer.bindShader(this.shader),Q.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},de.prototype.stop=function(){this.flush()},de.prototype.destroy=function(){for(var pe=0;pe<this.vaoMax;pe++)this.vertexBuffers[pe]&&this.vertexBuffers[pe].destroy(),this.vaos[pe]&&this.vaos[pe].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off('prerender',this.onPrerender,this),se.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var ce=0;ce<this.buffers.length;++ce)this.buffers[ce].destroy()},de}(A.default);E.default=le,L.default.registerPlugin('sprite',le)},function(T,E,S){'use strict';function C(L,N){if(!(L instanceof N))throw new TypeError('Cannot call a class as a function')}function M(L,N){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:L}function O(L,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);L.prototype=Object.create(N&&N.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(L,N):L.__proto__=N)}E.__esModule=!0;var I=S(94),A=function(L){return L&&L.__esModule?L:{default:L}}(I),D=function(L){function N(){return C(this,N),M(this,L.apply(this,arguments))}return O(N,L),N.prototype.start=function(){},N.prototype.stop=function(){this.flush()},N.prototype.flush=function(){},N.prototype.render=function(){},N}(A.default);E.default=D},function(T,E){'use strict';function S(C,M){if(!(C instanceof M))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var P=function(){function C(M){S(this,C),this.renderer=M,this.renderer.on('context',this.onContextChange,this)}return C.prototype.onContextChange=function(){},C.prototype.destroy=function(){this.renderer.off('context',this.onContextChange,this),this.renderer=null},C}();E.default=P},function(T,E,S){'use strict';function P(be){return be&&be.__esModule?be:{default:be}}function C(be,ve){if(!(be instanceof ve))throw new TypeError('Cannot call a class as a function')}function M(be,ve){if(!be)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return ve&&('object'==typeof ve||'function'==typeof ve)?ve:be}function O(be,ve){if('function'!=typeof ve&&null!==ve)throw new TypeError('Super expression must either be null or a function, not '+typeof ve);be.prototype=Object.create(ve&&ve.prototype,{constructor:{value:be,enumerable:!1,writable:!0,configurable:!0}}),ve&&(Object.setPrototypeOf?Object.setPrototypeOf(be,ve):be.__proto__=ve)}E.__esModule=!0;var I=S(84),A=P(I),D=S(96),L=P(D),N=S(102),F=P(N),U=S(103),X=P(U),Y=S(104),V=P(Y),K=S(93),Z=P(K),J=S(109),Q=P(J),$=S(67),te=P($),re=S(110),oe=P(re),ne=S(111),ie=P(ne),le=S(113),se=P(le),de=S(114),ue=P(de),pe=S(62),ce=S(34),fe=P(ce),he=S(23),ge=0,_e=function(be){function ve(Te,Ee,Se){C(this,ve);var Pe=M(this,be.call(this,'WebGL',Te,Ee,Se));return Pe.legacy=Pe.options.legacy,Pe.legacy&&(fe.default.VertexArrayObject.FORCE_NATIVE=!0),Pe.type=he.RENDERER_TYPE.WEBGL,Pe.handleContextLost=Pe.handleContextLost.bind(Pe),Pe.handleContextRestored=Pe.handleContextRestored.bind(Pe),Pe.view.addEventListener('webglcontextlost',Pe.handleContextLost,!1),Pe.view.addEventListener('webglcontextrestored',Pe.handleContextRestored,!1),Pe._contextOptions={alpha:Pe.transparent,antialias:Pe.options.antialias,premultipliedAlpha:Pe.transparent&&'notMultiplied'!==Pe.transparent,stencil:!0,preserveDrawingBuffer:Pe.options.preserveDrawingBuffer},Pe._backgroundColorRgba[3]=Pe.transparent?0:1,Pe.maskManager=new L.default(Pe),Pe.stencilManager=new F.default(Pe),Pe.emptyRenderer=new Z.default(Pe),Pe.currentRenderer=Pe.emptyRenderer,Pe.initPlugins(),Pe.options.context&&(0,ue.default)(Pe.options.context),Pe.gl=Pe.options.context||fe.default.createContext(Pe.view,Pe._contextOptions),Pe.CONTEXT_UID=ge++,Pe.state=new ie.default(Pe.gl),Pe.renderingToScreen=!0,Pe.boundTextures=null,Pe._activeShader=null,Pe._activeVao=null,Pe._activeRenderTarget=null,Pe._initContext(),Pe.filterManager=new X.default(Pe),Pe.drawModes=(0,se.default)(Pe.gl),Pe._nextTextureLocation=0,Pe.setBlendMode(0),Pe}return O(ve,be),ve.prototype._initContext=function(){var Ee=this.gl;Ee.isContextLost()&&Ee.getExtension('WEBGL_lose_context')&&Ee.getExtension('WEBGL_lose_context').restoreContext();var Se=Ee.getParameter(Ee.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures=Array(Se),this.emptyTextures=Array(Se),this.textureManager=new Q.default(this),this.textureGC=new oe.default(this),this.state.resetToDefault(),this.rootRenderTarget=new V.default(Ee,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var Pe=new fe.default.GLTexture.fromData(Ee,null,1,1),Ce={_glTextures:{}};Ce._glTextures[this.CONTEXT_UID]={};for(var Me=0,Oe;Me<Se;Me++)Oe=new te.default,Oe._glTextures[this.CONTEXT_UID]=Pe,this.boundTextures[Me]=Ce,this.emptyTextures[Me]=Oe,this.bindTexture(null,Me);this.emit('context',Ee),this.resize(this.screen.width,this.screen.height)},ve.prototype.render=function(Ee,Se,Pe,Ce,Me){if(this.renderingToScreen=!Se,this.emit('prerender'),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,Se||(this._lastObjectRendered=Ee),!Me){var Oe=Ee.parent;Ee.parent=this._tempDisplayObjectParent,Ee.updateTransform(),Ee.parent=Oe}this.bindRenderTexture(Se,Ce),this.currentRenderer.start(),(void 0===Pe?this.clearBeforeRender:Pe)&&this._activeRenderTarget.clear(),Ee.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit('postrender')}},ve.prototype.setObjectRenderer=function(Ee){this.currentRenderer===Ee||(this.currentRenderer.stop(),this.currentRenderer=Ee,this.currentRenderer.start())},ve.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},ve.prototype.resize=function(Ee,Se){A.default.prototype.resize.call(this,Ee,Se),this.rootRenderTarget.resize(Ee,Se),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},ve.prototype.setBlendMode=function(Ee){this.state.setBlendMode(Ee)},ve.prototype.clear=function(Ee){this._activeRenderTarget.clear(Ee)},ve.prototype.setTransform=function(Ee){this._activeRenderTarget.transform=Ee},ve.prototype.clearRenderTexture=function(Ee,Se){var Pe=Ee.baseTexture,Ce=Pe._glRenderTargets[this.CONTEXT_UID];return Ce&&Ce.clear(Se),this},ve.prototype.bindRenderTexture=function(Ee,Se){var Pe;if(Ee){var Ce=Ee.baseTexture;Ce._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(Ce,0),this.unbindTexture(Ce),Pe=Ce._glRenderTargets[this.CONTEXT_UID],Pe.setFrame(Ee.frame)}else Pe=this.rootRenderTarget;return Pe.transform=Se,this.bindRenderTarget(Pe),this},ve.prototype.bindRenderTarget=function(Ee){return Ee!==this._activeRenderTarget&&(this._activeRenderTarget=Ee,Ee.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=Ee.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(Ee.stencilMaskStack)),this},ve.prototype.bindShader=function(Ee,Se){return this._activeShader!==Ee&&(this._activeShader=Ee,Ee.bind(),!1!==Se&&(Ee.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},ve.prototype.bindTexture=function(Ee,Se,Pe){if(Ee=Ee||this.emptyTextures[Se],Ee=Ee.baseTexture||Ee,Ee.touched=this.textureGC.count,!Pe){for(var Ce=0;Ce<this.boundTextures.length;Ce++)if(this.boundTextures[Ce]===Ee)return Ce;void 0===Se&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,Se=this.boundTextures.length-this._nextTextureLocation-1)}else Se=Se||0;var Me=this.gl,Oe=Ee._glTextures[this.CONTEXT_UID];return Oe?(this.boundTextures[Se]=Ee,Me.activeTexture(Me.TEXTURE0+Se),Me.bindTexture(Me.TEXTURE_2D,Oe.texture)):this.textureManager.updateTexture(Ee,Se),Se},ve.prototype.unbindTexture=function(Ee){var Se=this.gl;Ee=Ee.baseTexture||Ee;for(var Pe=0;Pe<this.boundTextures.length;Pe++)this.boundTextures[Pe]===Ee&&(this.boundTextures[Pe]=this.emptyTextures[Pe],Se.activeTexture(Se.TEXTURE0+Pe),Se.bindTexture(Se.TEXTURE_2D,this.emptyTextures[Pe]._glTextures[this.CONTEXT_UID].texture));return this},ve.prototype.createVao=function(){return new fe.default.VertexArrayObject(this.gl,this.state.attribState)},ve.prototype.bindVao=function(Ee){return this._activeVao===Ee?this:(Ee?Ee.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=Ee,this)},ve.prototype.reset=function(){return this.setObjectRenderer(this.emptyRenderer),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this.rootRenderTarget.activate(),this.state.resetToDefault(),this},ve.prototype.handleContextLost=function(Ee){Ee.preventDefault()},ve.prototype.handleContextRestored=function(){this._initContext(),this.textureManager.removeAll()},ve.prototype.destroy=function(Ee){this.destroyPlugins(),this.view.removeEventListener('webglcontextlost',this.handleContextLost),this.view.removeEventListener('webglcontextrestored',this.handleContextRestored),this.textureManager.destroy(),be.prototype.destroy.call(this,Ee),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension('WEBGL_lose_context')&&this.gl.getExtension('WEBGL_lose_context').loseContext(),this.gl=null},ve}(A.default);E.default=_e,pe.pluginTarget.mixin(_e)},function(T,E,S){'use strict';function P(F){return F&&F.__esModule?F:{default:F}}function C(F,U){if(!(F instanceof U))throw new TypeError('Cannot call a class as a function')}function M(F,U){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:F}function O(F,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);F.prototype=Object.create(U&&U.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(F,U):F.__proto__=U)}E.__esModule=!0;var I=S(94),A=P(I),D=S(97),L=P(D),N=function(F){function U(X){C(this,U);var Y=M(this,F.call(this,X));return Y.scissor=!1,Y.scissorData=null,Y.scissorRenderTarget=null,Y.enableScissor=!0,Y.alphaMaskPool=[],Y.alphaMaskIndex=0,Y}return O(U,F),U.prototype.pushMask=function(Y,V){if(V.texture)this.pushSpriteMask(Y,V);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&V.isFastRect()){var K=V.worldTransform,Z=_Mathatan(K.b,K.a);Z=_Mathround(Z*(180/_MathPI)),Z%90?this.pushStencilMask(V):this.pushScissorMask(Y,V)}else this.pushStencilMask(V)},U.prototype.popMask=function(Y,V){V.texture?this.popSpriteMask(Y,V):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(Y,V):this.popStencilMask(Y,V)},U.prototype.pushSpriteMask=function(Y,V){var K=this.alphaMaskPool[this.alphaMaskIndex];K||(K=this.alphaMaskPool[this.alphaMaskIndex]=[new L.default(V)]),K[0].resolution=this.renderer.resolution,K[0].maskSprite=V,Y.filterArea=V.getBounds(!0),this.renderer.filterManager.pushFilter(Y,K),this.alphaMaskIndex++},U.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},U.prototype.pushStencilMask=function(Y){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(Y)},U.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},U.prototype.pushScissorMask=function(Y,V){V.renderable=!0;var K=this.renderer._activeRenderTarget,Z=V.getBounds();Z.fit(K.size),V.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var J=this.renderer.resolution;this.renderer.gl.scissor(Z.x*J,(K.root?K.size.height-Z.y-Z.height:Z.y)*J,Z.width*J,Z.height*J),this.scissorRenderTarget=K,this.scissorData=V,this.scissor=!0},U.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var Y=this.renderer.gl;Y.disable(Y.SCISSOR_TEST)},U}(A.default);E.default=N},function(T,E,S){'use strict';function C(F,U){if(!(F instanceof U))throw new TypeError('Cannot call a class as a function')}function M(F,U){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:F}function O(F,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);F.prototype=Object.create(U&&U.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(F,U):F.__proto__=U)}E.__esModule=!0;var I=S(98),A=function(F){return F&&F.__esModule?F:{default:F}}(I),D=S(24),L=S(100),N=function(F){function U(X){C(this,U);var Y=new D.Matrix,V=M(this,F.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n','varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n'));return X.renderable=!1,V.maskSprite=X,V.maskMatrix=Y,V}return O(U,F),U.prototype.apply=function(Y,V,K){var Z=this.maskSprite;this.uniforms.mask=Z._texture,this.uniforms.otherMatrix=Y.calculateSpriteMatrix(this.maskMatrix,Z),this.uniforms.alpha=Z.worldAlpha,Y.applyFilter(this,V,K)},U}(A.default);E.default=N},function(T,E,S){'use strict';function P(X){return X&&X.__esModule?X:{default:X}}function C(X,Y){if(!(X instanceof Y))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=function(){function X(Y,V){for(var K=0,Z;K<V.length;K++)Z=V[K],Z.enumerable=Z.enumerable||!1,Z.configurable=!0,'value'in Z&&(Z.writable=!0),Object.defineProperty(Y,Z.key,Z)}return function(Y,V,K){return V&&X(Y.prototype,V),K&&X(Y,K),Y}}(),O=S(99),I=P(O),A=S(62),D=S(23),L=S(54),N=P(L),F={},U=function(){function X(Y,V,K){for(var Z in C(this,X),this.vertexSrc=Y||X.defaultVertexSrc,this.fragmentSrc=V||X.defaultFragmentSrc,this.blendMode=D.BLEND_MODES.NORMAL,this.uniformData=K||(0,I.default)(this.vertexSrc,this.fragmentSrc,'projectionMatrix|uSampler'),this.uniforms={},this.uniformData)this.uniforms[Z]=this.uniformData[Z].value;this.glShaders={},F[this.vertexSrc+this.fragmentSrc]||(F[this.vertexSrc+this.fragmentSrc]=(0,A.uid)()),this.glShaderKey=F[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=N.default.RESOLUTION,this.enabled=!0,this.autoFit=!0}return X.prototype.apply=function(V,K,Z,J){V.applyFilter(this,K,Z,J)},M(X,null,[{key:'defaultVertexSrc',get:function(){return['attribute vec2 aVertexPosition;','attribute vec2 aTextureCoord;','uniform mat3 projectionMatrix;','uniform mat3 filterMatrix;','varying vec2 vTextureCoord;','varying vec2 vFilterCoord;','void main(void){','   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);','   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;','   vTextureCoord = aTextureCoord ;','}'].join('\n')}},{key:'defaultFragmentSrc',get:function(){return['varying vec2 vTextureCoord;','varying vec2 vFilterCoord;','uniform sampler2D uSampler;','uniform sampler2D filterSampler;','void main(void){','   vec4 masky = texture2D(filterSampler, vFilterCoord);','   vec4 sample = texture2D(uSampler, vTextureCoord);','   vec4 color;','   if(mod(vFilterCoord.x, 1.0) > 0.5)','   {','     color = vec4(1.0, 0.0, 0.0, 1.0);','   }','   else','   {','     color = vec4(0.0, 1.0, 0.0, 1.0);','   }','   gl_FragColor = mix(sample, masky, 0.5);','   gl_FragColor *= sample.a;','}'].join('\n')}}]),X}();E.default=U},function(T,E,S){'use strict';function M(D){for(var L=/^(projectionMatrix|uSampler|filterArea|filterClamp)$/,N={},F=void 0,U=D.replace(/\s+/g,' ').split(/\s*;\s*/),X=0,Y;X<U.length;X++)if(Y=U[X].trim(),-1<Y.indexOf('uniform')){var V=Y.split(' '),K=V[1],Z=V[2],J=1;-1<Z.indexOf('[')&&(F=Z.split(/\[|]/),Z=F[0],J*=+F[1]),Z.match(L)||(N[Z]={value:A(K,J),name:Z,type:K})}return N}E.__esModule=!0,E.default=function(D,L,N){var F=M(D,N),U=M(L,N);return Object.assign(F,U)};var O=S(34),I=function(D){return D&&D.__esModule?D:{default:D}}(O),A=I.default.shader.defaultValue},function(T,E,S){(function(P){function C(D,L){for(var N=0,F=D.length-1,U;0<=F;F--)U=D[F],'.'===U?D.splice(F,1):'..'===U?(D.splice(F,1),N++):N&&(D.splice(F,1),N--);if(L)for(;N--;N)D.unshift('..');return D}function M(D,L){if(D.filter)return D.filter(L);for(var N=[],F=0;F<D.length;F++)L(D[F],F,D)&&N.push(D[F]);return N}var O=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,I=function(D){return O.exec(D).slice(1)};E.resolve=function(){for(var D='',L=!1,N=arguments.length-1,F;-1<=N&&!L;N--){if(F=0<=N?arguments[N]:P.cwd(),'string'!=typeof F)throw new TypeError('Arguments to path.resolve must be strings');else if(!F)continue;D=F+'/'+D,L='/'===F.charAt(0)}return D=C(M(D.split('/'),function(U){return!!U}),!L).join('/'),(L?'/':'')+D||'.'},E.normalize=function(D){var L=E.isAbsolute(D),N='/'===A(D,-1);return D=C(M(D.split('/'),function(F){return!!F}),!L).join('/'),D||L||(D='.'),D&&N&&(D+='/'),(L?'/':'')+D},E.isAbsolute=function(D){return'/'===D.charAt(0)},E.join=function(){var D=Array.prototype.slice.call(arguments,0);return E.normalize(M(D,function(L){if('string'!=typeof L)throw new TypeError('Arguments to path.join must be strings');return L}).join('/'))},E.relative=function(D,L){function N(Z){for(var J=0;J<Z.length&&''===Z[J];J++);for(var Q=Z.length-1;0<=Q&&''===Z[Q];Q--);return J>Q?[]:Z.slice(J,Q-J+1)}D=E.resolve(D).substr(1),L=E.resolve(L).substr(1);for(var F=N(D.split('/')),U=N(L.split('/')),X=_Mathmin(F.length,U.length),Y=X,V=0;V<X;V++)if(F[V]!==U[V]){Y=V;break}for(var K=[],V=Y;V<F.length;V++)K.push('..');return K=K.concat(U.slice(Y)),K.join('/')},E.sep='/',E.delimiter=':',E.dirname=function(D){var L=I(D),N=L[0],F=L[1];return N||F?(F&&(F=F.substr(0,F.length-1)),N+F):'.'},E.basename=function(D,L){var N=I(D)[2];return L&&N.substr(-1*L.length)===L&&(N=N.substr(0,N.length-L.length)),N},E.extname=function(D){return I(D)[3]};var A=function(D,L,N){return D.substr(L,N)}}).call(E,S(101))},function(T){function S(){throw new Error('setTimeout has not been defined')}function P(){throw new Error('clearTimeout has not been defined')}function C(K){if(N===setTimeout)return setTimeout(K,0);if((N===S||!N)&&setTimeout)return N=setTimeout,setTimeout(K,0);try{return N(K,0)}catch(Z){try{return N.call(null,K,0)}catch(J){return N.call(this,K,0)}}}function M(K){if(F===clearTimeout)return clearTimeout(K);if((F===P||!F)&&clearTimeout)return F=clearTimeout,clearTimeout(K);try{return F(K)}catch(Z){try{return F.call(null,K)}catch(J){return F.call(this,K)}}}function O(){X&&Y&&(X=!1,Y.length?U=Y.concat(U):V=-1,U.length&&I())}function I(){if(!X){var K=C(O);X=!0;for(var Z=U.length;Z;){for(Y=U,U=[];++V<Z;)Y&&Y[V].run();V=-1,Z=U.length}Y=null,X=!1,M(K)}}function A(K,Z){this.fun=K,this.array=Z}function D(){}var L=T.exports={},N,F;(function(){try{N='function'==typeof setTimeout?setTimeout:S}catch(K){N=S}try{F='function'==typeof clearTimeout?clearTimeout:P}catch(K){F=P}})();var U=[],X=!1,Y,V=-1;L.nextTick=function(K){var Z=Array(arguments.length-1);if(1<arguments.length)for(var J=1;J<arguments.length;J++)Z[J-1]=arguments[J];U.push(new A(K,Z)),1!==U.length||X||C(I)},A.prototype.run=function(){this.fun.apply(null,this.array)},L.title='browser',L.browser=!0,L.env={},L.argv=[],L.version='',L.versions={},L.on=D,L.addListener=D,L.once=D,L.off=D,L.removeListener=D,L.removeAllListeners=D,L.emit=D,L.prependListener=D,L.prependOnceListener=D,L.listeners=function(){return[]},L.binding=function(){throw new Error('process.binding is not supported')},L.cwd=function(){return'/'},L.chdir=function(){throw new Error('process.chdir is not supported')},L.umask=function(){return 0}},function(T,E,S){'use strict';function C(L,N){if(!(L instanceof N))throw new TypeError('Cannot call a class as a function')}function M(L,N){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:L}function O(L,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);L.prototype=Object.create(N&&N.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(L,N):L.__proto__=N)}E.__esModule=!0;var I=S(94),A=function(L){return L&&L.__esModule?L:{default:L}}(I),D=function(L){function N(F){C(this,N);var U=M(this,L.call(this,F));return U.stencilMaskStack=null,U}return O(N,L),N.prototype.setMaskStack=function(U){this.stencilMaskStack=U;var X=this.renderer.gl;0===U.length?X.disable(X.STENCIL_TEST):X.enable(X.STENCIL_TEST)},N.prototype.pushStencil=function(U){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var X=this.renderer.gl,Y=this.stencilMaskStack;0===Y.length&&(X.enable(X.STENCIL_TEST),X.clear(X.STENCIL_BUFFER_BIT),X.stencilFunc(X.ALWAYS,1,1)),Y.push(U),X.colorMask(!1,!1,!1,!1),X.stencilOp(X.KEEP,X.KEEP,X.INCR),this.renderer.plugins.graphics.render(U),X.colorMask(!0,!0,!0,!0),X.stencilFunc(X.NOTEQUAL,0,Y.length),X.stencilOp(X.KEEP,X.KEEP,X.KEEP)},N.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var U=this.renderer.gl,X=this.stencilMaskStack,Y=X.pop();0===X.length?U.disable(U.STENCIL_TEST):(U.colorMask(!1,!1,!1,!1),U.stencilOp(U.KEEP,U.KEEP,U.DECR),this.renderer.plugins.graphics.render(Y),U.colorMask(!0,!0,!0,!0),U.stencilFunc(U.NOTEQUAL,0,X.length),U.stencilOp(U.KEEP,U.KEEP,U.KEEP))},N.prototype.destroy=function(){A.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},N}(A.default);E.default=D},function(T,E,S){'use strict';function C(re){return re&&re.__esModule?re:{default:re}}function M(re,oe){if(!re)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return oe&&('object'==typeof oe||'function'==typeof oe)?oe:re}function O(re,oe){if('function'!=typeof oe&&null!==oe)throw new TypeError('Super expression must either be null or a function, not '+typeof oe);re.prototype=Object.create(oe&&oe.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),oe&&(Object.setPrototypeOf?Object.setPrototypeOf(re,oe):re.__proto__=oe)}function I(re,oe){if(!(re instanceof oe))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var A=S(94),D=C(A),L=S(104),N=C(L),F=S(105),U=C(F),X=S(24),Y=S(107),V=C(Y),K=S(108),Z=function(re){if(re&&re.__esModule)return re;var oe={};if(null!=re)for(var ne in re)Object.prototype.hasOwnProperty.call(re,ne)&&(oe[ne]=re[ne]);return oe.default=re,oe}(K),J=S(76),Q=C(J),$=function re(){I(this,re),this.renderTarget=null,this.sourceFrame=new X.Rectangle,this.destinationFrame=new X.Rectangle,this.filters=[],this.target=null,this.resolution=1},te=function(re){function oe(ne){I(this,oe);var ie=M(this,re.call(this,ne));return ie.gl=ie.renderer.gl,ie.quad=new U.default(ie.gl,ne.state.attribState),ie.shaderCache={},ie.pool={},ie.filterData=null,ie}return O(oe,re),oe.prototype.pushFilter=function(ie,le){var se=this.renderer,de=this.filterData;if(!de){de=this.renderer._activeRenderTarget.filterStack;var ue=new $;ue.sourceFrame=ue.destinationFrame=this.renderer._activeRenderTarget.size,ue.renderTarget=se._activeRenderTarget,this.renderer._activeRenderTarget.filterData=de={index:0,stack:[ue]},this.filterData=de}var pe=de.stack[++de.index];pe||(pe=de.stack[de.index]=new $);var ce=le[0].resolution,fe=0|le[0].padding,he=ie.filterArea||ie.getBounds(!0),ge=pe.sourceFrame,_e=pe.destinationFrame;ge.x=(0|he.x*ce)/ce,ge.y=(0|he.y*ce)/ce,ge.width=(0|he.width*ce)/ce,ge.height=(0|he.height*ce)/ce,de.stack[0].renderTarget.transform||le[0].autoFit&&ge.fit(de.stack[0].destinationFrame),ge.pad(fe),_e.width=ge.width,_e.height=ge.height;var be=this.getPotRenderTarget(se.gl,ge.width,ge.height,ce);pe.target=ie,pe.filters=le,pe.resolution=ce,pe.renderTarget=be,be.setFrame(_e,ge),se.bindRenderTarget(be),be.clear()},oe.prototype.popFilter=function(){var ie=this.filterData,le=ie.stack[ie.index-1],se=ie.stack[ie.index];this.quad.map(se.renderTarget.size,se.sourceFrame).upload();var de=se.filters;if(1===de.length)de[0].apply(this,se.renderTarget,le.renderTarget,!1,se),this.freePotRenderTarget(se.renderTarget);else{var ue=se.renderTarget,pe=this.getPotRenderTarget(this.renderer.gl,se.sourceFrame.width,se.sourceFrame.height,se.resolution);pe.setFrame(se.destinationFrame,se.sourceFrame),pe.clear();var ce=0;for(ce=0;ce<de.length-1;++ce){de[ce].apply(this,ue,pe,!0,se);var fe=ue;ue=pe,pe=fe}de[ce].apply(this,ue,le.renderTarget,!1,se),this.freePotRenderTarget(ue),this.freePotRenderTarget(pe)}ie.index--,0===ie.index&&(this.filterData=null)},oe.prototype.applyFilter=function(ie,le,se,de){var ue=this.renderer,pe=ue.gl,ce=ie.glShaders[ue.CONTEXT_UID];ce||(ie.glShaderKey?(ce=this.shaderCache[ie.glShaderKey],!ce&&(ce=new V.default(this.gl,ie.vertexSrc,ie.fragmentSrc),ie.glShaders[ue.CONTEXT_UID]=this.shaderCache[ie.glShaderKey]=ce)):ce=ie.glShaders[ue.CONTEXT_UID]=new V.default(this.gl,ie.vertexSrc,ie.fragmentSrc),ue.bindVao(null),this.quad.initVao(ce)),ue.bindVao(this.quad.vao),ue.bindRenderTarget(se),de&&(pe.disable(pe.SCISSOR_TEST),ue.clear(),pe.enable(pe.SCISSOR_TEST)),se===ue.maskManager.scissorRenderTarget&&ue.maskManager.pushScissorMask(null,ue.maskManager.scissorData),ue.bindShader(ce);var fe=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=fe,this.syncUniforms(ce,ie),ue.state.setBlendMode(ie.blendMode),pe.activeTexture(pe.TEXTURE0),pe.bindTexture(pe.TEXTURE_2D,le.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),pe.bindTexture(pe.TEXTURE_2D,fe._glTextures[this.renderer.CONTEXT_UID].texture)},oe.prototype.syncUniforms=function(ie,le){var se=le.uniformData,de=le.uniforms,ue=1,pe;if(ie.uniforms.filterArea){pe=this.filterData.stack[this.filterData.index];var ce=ie.uniforms.filterArea;ce[0]=pe.renderTarget.size.width,ce[1]=pe.renderTarget.size.height,ce[2]=pe.sourceFrame.x,ce[3]=pe.sourceFrame.y,ie.uniforms.filterArea=ce}if(ie.uniforms.filterClamp){pe=pe||this.filterData.stack[this.filterData.index];var fe=ie.uniforms.filterClamp;fe[0]=0,fe[1]=0,fe[2]=(pe.sourceFrame.width-1)/pe.renderTarget.size.width,fe[3]=(pe.sourceFrame.height-1)/pe.renderTarget.size.height,ie.uniforms.filterClamp=fe}for(var he in se)if('sampler2D'===se[he].type&&0!==de[he]){if(de[he].baseTexture)ie.uniforms[he]=this.renderer.bindTexture(de[he].baseTexture,ue);else{ie.uniforms[he]=ue;var ge=this.renderer.gl;this.renderer.boundTextures[ue]=this.renderer.emptyTextures[ue],ge.activeTexture(ge.TEXTURE0+ue),de[he].texture.bind()}ue++}else if('mat3'===se[he].type)ie.uniforms[he]=void 0===de[he].a?de[he]:de[he].toArray(!0);else if('vec2'!==se[he].type)'float'===se[he].type?ie.uniforms.data[he].value!==se[he]&&(ie.uniforms[he]=de[he]):ie.uniforms[he]=de[he];else if(void 0!==de[he].x){var _e=ie.uniforms[he]||new Float32Array(2);_e[0]=de[he].x,_e[1]=de[he].y,ie.uniforms[he]=_e}else ie.uniforms[he]=de[he]},oe.prototype.getRenderTarget=function(ie,le){var se=this.filterData.stack[this.filterData.index],de=this.getPotRenderTarget(this.renderer.gl,se.sourceFrame.width,se.sourceFrame.height,le||se.resolution);return de.setFrame(se.destinationFrame,se.sourceFrame),de},oe.prototype.returnRenderTarget=function(ie){this.freePotRenderTarget(ie)},oe.prototype.calculateScreenSpaceMatrix=function(ie){var le=this.filterData.stack[this.filterData.index];return Z.calculateScreenSpaceMatrix(ie,le.sourceFrame,le.renderTarget.size)},oe.prototype.calculateNormalizedScreenSpaceMatrix=function(ie){var le=this.filterData.stack[this.filterData.index];return Z.calculateNormalizedScreenSpaceMatrix(ie,le.sourceFrame,le.renderTarget.size,le.destinationFrame)},oe.prototype.calculateSpriteMatrix=function(ie,le){var se=this.filterData.stack[this.filterData.index];return Z.calculateSpriteMatrix(ie,se.sourceFrame,se.renderTarget.size,le)},oe.prototype.destroy=function(){this.shaderCache={},this.emptyPool()},oe.prototype.getPotRenderTarget=function(ie,le,se,de){le=Q.default.nextPow2(le*de),se=Q.default.nextPow2(se*de);var ue=(65535&le)<<16|65535&se;this.pool[ue]||(this.pool[ue]=[]);var pe=this.pool[ue].pop();if(!pe){var ce=this.renderer.boundTextures[0];ie.activeTexture(ie.TEXTURE0),pe=new N.default(ie,le,se,null,1),ie.bindTexture(ie.TEXTURE_2D,ce._glTextures[this.renderer.CONTEXT_UID].texture)}return pe.resolution=de,pe.defaultFrame.width=pe.size.width=le/de,pe.defaultFrame.height=pe.size.height=se/de,pe},oe.prototype.emptyPool=function(){for(var ie in this.pool){var le=this.pool[ie];if(le)for(var se=0;se<le.length;se++)le[se].destroy(!0)}this.pool={}},oe.prototype.freePotRenderTarget=function(ie){var le=ie.size.width*ie.resolution,se=ie.size.height*ie.resolution;this.pool[(65535&le)<<16|65535&se].push(ie)},oe}(D.default);E.default=te},function(T,E,S){'use strict';function C(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(24),O=S(23),I=S(54),A=function(N){return N&&N.__esModule?N:{default:N}}(I),D=S(34),L=function(){function N(F,U,X,Y,V,K){C(this,N),this.gl=F,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new M.Rectangle(0,0,1,1),this.resolution=V||A.default.RESOLUTION,this.projectionMatrix=new M.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new M.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0===Y?A.default.SCALE_MODE:Y,this.root=K,this.root?(this.frameBuffer=new D.GLFramebuffer(F,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=D.GLFramebuffer.createRGBA(F,100,100),this.scaleMode===O.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(U,X)}return N.prototype.clear=function(U){var X=U||this.clearColor;this.frameBuffer.clear(X[0],X[1],X[2],X[3])},N.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},N.prototype.setFrame=function(U,X){this.destinationFrame=U||this.destinationFrame||this.defaultFrame,this.sourceFrame=X||this.sourceFrame||U},N.prototype.activate=function(){var U=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame===this.sourceFrame?U.disable(U.SCISSOR_TEST):(U.enable(U.SCISSOR_TEST),U.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width*this.resolution,0|this.destinationFrame.height*this.resolution)),U.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width*this.resolution,0|this.destinationFrame.height*this.resolution)},N.prototype.calculateProjection=function(U,X){var Y=this.projectionMatrix;X=X||U,Y.identity(),this.root?(Y.a=2*(1/U.width),Y.d=2*(-1/U.height),Y.tx=-1-X.x*Y.a,Y.ty=1-X.y*Y.d):(Y.a=2*(1/U.width),Y.d=2*(1/U.height),Y.tx=-1-X.x*Y.a,Y.ty=-1-X.y*Y.d)},N.prototype.resize=function(U,X){if(U|=0,X|=0,this.size.width!==U||this.size.height!==X){this.size.width=U,this.size.height=X,this.defaultFrame.width=U,this.defaultFrame.height=X,this.frameBuffer.resize(U*this.resolution,X*this.resolution);var Y=this.frame||this.size;this.calculateProjection(Y)}},N.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},N}();E.default=L},function(T,E,S){'use strict';function P(L){return L&&L.__esModule?L:{default:L}}function C(L,N){if(!(L instanceof N))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(34),O=P(M),I=S(106),A=P(I),D=function(){function L(N,F){C(this,L),this.gl=N,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var U=0;4>U;U++)this.interleaved[4*U]=this.vertices[2*U],this.interleaved[4*U+1]=this.vertices[2*U+1],this.interleaved[4*U+2]=this.uvs[2*U],this.interleaved[4*U+3]=this.uvs[2*U+1];this.indices=(0,A.default)(1),this.vertexBuffer=O.default.GLBuffer.createVertexBuffer(N,this.interleaved,N.STATIC_DRAW),this.indexBuffer=O.default.GLBuffer.createIndexBuffer(N,this.indices,N.STATIC_DRAW),this.vao=new O.default.VertexArrayObject(N,F)}return L.prototype.initVao=function(F){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,F.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,F.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},L.prototype.map=function(F,U){var X=0,Y=0;return this.uvs[0]=X,this.uvs[1]=Y,this.uvs[2]=X+U.width/F.width,this.uvs[3]=Y,this.uvs[4]=X+U.width/F.width,this.uvs[5]=Y+U.height/F.height,this.uvs[6]=X,this.uvs[7]=Y+U.height/F.height,X=U.x,Y=U.y,this.vertices[0]=X,this.vertices[1]=Y,this.vertices[2]=X+U.width,this.vertices[3]=Y,this.vertices[4]=X+U.width,this.vertices[5]=Y+U.height,this.vertices[6]=X,this.vertices[7]=Y+U.height,this},L.prototype.upload=function(){for(var F=0;4>F;F++)this.interleaved[4*F]=this.vertices[2*F],this.interleaved[4*F+1]=this.vertices[2*F+1],this.interleaved[4*F+2]=this.uvs[2*F],this.interleaved[4*F+3]=this.uvs[2*F+1];return this.vertexBuffer.upload(this.interleaved),this},L.prototype.destroy=function(){var F=this.gl;F.deleteBuffer(this.vertexBuffer),F.deleteBuffer(this.indexBuffer)},L}();E.default=D},function(T,E){'use strict';E.__esModule=!0,E.default=function(P){for(var C=6*P,M=new Uint16Array(C),O=0,I=0;O<C;O+=6,I+=4)M[O+0]=I+0,M[O+1]=I+1,M[O+2]=I+2,M[O+3]=I+0,M[O+4]=I+2,M[O+5]=I+3;return M}},function(T,E,S){'use strict';function C(F,U){if(!(F instanceof U))throw new TypeError('Cannot call a class as a function')}function M(F,U){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:F}function O(F,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);F.prototype=Object.create(U&&U.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(F,U):F.__proto__=U)}function I(F,U){if(F instanceof Array){if('precision'!==F[0].substring(0,9)){var X=F.slice(0);return X.unshift('precision '+U+' float;'),X}}else if('precision'!==F.substring(0,9))return'precision '+U+' float;\n'+F;return F}E.__esModule=!0;var A=S(34),D=S(54),L=function(F){return F&&F.__esModule?F:{default:F}}(D),N=function(F){function U(X,Y,V){return C(this,U),M(this,F.call(this,X,I(Y,L.default.PRECISION_VERTEX),I(V,L.default.PRECISION_FRAGMENT)))}return O(U,F),U}(A.GLShader);E.default=N},function(T,E,S){'use strict';E.__esModule=!0,E.calculateScreenSpaceMatrix=function(I,A,D){var L=I.identity();return L.translate(A.x/D.width,A.y/D.height),L.scale(D.width,D.height),L},E.calculateNormalizedScreenSpaceMatrix=function(I,A,D){var L=I.identity();L.translate(A.x/D.width,A.y/D.height);var N=D.width/A.width,F=D.height/A.height;return L.scale(N,F),L},E.calculateSpriteMatrix=function(I,A,D,L){var N=L.worldTransform.copy(O.Matrix.TEMP_MATRIX),F=L._texture.baseTexture,U=I.identity(),X=D.height/D.width;U.translate(A.x/D.width,A.y/D.height),U.scale(1,X);var Y=D.width/F.width,V=D.height/F.height;return N.tx/=F.width*Y,N.ty/=F.width*Y,N.invert(),U.prepend(N),U.scale(1,1/X),U.scale(Y,V),U.translate(L.anchor.x,L.anchor.y),U};var O=S(24)},function(T,E,S){'use strict';function C(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(34),O=S(23),I=S(104),A=function(N){return N&&N.__esModule?N:{default:N}}(I),D=S(62),L=function(){function N(F){C(this,N),this.renderer=F,this.gl=F.gl,this._managedTextures=[]}return N.prototype.bindTexture=function(){},N.prototype.getTexture=function(){},N.prototype.updateTexture=function(U,X){var Y=this.gl,V=!!U._glRenderTargets;if(!U.hasLoaded)return null;var K=this.renderer.boundTextures;if(void 0===X){X=0;for(var Z=0;Z<K.length;++Z)if(K[Z]===U){X=Z;break}}K[X]=U,Y.activeTexture(Y.TEXTURE0+X);var J=U._glTextures[this.renderer.CONTEXT_UID];if(!J){if(V){var Q=new A.default(this.gl,U.width,U.height,U.scaleMode,U.resolution);Q.resize(U.width,U.height),U._glRenderTargets[this.renderer.CONTEXT_UID]=Q,J=Q.texture}else J=new M.GLTexture(this.gl,null,null,null,null),J.bind(X),J.premultiplyAlpha=!0,J.upload(U.source);U._glTextures[this.renderer.CONTEXT_UID]=J,U.on('update',this.updateTexture,this),U.on('dispose',this.destroyTexture,this),this._managedTextures.push(U),U.isPowerOfTwo?(U.mipmap&&J.enableMipmap(),U.wrapMode===O.WRAP_MODES.CLAMP?J.enableWrapClamp():U.wrapMode===O.WRAP_MODES.REPEAT?J.enableWrapRepeat():J.enableWrapMirrorRepeat()):J.enableWrapClamp(),U.scaleMode===O.SCALE_MODES.NEAREST?J.enableNearestScaling():J.enableLinearScaling()}else V?U._glRenderTargets[this.renderer.CONTEXT_UID].resize(U.width,U.height):J.upload(U.source);return J},N.prototype.destroyTexture=function(U,X){if((U=U.baseTexture||U,!!U.hasLoaded)&&U._glTextures[this.renderer.CONTEXT_UID]&&(this.renderer.unbindTexture(U),U._glTextures[this.renderer.CONTEXT_UID].destroy(),U.off('update',this.updateTexture,this),U.off('dispose',this.destroyTexture,this),delete U._glTextures[this.renderer.CONTEXT_UID],!X)){var Y=this._managedTextures.indexOf(U);-1!==Y&&(0,D.removeItems)(this._managedTextures,Y,1)}},N.prototype.removeAll=function(){for(var U=0,X;U<this._managedTextures.length;++U)X=this._managedTextures[U],X._glTextures[this.renderer.CONTEXT_UID]&&delete X._glTextures[this.renderer.CONTEXT_UID]},N.prototype.destroy=function(){for(var U=0,X;U<this._managedTextures.length;++U)X=this._managedTextures[U],this.destroyTexture(X,!0),X.off('update',this.updateTexture,this),X.off('dispose',this.destroyTexture,this);this._managedTextures=null},N}();E.default=L},function(T,E,S){'use strict';function C(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(23),O=S(54),I=function(D){return D&&D.__esModule?D:{default:D}}(O),A=function(){function D(L){C(this,D),this.renderer=L,this.count=0,this.checkCount=0,this.maxIdle=I.default.GC_MAX_IDLE,this.checkCountMax=I.default.GC_MAX_CHECK_COUNT,this.mode=I.default.GC_MODE}return D.prototype.update=function(){this.count++,this.mode===M.GC_MODES.MANUAL||(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},D.prototype.run=function(){for(var N=this.renderer.textureManager,F=N._managedTextures,U=!1,X=0,Y;X<F.length;X++)Y=F[X],!Y._glRenderTargets&&this.count-Y.touched>this.maxIdle&&(N.destroyTexture(Y,!0),F[X]=null,U=!0);if(U){for(var V=0,K=0;K<F.length;K++)null!==F[K]&&(F[V++]=F[K]);F.length=V}},D.prototype.unload=function(N){var F=this.renderer.textureManager;N._texture&&N._texture._glRenderTargets&&F.destroyTexture(N._texture,!0);for(var U=N.children.length-1;0<=U;U--)this.unload(N.children[U])},D}();E.default=A},function(T,E,S){'use strict';function C(U,X){if(!(U instanceof X))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(112),O=function(U){return U&&U.__esModule?U:{default:U}}(M),I=0,A=1,D=2,L=3,N=4,F=function(){function U(X){C(this,U),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=X,this.maxAttribs=X.getParameter(X.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:Array(this.maxAttribs),attribState:Array(this.maxAttribs)},this.blendModes=(0,O.default)(X),this.nativeVaoExtension=X.getExtension('OES_vertex_array_object')||X.getExtension('MOZ_OES_vertex_array_object')||X.getExtension('WEBKIT_OES_vertex_array_object')}return U.prototype.push=function(){var Y=this.stack[this.stackIndex];Y||(Y=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var V=0;V<this.activeState.length;V++)Y[V]=this.activeState[V]},U.prototype.pop=function(){var Y=this.stack[--this.stackIndex];this.setState(Y)},U.prototype.setState=function(Y){this.setBlend(Y[I]),this.setDepthTest(Y[A]),this.setFrontFace(Y[D]),this.setCullFace(Y[L]),this.setBlendMode(Y[N])},U.prototype.setBlend=function(Y){Y=Y?1:0,this.activeState[I]===Y||(this.activeState[I]=Y,this.gl[Y?'enable':'disable'](this.gl.BLEND))},U.prototype.setBlendMode=function(Y){Y===this.activeState[N]||(this.activeState[N]=Y,this.gl.blendFunc(this.blendModes[Y][0],this.blendModes[Y][1]))},U.prototype.setDepthTest=function(Y){Y=Y?1:0,this.activeState[A]===Y||(this.activeState[A]=Y,this.gl[Y?'enable':'disable'](this.gl.DEPTH_TEST))},U.prototype.setCullFace=function(Y){Y=Y?1:0,this.activeState[L]===Y||(this.activeState[L]=Y,this.gl[Y?'enable':'disable'](this.gl.CULL_FACE))},U.prototype.setFrontFace=function(Y){Y=Y?1:0,this.activeState[D]===Y||(this.activeState[D]=Y,this.gl.frontFace(this.gl[Y?'CW':'CCW']))},U.prototype.resetAttributes=function(){for(var Y=0;Y<this.attribState.tempAttribState.length;Y++)this.attribState.tempAttribState[Y]=0;for(var V=0;V<this.attribState.attribState.length;V++)this.attribState.attribState[V]=0;for(var K=1;K<this.maxAttribs;K++)this.gl.disableVertexAttribArray(K)},U.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var Y=0;Y<this.activeState.length;++Y)this.activeState[Y]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},U}();E.default=F},function(T,E,S){'use strict';E.__esModule=!0,E.default=function(M){var O=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return O[C.BLEND_MODES.NORMAL]=[M.ONE,M.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.ADD]=[M.ONE,M.DST_ALPHA],O[C.BLEND_MODES.MULTIPLY]=[M.DST_COLOR,M.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.SCREEN]=[M.ONE,M.ONE_MINUS_SRC_COLOR],O[C.BLEND_MODES.OVERLAY]=[M.ONE,M.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.DARKEN]=[M.ONE,M.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.LIGHTEN]=[M.ONE,M.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.COLOR_DODGE]=[M.ONE,M.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.COLOR_BURN]=[M.ONE,M.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.HARD_LIGHT]=[M.ONE,M.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.SOFT_LIGHT]=[M.ONE,M.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.DIFFERENCE]=[M.ONE,M.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.EXCLUSION]=[M.ONE,M.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.HUE]=[M.ONE,M.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.SATURATION]=[M.ONE,M.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.COLOR]=[M.ONE,M.ONE_MINUS_SRC_ALPHA],O[C.BLEND_MODES.LUMINOSITY]=[M.ONE,M.ONE_MINUS_SRC_ALPHA],O};var C=S(23)},function(T,E,S){'use strict';E.__esModule=!0,E.default=function(M){var O=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return O[C.DRAW_MODES.POINTS]=M.POINTS,O[C.DRAW_MODES.LINES]=M.LINES,O[C.DRAW_MODES.LINE_LOOP]=M.LINE_LOOP,O[C.DRAW_MODES.LINE_STRIP]=M.LINE_STRIP,O[C.DRAW_MODES.TRIANGLES]=M.TRIANGLES,O[C.DRAW_MODES.TRIANGLE_STRIP]=M.TRIANGLE_STRIP,O[C.DRAW_MODES.TRIANGLE_FAN]=M.TRIANGLE_FAN,O};var C=S(23)},function(T,E){'use strict';E.__esModule=!0,E.default=function(P){var C=P.getContextAttributes();C.stencil||void 0}},function(T,E,S){'use strict';function M(L){var N='';N+='\n',N+='\n';for(var F=0;F<L;F++)0<F&&(N+='\nelse '),F<L-1&&(N+='if(textureId == '+F+'.0)'),N+='\n{',N+='\n\tcolor = texture2D(uSamplers['+F+'], vTextureCoord);',N+='\n}';return N+='\n',N+='\n',N}E.__esModule=!0,E.default=function(L,N){var U=D;U=U.replace(/%count%/gi,N),U=U.replace(/%forloop%/gi,M(N));for(var X=new I.default(L,'precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n',U),Y=[],V=0;V<N;V++)Y[V]=V;return X.bind(),X.uniforms.uSamplers=Y,X};var O=S(107),I=function(L){return L&&L.__esModule?L:{default:L}}(O),A=S(100),D=['varying vec2 vTextureCoord;','varying vec4 vColor;','varying float vTextureId;','uniform sampler2D uSamplers[%count%];','void main(void){','vec4 color;','float textureId = floor(vTextureId+0.5);','%forloop%','gl_FragColor = color * vColor;','}'].join('\n')},function(T,E,S){'use strict';function M(D){for(var L='',N=0;N<D;++N)0<N&&(L+='\nelse '),N<D-1&&(L+='if(test == '+N+'.0){}');return L}E.__esModule=!0,E.default=function(D,L){var N=!L;if(0===D)throw new Error('Invalid value of `0` passed to `checkMaxIfStatementsInShader`');if(N){var F=document.createElement('canvas');F.width=1,F.height=1,L=I.default.createContext(F)}for(var U=L.createShader(L.FRAGMENT_SHADER),X;X=A.replace(/%forloop%/gi,M(D)),L.shaderSource(U,X),L.compileShader(U),!L.getShaderParameter(U,L.COMPILE_STATUS);)D=0|D/2;return N&&L.getExtension('WEBGL_lose_context')&&L.getExtension('WEBGL_lose_context').loseContext(),D};var O=S(34),I=function(D){return D&&D.__esModule?D:{default:D}}(O),A=['precision mediump float;','void main(void){','float test = 0.1;','%forloop%','gl_FragColor = vec4(0.0);','}'].join('\n')},function(T,E){'use strict';function S(C,M){if(!(C instanceof M))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var P=function(){function C(M){S(this,C),this.vertices=new ArrayBuffer(M),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return C.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},C}();E.default=P},function(T,E,S){'use strict';function P(ne){return ne&&ne.__esModule?ne:{default:ne}}function C(ne,ie){if(!(ne instanceof ie))throw new TypeError('Cannot call a class as a function')}function M(ne,ie){if(!ne)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return ie&&('object'==typeof ie||'function'==typeof ie)?ie:ne}function O(ne,ie){if('function'!=typeof ie&&null!==ie)throw new TypeError('Super expression must either be null or a function, not '+typeof ie);ne.prototype=Object.create(ie&&ie.prototype,{constructor:{value:ne,enumerable:!1,writable:!0,configurable:!0}}),ie&&(Object.setPrototypeOf?Object.setPrototypeOf(ne,ie):ne.__proto__=ie)}E.__esModule=!0;var I=function(){function ne(ie,le){for(var se=0,de;se<le.length;se++)de=le[se],de.enumerable=de.enumerable||!1,de.configurable=!0,'value'in de&&(de.writable=!0),Object.defineProperty(ie,de.key,de)}return function(ie,le,se){return le&&ne(ie.prototype,le),se&&ne(ie,se),ie}}(),A=S(65),D=P(A),L=S(66),N=P(L),F=S(24),U=S(62),X=S(23),Y=S(54),V=P(Y),K=S(119),Z=P(K),J=S(120),Q=P(J),$=S(121),te=P($),re={texture:!0,children:!1,baseTexture:!0},oe=function(ne){function ie(le,se,de){C(this,ie),de=de||document.createElement('canvas'),de.width=3,de.height=3;var ue=N.default.fromCanvas(de,V.default.SCALE_MODE,'text');ue.orig=new F.Rectangle,ue.trim=new F.Rectangle;var pe=M(this,ne.call(this,ue));return N.default.addToCache(pe._texture,pe._texture.baseTexture.textureCacheIds[0]),pe.canvas=de,pe.context=pe.canvas.getContext('2d'),pe.resolution=V.default.RESOLUTION,pe._text=null,pe._style=null,pe._styleListener=null,pe._font='',pe.text=le,pe.style=se,pe.localStyleID=-1,pe}return O(ie,ne),ie.prototype.updateText=function(se){var de=this._style;if(this.localStyleID!==de.styleID&&(this.dirty=!0,this.localStyleID=de.styleID),this.dirty||!se){this._font=this._style.toFontString();var ue=Q.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),pe=ue.width,ce=ue.height,fe=ue.lines,he=ue.lineHeight,ge=ue.lineWidths,_e=ue.maxLineWidth,be=ue.fontProperties;this.canvas.width=_Mathceil((pe+2*de.padding)*this.resolution),this.canvas.height=_Mathceil((ce+2*de.padding)*this.resolution),this.context.scale(this.resolution,this.resolution),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=this._font,this.context.strokeStyle=de.stroke,this.context.lineWidth=de.strokeThickness,this.context.textBaseline=de.textBaseline,this.context.lineJoin=de.lineJoin,this.context.miterLimit=de.miterLimit;var ve,Te;if(de.dropShadow){this.context.shadowBlur=de.dropShadowBlur,this.context.globalAlpha=de.dropShadowAlpha,0<de.dropShadowBlur?this.context.shadowColor=de.dropShadowColor:this.context.fillStyle=de.dropShadowColor;for(var Ee=_Mathcos(de.dropShadowAngle)*de.dropShadowDistance,Se=_Mathsin(de.dropShadowAngle)*de.dropShadowDistance,Pe=0;Pe<fe.length;Pe++)ve=de.strokeThickness/2,Te=de.strokeThickness/2+Pe*he+be.ascent,'right'===de.align?ve+=_e-ge[Pe]:'center'===de.align&&(ve+=(_e-ge[Pe])/2),de.fill&&(this.drawLetterSpacing(fe[Pe],ve+Ee+de.padding,Te+Se+de.padding),de.stroke&&de.strokeThickness&&(this.context.strokeStyle=de.dropShadowColor,this.drawLetterSpacing(fe[Pe],ve+Ee+de.padding,Te+Se+de.padding,!0),this.context.strokeStyle=de.stroke))}this.context.shadowBlur=0,this.context.globalAlpha=1,this.context.fillStyle=this._generateFillStyle(de,fe);for(var Ce=0;Ce<fe.length;Ce++)ve=de.strokeThickness/2,Te=de.strokeThickness/2+Ce*he+be.ascent,'right'===de.align?ve+=_e-ge[Ce]:'center'===de.align&&(ve+=(_e-ge[Ce])/2),de.stroke&&de.strokeThickness&&this.drawLetterSpacing(fe[Ce],ve+de.padding,Te+de.padding,!0),de.fill&&this.drawLetterSpacing(fe[Ce],ve+de.padding,Te+de.padding);this.updateTexture()}},ie.prototype.drawLetterSpacing=function(se,de,ue){var pe=3<arguments.length&&void 0!==arguments[3]&&arguments[3],ce=this._style,fe=ce.letterSpacing;if(0===fe)return void(pe?this.context.strokeText(se,de,ue):this.context.fillText(se,de,ue));for(var he=String.prototype.split.call(se,''),ge=de,_e=0,be='';_e<se.length;)be=he[_e++],pe?this.context.strokeText(be,ge,ue):this.context.fillText(be,ge,ue),ge+=this.context.measureText(be).width+fe},ie.prototype.updateTexture=function(){if(this._style.trim){var se=(0,te.default)(this.canvas);this.canvas.width=se.width,this.canvas.height=se.height,this.context.putImageData(se.data,0,0)}var de=this._texture,ue=this._style,pe=ue.trim?0:ue.padding;de.baseTexture.hasLoaded=!0,de.baseTexture.resolution=this.resolution,de.baseTexture.realWidth=this.canvas.width,de.baseTexture.realHeight=this.canvas.height,de.baseTexture.width=this.canvas.width/this.resolution,de.baseTexture.height=this.canvas.height/this.resolution,de.trim.width=de._frame.width=this.canvas.width/this.resolution,de.trim.height=de._frame.height=this.canvas.height/this.resolution,de.trim.x=-pe,de.trim.y=-pe,de.orig.width=de._frame.width-2*pe,de.orig.height=de._frame.height-2*pe,this._onTextureUpdate(),de.baseTexture.emit('update',de.baseTexture),this.dirty=!1},ie.prototype.renderWebGL=function(se){this.resolution!==se.resolution&&(this.resolution=se.resolution,this.dirty=!0),this.updateText(!0),ne.prototype.renderWebGL.call(this,se)},ie.prototype._renderCanvas=function(se){this.resolution!==se.resolution&&(this.resolution=se.resolution,this.dirty=!0),this.updateText(!0),ne.prototype._renderCanvas.call(this,se)},ie.prototype.getLocalBounds=function(se){return this.updateText(!0),ne.prototype.getLocalBounds.call(this,se)},ie.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},ie.prototype._onStyleChange=function(){this.dirty=!0},ie.prototype._generateFillStyle=function(se,de){if(!Array.isArray(se.fill))return se.fill;if(navigator.isCocoonJS)return se.fill[0];var ce=void 0,he=this.canvas.width/this.resolution,ge=this.canvas.height/this.resolution,_e=se.fill.slice(),be=se.fillGradientStops.slice(),ue,pe,fe;if(!be.length)for(var ve=_e.length+1,Te=1;Te<ve;++Te)be.push(Te/ve);if(_e.unshift(se.fill[0]),be.unshift(0),_e.push(se.fill[se.fill.length-1]),be.push(1),se.fillGradientType===X.TEXT_GRADIENT.LINEAR_VERTICAL){ue=this.context.createLinearGradient(he/2,0,he/2,ge),pe=(_e.length+1)*de.length,ce=0;for(var Ee=0;Ee<de.length;Ee++){ce+=1;for(var Se=0;Se<_e.length;Se++)fe='number'==typeof be[Se]?be[Se]/de.length+Ee/de.length:ce/pe,ue.addColorStop(fe,_e[Se]),ce++}}else{ue=this.context.createLinearGradient(0,ge/2,he,ge/2),pe=_e.length+1,ce=1;for(var Pe=0;Pe<_e.length;Pe++)fe='number'==typeof be[Pe]?be[Pe]:ce/pe,ue.addColorStop(fe,_e[Pe]),ce++}return ue},ie.prototype.destroy=function(se){'boolean'==typeof se&&(se={children:se}),se=Object.assign({},re,se),ne.prototype.destroy.call(this,se),this.context=null,this.canvas=null,this._style=null},I(ie,[{key:'width',get:function(){return this.updateText(!0),_Mathabs(this.scale.x)*this._texture.orig.width},set:function(se){this.updateText(!0);var de=(0,U.sign)(this.scale.x)||1;this.scale.x=de*se/this._texture.orig.width,this._width=se}},{key:'height',get:function(){return this.updateText(!0),_Mathabs(this.scale.y)*this._texture.orig.height},set:function(se){this.updateText(!0);var de=(0,U.sign)(this.scale.y)||1;this.scale.y=de*se/this._texture.orig.height,this._height=se}},{key:'style',get:function(){return this._style},set:function(se){se=se||{},this._style=se instanceof Z.default?se:new Z.default(se),this.localStyleID=-1,this.dirty=!0}},{key:'text',get:function(){return this._text},set:function(se){se=(''===se||null===se||void 0===se?' ':se)+'',this._text===se||(this._text=se,this.dirty=!0)}}]),ie}(D.default);E.default=oe},function(T,E,S){'use strict';function P(F,U){if(!(F instanceof U))throw new TypeError('Cannot call a class as a function')}function C(F){return'number'==typeof F?(0,D.hex2string)(F):('string'==typeof F&&0===F.indexOf('0x')&&(F=F.replace('0x','#')),F)}function M(F){if(!Array.isArray(F))return C(F);for(var U=0;U<F.length;++U)F[U]=C(F[U]);return F}function O(F,U){if(!Array.isArray(F)||!Array.isArray(U))return!1;if(F.length!==U.length)return!1;for(var X=0;X<F.length;++X)if(F[X]!==U[X])return!1;return!0}E.__esModule=!0;var I=function(){function F(U,X){for(var Y=0,V;Y<X.length;Y++)V=X[Y],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(U,V.key,V)}return function(U,X,Y){return X&&F(U.prototype,X),Y&&F(U,Y),U}}(),A=S(23),D=S(62),L={align:'left',breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:_MathPI/6,dropShadowBlur:0,dropShadowColor:'#000000',dropShadowDistance:5,fill:'black',fillGradientType:A.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:'Arial',fontSize:26,fontStyle:'normal',fontVariant:'normal',fontWeight:'normal',letterSpacing:0,lineHeight:0,lineJoin:'miter',miterLimit:10,padding:0,stroke:'black',strokeThickness:0,textBaseline:'alphabetic',trim:!1,wordWrap:!1,wordWrapWidth:100},N=function(){function F(U){P(this,F),this.styleID=0,Object.assign(this,L,U)}return F.prototype.clone=function(){var X={};for(var Y in L)X[Y]=this[Y];return new F(X)},F.prototype.reset=function(){Object.assign(this,L)},F.prototype.toFontString=function(){var X='number'==typeof this.fontSize?this.fontSize+'px':this.fontSize,Y=this.fontFamily;Array.isArray(this.fontFamily)||(Y=this.fontFamily.split(','));for(var V=Y.length-1,K;0<=V;V--)K=Y[V].trim(),/([\"\'])[^\'\"]+\1/.test(K)||(K='"'+K+'"'),Y[V]=K;return this.fontStyle+' '+this.fontVariant+' '+this.fontWeight+' '+X+' '+Y.join(',')},I(F,[{key:'align',get:function(){return this._align},set:function(X){this._align!==X&&(this._align=X,this.styleID++)}},{key:'breakWords',get:function(){return this._breakWords},set:function(X){this._breakWords!==X&&(this._breakWords=X,this.styleID++)}},{key:'dropShadow',get:function(){return this._dropShadow},set:function(X){this._dropShadow!==X&&(this._dropShadow=X,this.styleID++)}},{key:'dropShadowAlpha',get:function(){return this._dropShadowAlpha},set:function(X){this._dropShadowAlpha!==X&&(this._dropShadowAlpha=X,this.styleID++)}},{key:'dropShadowAngle',get:function(){return this._dropShadowAngle},set:function(X){this._dropShadowAngle!==X&&(this._dropShadowAngle=X,this.styleID++)}},{key:'dropShadowBlur',get:function(){return this._dropShadowBlur},set:function(X){this._dropShadowBlur!==X&&(this._dropShadowBlur=X,this.styleID++)}},{key:'dropShadowColor',get:function(){return this._dropShadowColor},set:function(X){var Y=M(X);this._dropShadowColor!==Y&&(this._dropShadowColor=Y,this.styleID++)}},{key:'dropShadowDistance',get:function(){return this._dropShadowDistance},set:function(X){this._dropShadowDistance!==X&&(this._dropShadowDistance=X,this.styleID++)}},{key:'fill',get:function(){return this._fill},set:function(X){var Y=M(X);this._fill!==Y&&(this._fill=Y,this.styleID++)}},{key:'fillGradientType',get:function(){return this._fillGradientType},set:function(X){this._fillGradientType!==X&&(this._fillGradientType=X,this.styleID++)}},{key:'fillGradientStops',get:function(){return this._fillGradientStops},set:function(X){O(this._fillGradientStops,X)||(this._fillGradientStops=X,this.styleID++)}},{key:'fontFamily',get:function(){return this._fontFamily},set:function(X){this.fontFamily!==X&&(this._fontFamily=X,this.styleID++)}},{key:'fontSize',get:function(){return this._fontSize},set:function(X){this._fontSize!==X&&(this._fontSize=X,this.styleID++)}},{key:'fontStyle',get:function(){return this._fontStyle},set:function(X){this._fontStyle!==X&&(this._fontStyle=X,this.styleID++)}},{key:'fontVariant',get:function(){return this._fontVariant},set:function(X){this._fontVariant!==X&&(this._fontVariant=X,this.styleID++)}},{key:'fontWeight',get:function(){return this._fontWeight},set:function(X){this._fontWeight!==X&&(this._fontWeight=X,this.styleID++)}},{key:'letterSpacing',get:function(){return this._letterSpacing},set:function(X){this._letterSpacing!==X&&(this._letterSpacing=X,this.styleID++)}},{key:'lineHeight',get:function(){return this._lineHeight},set:function(X){this._lineHeight!==X&&(this._lineHeight=X,this.styleID++)}},{key:'lineJoin',get:function(){return this._lineJoin},set:function(X){this._lineJoin!==X&&(this._lineJoin=X,this.styleID++)}},{key:'miterLimit',get:function(){return this._miterLimit},set:function(X){this._miterLimit!==X&&(this._miterLimit=X,this.styleID++)}},{key:'padding',get:function(){return this._padding},set:function(X){this._padding!==X&&(this._padding=X,this.styleID++)}},{key:'stroke',get:function(){return this._stroke},set:function(X){var Y=M(X);this._stroke!==Y&&(this._stroke=Y,this.styleID++)}},{key:'strokeThickness',get:function(){return this._strokeThickness},set:function(X){this._strokeThickness!==X&&(this._strokeThickness=X,this.styleID++)}},{key:'textBaseline',get:function(){return this._textBaseline},set:function(X){this._textBaseline!==X&&(this._textBaseline=X,this.styleID++)}},{key:'trim',get:function(){return this._trim},set:function(X){this._trim!==X&&(this._trim=X,this.styleID++)}},{key:'wordWrap',get:function(){return this._wordWrap},set:function(X){this._wordWrap!==X&&(this._wordWrap=X,this.styleID++)}},{key:'wordWrapWidth',get:function(){return this._wordWrapWidth},set:function(X){this._wordWrapWidth!==X&&(this._wordWrapWidth=X,this.styleID++)}}]),F}();E.default=N},function(T,E){'use strict';function S(M,O){if(!(M instanceof O))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var P=function(){function M(O,I,A,D,L,N,F,U,X){S(this,M),this.text=O,this.style=I,this.width=A,this.height=D,this.lines=L,this.lineWidths=N,this.lineHeight=F,this.maxLineWidth=U,this.fontProperties=X}return M.measureText=function(I,A,D){var L=3<arguments.length&&void 0!==arguments[3]?arguments[3]:M._canvas;D=D||A.wordWrap;var N=A.toFontString(),F=M.measureFont(N),U=L.getContext('2d');U.font=N;for(var X=D?M.wordWrap(I,A,L):I,Y=X.split(/(?:\r\n|\r|\n)/),V=Array(Y.length),K=0,Z=0,J;Z<Y.length;Z++)J=U.measureText(Y[Z]).width+(Y[Z].length-1)*A.letterSpacing,V[Z]=J,K=_Mathmax(K,J);var Q=K+A.strokeThickness;A.dropShadow&&(Q+=A.dropShadowDistance);var $=A.lineHeight||F.fontSize+A.strokeThickness,te=_Mathmax($,F.fontSize+A.strokeThickness)+(Y.length-1)*$;return A.dropShadow&&(te+=A.dropShadowDistance),new M(I,A,Q,te,Y,V,$,K,F)},M.wordWrap=function(I,A){for(var D=2<arguments.length&&void 0!==arguments[2]?arguments[2]:M._canvas,L=D.getContext('2d'),N='',F=I.split('\n'),U=A.wordWrapWidth,X={},Y=0;Y<F.length;Y++){for(var V=U,K=F[Y].split(' '),Z=0,J;Z<K.length;Z++)if(J=L.measureText(K[Z]).width,A.breakWords&&J>U)for(var Q=K[Z].split(''),$=0;$<Q.length;$++){var te=Q[$],re=X[te];void 0===re&&(re=L.measureText(te).width,X[te]=re),re>V?(N+='\n'+te,V=U-re):(0===$&&(N+=' '),N+=te,V-=re)}else{var oe=J+L.measureText(' ').width;0===Z||oe>V?(0<Z&&(N+='\n'),N+=K[Z],V=U-J):(V-=oe,N+=' '+K[Z])}Y<F.length-1&&(N+='\n')}return N},M.measureFont=function(I){if(M._fonts[I])return M._fonts[I];var A={},D=M._canvas,L=M._context;L.font=I;var N=_Mathceil(L.measureText('|M\xC9q').width),F=_Mathceil(L.measureText('M').width),U=2*F;F=0|1.4*F,D.width=N,D.height=U,L.fillStyle='#f00',L.fillRect(0,0,N,U),L.font=I,L.textBaseline='alphabetic',L.fillStyle='#000',L.fillText('|M\xC9q',0,F);var X=L.getImageData(0,0,N,U).data,Y=X.length,V=4*N,K=0,Z=0,J=!1;for(K=0;K<F;++K){for(var Q=0;Q<V;Q+=4)if(255!==X[Z+Q]){J=!0;break}if(!J)Z+=V;else break}for(A.ascent=F-K,Z=Y-V,J=!1,K=U;K>F;--K){for(var $=0;$<V;$+=4)if(255!==X[Z+$]){J=!0;break}if(!J)Z-=V;else break}return A.descent=K-F,A.fontSize=A.ascent+A.descent,M._fonts[I]=A,A},M}();E.default=P;var C=document.createElement('canvas');C.width=C.height=10,P._canvas=C,P._context=C.getContext('2d'),P._fonts={}},function(T,E){'use strict';E.__esModule=!0,E.default=function(P){var C=P.width,M=P.height,O=P.getContext('2d'),I=O.getImageData(0,0,C,M),A=I.data,D=A.length,L={top:null,left:null,right:null,bottom:null},N,F,U;for(N=0;N<D;N+=4)0!==A[N+3]&&(F=N/4%C,U=~~(N/4/C),null===L.top&&(L.top=U),null===L.left?L.left=F:F<L.left&&(L.left=F),null===L.right?L.right=F+1:L.right<F&&(L.right=F+1),null===L.bottom?L.bottom=U:L.bottom<U&&(L.bottom=U));C=L.right-L.left,M=L.bottom-L.top+1;var X=O.getImageData(L.left,L.top,C,M);return{height:M,width:C,data:X}}},function(T,E,S){'use strict';function P(ce){return ce&&ce.__esModule?ce:{default:ce}}function C(ce,fe){if(!(ce instanceof fe))throw new TypeError('Cannot call a class as a function')}function M(ce,fe){if(!ce)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return fe&&('object'==typeof fe||'function'==typeof fe)?fe:ce}function O(ce,fe){if('function'!=typeof fe&&null!==fe)throw new TypeError('Super expression must either be null or a function, not '+typeof fe);ce.prototype=Object.create(fe&&fe.prototype,{constructor:{value:ce,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(ce,fe):ce.__proto__=fe)}E.__esModule=!0;var I=S(61),A=P(I),D=S(85),L=P(D),N=S(66),F=P(N),U=S(123),X=P(U),Y=S(65),V=P(Y),K=S(24),Z=S(62),J=S(23),Q=S(51),$=P(Q),te=S(124),re=P(te),oe=S(83),ne=P(oe),ie,le=new K.Matrix,se=new K.Point,de=new Float32Array(4),ue=new Float32Array(4),pe=function(ce){function fe(){var he=0<arguments.length&&void 0!==arguments[0]&&arguments[0];C(this,fe);var ge=M(this,ce.call(this));return ge.fillAlpha=1,ge.lineWidth=0,ge.nativeLines=he,ge.lineColor=0,ge.graphicsData=[],ge.tint=16777215,ge._prevTint=16777215,ge.blendMode=J.BLEND_MODES.NORMAL,ge.currentPath=null,ge._webGL={},ge.isMask=!1,ge.boundsPadding=0,ge._localBounds=new $.default,ge.dirty=0,ge.fastRectDirty=-1,ge.clearDirty=0,ge.boundsDirty=-1,ge.cachedSpriteDirty=!1,ge._spriteRect=null,ge._fastRect=!1,ge}return O(fe,ce),fe.prototype.clone=function(){var he=new fe;he.renderable=this.renderable,he.fillAlpha=this.fillAlpha,he.lineWidth=this.lineWidth,he.lineColor=this.lineColor,he.tint=this.tint,he.blendMode=this.blendMode,he.isMask=this.isMask,he.boundsPadding=this.boundsPadding,he.dirty=0,he.cachedSpriteDirty=this.cachedSpriteDirty;for(var ge=0;ge<this.graphicsData.length;++ge)he.graphicsData.push(this.graphicsData[ge].clone());return he.currentPath=he.graphicsData[he.graphicsData.length-1],he.updateLocalBounds(),he},fe.prototype.lineStyle=function(){var ge=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,_e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,be=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=ge,this.lineColor=_e,this.lineAlpha=be,this.currentPath)if(this.currentPath.shape.points.length){var ve=new K.Polygon(this.currentPath.shape.points.slice(-2));ve.closed=!1,this.drawShape(ve)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},fe.prototype.moveTo=function(ge,_e){var be=new K.Polygon([ge,_e]);return be.closed=!1,this.drawShape(be),this},fe.prototype.lineTo=function(ge,_e){return this.currentPath.shape.points.push(ge,_e),this.dirty++,this},fe.prototype.quadraticCurveTo=function(ge,_e,be,ve){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var Te=20,Ee=this.currentPath.shape.points,Se=0,Pe=0;0===Ee.length&&this.moveTo(0,0);for(var Ce=Ee[Ee.length-2],Me=Ee[Ee.length-1],Oe=1,Ie;Oe<=Te;++Oe)Ie=Oe/Te,Se=Ce+(ge-Ce)*Ie,Pe=Me+(_e-Me)*Ie,Ee.push(Se+(ge+(be-ge)*Ie-Se)*Ie,Pe+(_e+(ve-_e)*Ie-Pe)*Ie);return this.dirty++,this},fe.prototype.bezierCurveTo=function(ge,_e,be,ve,Te,Ee){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var Se=this.currentPath.shape.points,Pe=Se[Se.length-2],Ce=Se[Se.length-1];return Se.length-=2,(0,re.default)(Pe,Ce,ge,_e,be,ve,Te,Ee,Se),this.dirty++,this},fe.prototype.arcTo=function(ge,_e,be,ve,Te){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(ge,_e):this.moveTo(ge,_e);var Ee=this.currentPath.shape.points,Se=Ee[Ee.length-2],Pe=Ee[Ee.length-1],Ce=Pe-_e,Me=Se-ge,Oe=ve-_e,Ie=be-ge,Re=_Mathabs(Ce*Ie-Me*Oe);if(1e-8>Re||0===Te)(Ee[Ee.length-2]!==ge||Ee[Ee.length-1]!==_e)&&Ee.push(ge,_e);else{var Ae=Ce*Ce+Me*Me,we=Oe*Oe+Ie*Ie,De=Ce*Oe+Me*Ie,ke=Te*_Mathsqrt(Ae)/Re,Le=Te*_Mathsqrt(we)/Re,Ne=ke*De/Ae,Fe=Le*De/we,Be=ke*Ie+Le*Me,Ue=ke*Oe+Le*Ce,He=_Mathatan(Ce*(Le+Ne)-Ue,Me*(Le+Ne)-Be),ze=_Mathatan(Oe*(ke+Fe)-Ue,Ie*(ke+Fe)-Be);this.arc(Be+ge,Ue+_e,Te,He,ze,Me*Oe>Ie*Ce)}return this.dirty++,this},fe.prototype.arc=function(ge,_e,be,ve,Te){var Ee=5<arguments.length&&void 0!==arguments[5]&&arguments[5];if(ve===Te)return this;!Ee&&Te<=ve?Te+=2*_MathPI:Ee&&ve<=Te&&(ve+=2*_MathPI);var Se=Te-ve,Pe=40*_Mathceil(_Mathabs(Se)/(2*_MathPI));if(0==Se)return this;var Ce=ge+_Mathcos(ve)*be,Me=_e+_Mathsin(ve)*be,Oe=this.currentPath?this.currentPath.shape.points:null;Oe?(Oe[Oe.length-2]!==Ce||Oe[Oe.length-1]!==Me)&&Oe.push(Ce,Me):(this.moveTo(Ce,Me),Oe=this.currentPath.shape.points);for(var Ie=Se/(2*Pe),Ae=_Mathcos(Ie),we=_Mathsin(Ie),De=Pe-1,Le=0;Le<=De;++Le){var Ne=Le+De%1/De*Le,Fe=Ie+ve+2*Ie*Ne,Be=_Mathcos(Fe),Ue=-_Mathsin(Fe);Oe.push((Ae*Be+we*Ue)*be+ge,(Ae*-Ue+we*Be)*be+_e)}return this.dirty++,this},fe.prototype.beginFill=function(){var ge=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,_e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=ge,this.fillAlpha=_e,this.currentPath&&2>=this.currentPath.shape.points.length&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},fe.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},fe.prototype.drawRect=function(ge,_e,be,ve){return this.drawShape(new K.Rectangle(ge,_e,be,ve)),this},fe.prototype.drawRoundedRect=function(ge,_e,be,ve,Te){return this.drawShape(new K.RoundedRectangle(ge,_e,be,ve,Te)),this},fe.prototype.drawCircle=function(ge,_e,be){return this.drawShape(new K.Circle(ge,_e,be)),this},fe.prototype.drawEllipse=function(ge,_e,be,ve){return this.drawShape(new K.Ellipse(ge,_e,be,ve)),this},fe.prototype.drawPolygon=function(ge){var _e=ge,be=!0;if(_e instanceof K.Polygon&&(be=_e.closed,_e=_e.points),!Array.isArray(_e)){_e=Array(arguments.length);for(var ve=0;ve<_e.length;++ve)_e[ve]=arguments[ve]}var Te=new K.Polygon(_e);return Te.closed=be,this.drawShape(Te),this},fe.prototype.clear=function(){return(this.lineWidth||this.filling||0<this.graphicsData.length)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},fe.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===J.SHAPES.RECT&&!this.graphicsData[0].lineWidth},fe.prototype._renderWebGL=function(ge){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(ge):(ge.setObjectRenderer(ge.plugins.graphics),ge.plugins.graphics.render(this))},fe.prototype._renderSpriteRect=function(ge){var _e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new V.default(new F.default(F.default.WHITE)));var be=this._spriteRect;if(16777215===this.tint)be.tint=this.graphicsData[0].fillColor;else{var ve=de,Te=ue;(0,Z.hex2rgb)(this.graphicsData[0].fillColor,ve),(0,Z.hex2rgb)(this.tint,Te),ve[0]*=Te[0],ve[1]*=Te[1],ve[2]*=Te[2],be.tint=(0,Z.rgb2hex)(ve)}be.alpha=this.graphicsData[0].fillAlpha,be.worldAlpha=this.worldAlpha*be.alpha,be.blendMode=this.blendMode,be._texture._frame.width=_e.width,be._texture._frame.height=_e.height,be.transform.worldTransform=this.transform.worldTransform,be.anchor.set(-_e.x/_e.width,-_e.y/_e.height),be._onAnchorUpdate(),be._renderWebGL(ge)},fe.prototype._renderCanvas=function(ge){!0===this.isMask||ge.plugins.graphics.render(this)},fe.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var ge=this._localBounds;this._bounds.addFrame(this.transform,ge.minX,ge.minY,ge.maxX,ge.maxY)},fe.prototype.containsPoint=function(ge){this.worldTransform.applyInverse(ge,se);for(var _e=this.graphicsData,be=0,ve;be<_e.length;++be)if((ve=_e[be],!!ve.fill)&&ve.shape&&ve.shape.contains(se.x,se.y))return!0;return!1},fe.prototype.updateLocalBounds=function(){var ge=Infinity,_e=-Infinity,be=Infinity,ve=-Infinity;if(this.graphicsData.length)for(var Te=0,Ee=0,Se=0,Pe=0,Ce=0,Me=0;Me<this.graphicsData.length;Me++){var Oe=this.graphicsData[Me],Ie=Oe.type,Re=Oe.lineWidth;if(Te=Oe.shape,Ie===J.SHAPES.RECT||Ie===J.SHAPES.RREC)Ee=Te.x-Re/2,Se=Te.y-Re/2,Pe=Te.width+Re,Ce=Te.height+Re,ge=Ee<ge?Ee:ge,_e=Ee+Pe>_e?Ee+Pe:_e,be=Se<be?Se:be,ve=Se+Ce>ve?Se+Ce:ve;else if(Ie===J.SHAPES.CIRC)Ee=Te.x,Se=Te.y,Pe=Te.radius+Re/2,Ce=Te.radius+Re/2,ge=Ee-Pe<ge?Ee-Pe:ge,_e=Ee+Pe>_e?Ee+Pe:_e,be=Se-Ce<be?Se-Ce:be,ve=Se+Ce>ve?Se+Ce:ve;else if(Ie===J.SHAPES.ELIP)Ee=Te.x,Se=Te.y,Pe=Te.width+Re/2,Ce=Te.height+Re/2,ge=Ee-Pe<ge?Ee-Pe:ge,_e=Ee+Pe>_e?Ee+Pe:_e,be=Se-Ce<be?Se-Ce:be,ve=Se+Ce>ve?Se+Ce:ve;else for(var Ae=Te.points,we=0,De=0,ke=0,Le=0,Ne=0,Fe=0,Be=0,Ue=0,Xe=0;Xe+2<Ae.length;Xe+=2)(Ee=Ae[Xe],Se=Ae[Xe+1],we=Ae[Xe+2],De=Ae[Xe+3],ke=_Mathabs(we-Ee),Le=_Mathabs(De-Se),Ce=Re,Pe=_Mathsqrt(ke*ke+Le*Le),!(1e-9>Pe))&&(Ne=(Ce/Pe*Le+ke)/2,Fe=(Ce/Pe*ke+Le)/2,Be=(we+Ee)/2,Ue=(De+Se)/2,ge=Be-Ne<ge?Be-Ne:ge,_e=Be+Ne>_e?Be+Ne:_e,be=Ue-Fe<be?Ue-Fe:be,ve=Ue+Fe>ve?Ue+Fe:ve)}else ge=0,_e=0,be=0,ve=0;var Ge=this.boundsPadding;this._localBounds.minX=ge-Ge,this._localBounds.maxX=_e+2*Ge,this._localBounds.minY=be-Ge,this._localBounds.maxY=ve+2*Ge},fe.prototype.drawShape=function(ge){this.currentPath&&2>=this.currentPath.shape.points.length&&this.graphicsData.pop(),this.currentPath=null;var _e=new X.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,ge);return this.graphicsData.push(_e),_e.type===J.SHAPES.POLY&&(_e.shape.closed=_e.shape.closed||this.filling,this.currentPath=_e),this.dirty++,_e},fe.prototype.generateCanvasTexture=function(ge){var _e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,be=this.getLocalBounds(),ve=L.default.create(be.width,be.height,ge,_e);ie||(ie=new ne.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(le),le.invert(),le.tx-=be.x,le.ty-=be.y,ie.render(this,ve,!0,le);var Te=F.default.fromCanvas(ve.baseTexture._canvasRenderTarget.canvas,ge,'graphics');return Te.baseTexture.resolution=_e,Te.baseTexture.update(),Te},fe.prototype.closePath=function(){var ge=this.currentPath;return ge&&ge.shape&&ge.shape.close(),this},fe.prototype.addHole=function(){var ge=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(ge.shape),this.currentPath=null,this},fe.prototype.destroy=function(ge){ce.prototype.destroy.call(this,ge);for(var _e=0;_e<this.graphicsData.length;++_e)this.graphicsData[_e].destroy();for(var be in this._webgl)for(var ve=0;ve<this._webgl[be].data.length;++ve)this._webgl[be].data[ve].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},fe}(A.default);E.default=pe,pe._SPRITE_TEXTURE=null},function(T,E){'use strict';function S(C,M){if(!(C instanceof M))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var P=function(){function C(M,O,I,A,D,L,N,F){S(this,C),this.lineWidth=M,this.nativeLines=N,this.lineColor=O,this.lineAlpha=I,this._lineTint=O,this.fillColor=A,this.fillAlpha=D,this._fillTint=A,this.fill=L,this.holes=[],this.shape=F,this.type=F.type}return C.prototype.clone=function(){return new C(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},C.prototype.addHole=function(O){this.holes.push(O)},C.prototype.destroy=function(){this.shape=null,this.holes=null},C}();E.default=P},function(T,E){'use strict';E.__esModule=!0,E.default=function(P,C,M,O,I,A,D,L){var N=8<arguments.length&&arguments[8]!==void 0?arguments[8]:[],F=20,U=0,X=0,Y=0,V=0,K=0;N.push(P,C);for(var Z=1,J=0;Z<=F;++Z)J=Z/F,U=1-J,X=U*U,Y=X*U,V=J*J,K=V*J,N.push(Y*P+3*X*J*M+3*U*V*I+K*D,Y*C+3*X*J*O+3*U*V*A+K*L);return N}},function(T,E,S){'use strict';function P(ie){return ie&&ie.__esModule?ie:{default:ie}}function C(ie,le){if(!(ie instanceof le))throw new TypeError('Cannot call a class as a function')}function M(ie,le){if(!ie)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return le&&('object'==typeof le||'function'==typeof le)?le:ie}function O(ie,le){if('function'!=typeof le&&null!==le)throw new TypeError('Super expression must either be null or a function, not '+typeof le);ie.prototype=Object.create(le&&le.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),le&&(Object.setPrototypeOf?Object.setPrototypeOf(ie,le):ie.__proto__=le)}E.__esModule=!0;var I=S(62),A=S(23),D=S(93),L=P(D),N=S(95),F=P(N),U=S(126),X=P(U),Y=S(127),V=P(Y),K=S(128),Z=P(K),J=S(131),Q=P(J),$=S(132),te=P($),re=S(133),oe=P(re),ne=function(ie){function le(se){C(this,le);var de=M(this,ie.call(this,se));return de.graphicsDataPool=[],de.primitiveShader=null,de.gl=se.gl,de.CONTEXT_UID=0,de}return O(le,ie),le.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new V.default(this.gl)},le.prototype.destroy=function(){L.default.prototype.destroy.call(this);for(var de=0;de<this.graphicsDataPool.length;++de)this.graphicsDataPool[de].destroy();this.graphicsDataPool=null},le.prototype.render=function(de){var ue=this.renderer,pe=ue.gl,fe=de._webGL[this.CONTEXT_UID],ce;fe&&de.dirty===fe.dirty||(this.updateGraphics(de),fe=de._webGL[this.CONTEXT_UID]);var he=this.primitiveShader;ue.bindShader(he),ue.state.setBlendMode(de.blendMode);for(var ge=0,_e=fe.data.length;ge<_e;ge++){ce=fe.data[ge];var be=ce.shader;ue.bindShader(be),be.uniforms.translationMatrix=de.transform.worldTransform.toArray(!0),be.uniforms.tint=(0,I.hex2rgb)(de.tint),be.uniforms.alpha=de.worldAlpha,ue.bindVao(ce.vao),ce.nativeLines?pe.drawArrays(pe.LINES,0,ce.points.length/6):ce.vao.draw(pe.TRIANGLE_STRIP,ce.indices.length)}},le.prototype.updateGraphics=function(de){var ue=this.renderer.gl,pe=de._webGL[this.CONTEXT_UID];if(pe||(pe=de._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:ue,clearDirty:-1,dirty:-1}),pe.dirty=de.dirty,de.clearDirty!==pe.clearDirty){pe.clearDirty=de.clearDirty;for(var ce=0;ce<pe.data.length;ce++)this.graphicsDataPool.push(pe.data[ce]);pe.data.length=0,pe.lastIndex=0}for(var fe=void 0,he=void 0,ge=pe.lastIndex,_e;ge<de.graphicsData.length;ge++)_e=de.graphicsData[ge],fe=this.getWebGLData(pe,0),_e.nativeLines&&_e.lineWidth&&(he=this.getWebGLData(pe,0,!0),pe.lastIndex++),_e.type===A.SHAPES.POLY&&(0,Z.default)(_e,fe,he),_e.type===A.SHAPES.RECT?(0,Q.default)(_e,fe,he):_e.type===A.SHAPES.CIRC||_e.type===A.SHAPES.ELIP?(0,oe.default)(_e,fe,he):_e.type===A.SHAPES.RREC&&(0,te.default)(_e,fe,he),pe.lastIndex++;this.renderer.bindVao(null);for(var be=0;be<pe.data.length;be++)fe=pe.data[be],fe.dirty&&fe.upload()},le.prototype.getWebGLData=function(de,ue,pe){var ce=de.data[de.data.length-1];return(!ce||ce.nativeLines!==pe||3.2e5<ce.points.length)&&(ce=this.graphicsDataPool.pop()||new X.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),ce.nativeLines=pe,ce.reset(ue),de.data.push(ce)),ce.dirty=!0,ce},le}(L.default);E.default=ne,F.default.registerPlugin('graphics',ne)},function(T,E,S){'use strict';function C(A,D){if(!(A instanceof D))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(34),O=function(A){return A&&A.__esModule?A:{default:A}}(M),I=function(){function A(D,L,N){C(this,A),this.gl=D,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=O.default.GLBuffer.createVertexBuffer(D),this.indexBuffer=O.default.GLBuffer.createIndexBuffer(D),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=L,this.vao=new O.default.VertexArrayObject(D,N).addIndex(this.indexBuffer).addAttribute(this.buffer,L.attributes.aVertexPosition,D.FLOAT,!1,24,0).addAttribute(this.buffer,L.attributes.aColor,D.FLOAT,!1,24,8)}return A.prototype.reset=function(){this.points.length=0,this.indices.length=0},A.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},A.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},A}();E.default=I},function(T,E,S){'use strict';function C(L,N){if(!(L instanceof N))throw new TypeError('Cannot call a class as a function')}function M(L,N){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:L}function O(L,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);L.prototype=Object.create(N&&N.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(L,N):L.__proto__=N)}E.__esModule=!0;var I=S(107),A=function(L){return L&&L.__esModule?L:{default:L}}(I),D=function(L){function N(F){return C(this,N),M(this,L.call(this,F,['attribute vec2 aVertexPosition;','attribute vec4 aColor;','uniform mat3 translationMatrix;','uniform mat3 projectionMatrix;','uniform float alpha;','uniform vec3 tint;','varying vec4 vColor;','void main(void){','   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);','   vColor = aColor * vec4(tint * alpha, alpha);','}'].join('\n'),['varying vec4 vColor;','void main(void){','   gl_FragColor = vColor;','}'].join('\n')))}return O(N,L),N}(A.default);E.default=D},function(T,E,S){'use strict';function P(L){return L&&L.__esModule?L:{default:L}}E.__esModule=!0,E.default=function(L,N,F){L.points=L.shape.points.slice();var U=L.points;if(L.fill&&6<=U.length){for(var X=[],Y=L.holes,V=0,K;V<Y.length;V++)K=Y[V],X.push(U.length/2),U=U.concat(K.points);var Z=N.points,J=N.indices,Q=U.length/2,$=(0,I.hex2rgb)(L.fillColor),te=L.fillAlpha,re=$[0]*te,oe=$[1]*te,ne=$[2]*te,ie=(0,D.default)(U,X,2);if(!ie)return;for(var le=Z.length/6,se=0;se<ie.length;se+=3)J.push(ie[se]+le),J.push(ie[se]+le),J.push(ie[se+1]+le),J.push(ie[se+2]+le),J.push(ie[se+2]+le);for(var de=0;de<Q;de++)Z.push(U[2*de],U[2*de+1],re,oe,ne,te)}0<L.lineWidth&&(0,O.default)(L,N,F)};var M=S(129),O=P(M),I=S(62),A=S(130),D=P(A)},function(T,E,S){'use strict';function P(I,A){var D=I.points;if(0!==D.length){var L=new M.Point(D[0],D[1]),N=new M.Point(D[D.length-2],D[D.length-1]);if(L.x===N.x&&L.y===N.y){D=D.slice(),D.pop(),D.pop(),N=new M.Point(D[D.length-2],D[D.length-1]);var F=N.x+0.5*(L.x-N.x),U=N.y+0.5*(L.y-N.y);D.unshift(F,U),D.push(F,U)}var X=A.points,Y=A.indices,V=D.length/2,K=D.length,Z=X.length/6,J=I.lineWidth/2,Q=(0,O.hex2rgb)(I.lineColor),$=I.lineAlpha,te=Q[0]*$,re=Q[1]*$,oe=Q[2]*$,ne=D[0],ie=D[1],le=D[2],se=D[3],de=0,ue=0,pe=-(ie-se),ce=ne-le,fe=0,he=0,ge=0,_e=0,be=_Mathsqrt(pe*pe+ce*ce);pe/=be,ce/=be,pe*=J,ce*=J,X.push(ne-pe,ie-ce,te,re,oe,$),X.push(ne+pe,ie+ce,te,re,oe,$);for(var ve=1;ve<V-1;++ve){ne=D[2*(ve-1)],ie=D[2*(ve-1)+1],le=D[2*ve],se=D[2*ve+1],de=D[2*(ve+1)],ue=D[2*(ve+1)+1],pe=-(ie-se),ce=ne-le,be=_Mathsqrt(pe*pe+ce*ce),pe/=be,ce/=be,pe*=J,ce*=J,fe=-(se-ue),he=le-de,be=_Mathsqrt(fe*fe+he*he),fe/=be,he/=be,fe*=J,he*=J;var Te=-ce+ie-(-ce+se),Ee=-pe+le-(-pe+ne),Se=(-pe+ne)*(-ce+se)-(-pe+le)*(-ce+ie),Pe=-he+ue-(-he+se),Ce=-fe+le-(-fe+de),Me=(-fe+de)*(-he+se)-(-fe+le)*(-he+ue),Oe=Te*Ce-Pe*Ee;if(0.1>_Mathabs(Oe)){Oe+=10.1,X.push(le-pe,se-ce,te,re,oe,$),X.push(le+pe,se+ce,te,re,oe,$);continue}var Ie=(Ee*Me-Ce*Se)/Oe,Re=(Pe*Se-Te*Me)/Oe,Ae=(Ie-le)*(Ie-le)+(Re-se)*(Re-se);Ae>196*J*J?(ge=pe-fe,_e=ce-he,be=_Mathsqrt(ge*ge+_e*_e),ge/=be,_e/=be,ge*=J,_e*=J,X.push(le-ge,se-_e),X.push(te,re,oe,$),X.push(le+ge,se+_e),X.push(te,re,oe,$),X.push(le-ge,se-_e),X.push(te,re,oe,$),K++):(X.push(Ie,Re),X.push(te,re,oe,$),X.push(le-(Ie-le),se-(Re-se)),X.push(te,re,oe,$))}ne=D[2*(V-2)],ie=D[2*(V-2)+1],le=D[2*(V-1)],se=D[2*(V-1)+1],pe=-(ie-se),ce=ne-le,be=_Mathsqrt(pe*pe+ce*ce),pe/=be,ce/=be,pe*=J,ce*=J,X.push(le-pe,se-ce),X.push(te,re,oe,$),X.push(le+pe,se+ce),X.push(te,re,oe,$),Y.push(Z);for(var we=0;we<K;++we)Y.push(Z++);Y.push(Z-1)}}function C(I,A){var D=0,L=I.points;if(0!==L.length){var N=A.points,F=L.length/2,U=(0,O.hex2rgb)(I.lineColor),X=I.lineAlpha,Y=U[0]*X,V=U[1]*X,K=U[2]*X;for(D=1;D<F;D++){var Z=L[2*(D-1)],J=L[2*(D-1)+1],Q=L[2*D],$=L[2*D+1];N.push(Z,J),N.push(Y,V,K,X),N.push(Q,$),N.push(Y,V,K,X)}}}E.__esModule=!0,E.default=function(I,A,D){I.nativeLines?C(I,D):P(I,A)};var M=S(24),O=S(62)},function(T){'use strict';function S(pe,ce,fe){fe=fe||2;var he=ce&&ce.length,ge=he?ce[0]*fe:pe.length,_e=P(pe,0,ge,fe,!0),be=[];if(!_e)return be;var ve,Te,Ee,Se,Pe,Ce,Me;if(he&&(_e=L(pe,ce,_e,fe)),pe.length>80*fe){ve=Ee=pe[0],Te=Se=pe[1];for(var Oe=fe;Oe<ge;Oe+=fe)Pe=pe[Oe],Ce=pe[Oe+1],Pe<ve&&(ve=Pe),Ce<Te&&(Te=Ce),Pe>Ee&&(Ee=Pe),Ce>Se&&(Se=Ce);Me=_Mathmax(Ee-ve,Se-Te)}return M(_e,be,fe,ve,Te,Me),be}function P(pe,ce,fe,he,ge){var _e,be;if(ge===0<ue(pe,ce,fe,he))for(_e=ce;_e<fe;_e+=he)be=le(_e,pe[_e],pe[_e+1],be);else for(_e=fe-he;_e>=ce;_e-=he)be=le(_e,pe[_e],pe[_e+1],be);return be&&$(be,be.next)&&(se(be),be=be.next),be}function C(pe,ce){if(!pe)return pe;ce||(ce=pe);var fe=pe,he;do if(he=!1,!fe.steiner&&($(fe,fe.next)||0===Q(fe.prev,fe,fe.next))){if(se(fe),fe=ce=fe.prev,fe===fe.next)return null;he=!0}else fe=fe.next;while(he||fe!==ce);return ce}function M(pe,ce,fe,he,ge,_e,be){if(pe){!be&&_e&&X(pe,he,ge,_e);for(var ve=pe,Te,Ee;pe.prev!==pe.next;){if(Te=pe.prev,Ee=pe.next,_e?I(pe,he,ge,_e):O(pe)){ce.push(Te.i/fe),ce.push(pe.i/fe),ce.push(Ee.i/fe),se(pe),pe=Ee.next,ve=Ee.next;continue}if(pe=Ee,pe===ve){be?1===be?(pe=A(pe,ce,fe),M(pe,ce,fe,he,ge,_e,2)):2===be&&D(pe,ce,fe,he,ge,_e):M(C(pe),ce,fe,he,ge,_e,1);break}}}}function O(pe){var ce=pe.prev,fe=pe,he=pe.next;if(0<=Q(ce,fe,he))return!1;for(var ge=pe.next.next;ge!==pe.prev;){if(Z(ce.x,ce.y,fe.x,fe.y,he.x,he.y,ge.x,ge.y)&&0<=Q(ge.prev,ge,ge.next))return!1;ge=ge.next}return!0}function I(pe,ce,fe,he){var ge=pe.prev,_e=pe,be=pe.next;if(0<=Q(ge,_e,be))return!1;for(var ve=ge.x<_e.x?ge.x<be.x?ge.x:be.x:_e.x<be.x?_e.x:be.x,Te=ge.y<_e.y?ge.y<be.y?ge.y:be.y:_e.y<be.y?_e.y:be.y,Ee=ge.x>_e.x?ge.x>be.x?ge.x:be.x:_e.x>be.x?_e.x:be.x,Se=ge.y>_e.y?ge.y>be.y?ge.y:be.y:_e.y>be.y?_e.y:be.y,Pe=V(ve,Te,ce,fe,he),Ce=V(Ee,Se,ce,fe,he),Me=pe.nextZ;Me&&Me.z<=Ce;){if(Me!==pe.prev&&Me!==pe.next&&Z(ge.x,ge.y,_e.x,_e.y,be.x,be.y,Me.x,Me.y)&&0<=Q(Me.prev,Me,Me.next))return!1;Me=Me.nextZ}for(Me=pe.prevZ;Me&&Me.z>=Pe;){if(Me!==pe.prev&&Me!==pe.next&&Z(ge.x,ge.y,_e.x,_e.y,be.x,be.y,Me.x,Me.y)&&0<=Q(Me.prev,Me,Me.next))return!1;Me=Me.prevZ}return!0}function A(pe,ce,fe){var he=pe;do{var ge=he.prev,_e=he.next.next;!$(ge,_e)&&te(ge,he,he.next,_e)&&oe(ge,_e)&&oe(_e,ge)&&(ce.push(ge.i/fe),ce.push(he.i/fe),ce.push(_e.i/fe),se(he),se(he.next),he=pe=_e),he=he.next}while(he!==pe);return he}function D(pe,ce,fe,he,ge,_e){var be=pe;do{for(var ve=be.next.next;ve!==be.prev;){if(be.i!==ve.i&&J(be,ve)){var Te=ie(be,ve);return be=C(be,be.next),Te=C(Te,Te.next),M(be,ce,fe,he,ge,_e),void M(Te,ce,fe,he,ge,_e)}ve=ve.next}be=be.next}while(be!==pe)}function L(pe,ce,fe,he){var ge=[],_e,be,ve,Te,Ee;for(_e=0,be=ce.length;_e<be;_e++)ve=ce[_e]*he,Te=_e<be-1?ce[_e+1]*he:pe.length,Ee=P(pe,ve,Te,he,!1),Ee===Ee.next&&(Ee.steiner=!0),ge.push(K(Ee));for(ge.sort(N),_e=0;_e<ge.length;_e++)F(ge[_e],fe),fe=C(fe,fe.next);return fe}function N(pe,ce){return pe.x-ce.x}function F(pe,ce){if(ce=U(pe,ce),ce){var fe=ie(ce,pe);C(fe,fe.next)}}function U(pe,ce){var fe=ce,he=pe.x,ge=pe.y,_e=-Infinity,be;do{if(ge<=fe.y&&ge>=fe.next.y){var ve=fe.x+(ge-fe.y)*(fe.next.x-fe.x)/(fe.next.y-fe.y);if(ve<=he&&ve>_e){if(_e=ve,ve===he){if(ge===fe.y)return fe;if(ge===fe.next.y)return fe.next}be=fe.x<fe.next.x?fe:fe.next}}fe=fe.next}while(fe!==ce);if(!be)return null;if(he===_e)return be.prev;var Te=be,Ee=be.x,Se=be.y,Pe=Infinity,Ce;for(fe=be.next;fe!==Te;)he>=fe.x&&fe.x>=Ee&&Z(ge<Se?he:_e,ge,Ee,Se,ge<Se?_e:he,ge,fe.x,fe.y)&&(Ce=_Mathabs(ge-fe.y)/(he-fe.x),(Ce<Pe||Ce===Pe&&fe.x>be.x)&&oe(fe,pe)&&(be=fe,Pe=Ce)),fe=fe.next;return be}function X(pe,ce,fe,he){var ge=pe;do null===ge.z&&(ge.z=V(ge.x,ge.y,ce,fe,he)),ge.prevZ=ge.prev,ge.nextZ=ge.next,ge=ge.next;while(ge!==pe);ge.prevZ.nextZ=null,ge.prevZ=null,Y(ge)}function Y(pe){var Ee=1,ce,fe,he,ge,_e,be,ve,Te;do{for(fe=pe,pe=null,_e=null,be=0;fe;){for(be++,he=fe,ve=0,ce=0;ce<Ee&&(ve++,he=he.nextZ,!!he);ce++);for(Te=Ee;0<ve||0<Te&&he;)0===ve?(ge=he,he=he.nextZ,Te--):0!==Te&&he?fe.z<=he.z?(ge=fe,fe=fe.nextZ,ve--):(ge=he,he=he.nextZ,Te--):(ge=fe,fe=fe.nextZ,ve--),_e?_e.nextZ=ge:pe=ge,ge.prevZ=_e,_e=ge;fe=he}_e.nextZ=null,Ee*=2}while(1<be);return pe}function V(pe,ce,fe,he,ge){return pe=32767*(pe-fe)/ge,ce=32767*(ce-he)/ge,pe=16711935&(pe|pe<<8),pe=252645135&(pe|pe<<4),pe=858993459&(pe|pe<<2),pe=1431655765&(pe|pe<<1),ce=16711935&(ce|ce<<8),ce=252645135&(ce|ce<<4),ce=858993459&(ce|ce<<2),ce=1431655765&(ce|ce<<1),pe|ce<<1}function K(pe){var ce=pe,fe=pe;do ce.x<fe.x&&(fe=ce),ce=ce.next;while(ce!==pe);return fe}function Z(pe,ce,fe,he,ge,_e,be,ve){return 0<=(ge-be)*(ce-ve)-(pe-be)*(_e-ve)&&0<=(pe-be)*(he-ve)-(fe-be)*(ce-ve)&&0<=(fe-be)*(_e-ve)-(ge-be)*(he-ve)}function J(pe,ce){return pe.next.i!==ce.i&&pe.prev.i!==ce.i&&!re(pe,ce)&&oe(pe,ce)&&oe(ce,pe)&&ne(pe,ce)}function Q(pe,ce,fe){return(ce.y-pe.y)*(fe.x-ce.x)-(ce.x-pe.x)*(fe.y-ce.y)}function $(pe,ce){return pe.x===ce.x&&pe.y===ce.y}function te(pe,ce,fe,he){return $(pe,ce)&&$(fe,he)||$(pe,he)&&$(fe,ce)||0<Q(pe,ce,fe)!=0<Q(pe,ce,he)&&0<Q(fe,he,pe)!=0<Q(fe,he,ce)}function re(pe,ce){var fe=pe;do{if(fe.i!==pe.i&&fe.next.i!==pe.i&&fe.i!==ce.i&&fe.next.i!==ce.i&&te(fe,fe.next,pe,ce))return!0;fe=fe.next}while(fe!==pe);return!1}function oe(pe,ce){return 0>Q(pe.prev,pe,pe.next)?0<=Q(pe,ce,pe.next)&&0<=Q(pe,pe.prev,ce):0>Q(pe,ce,pe.prev)||0>Q(pe,pe.next,ce)}function ne(pe,ce){var fe=pe,he=!1,ge=(pe.x+ce.x)/2,_e=(pe.y+ce.y)/2;do fe.y>_e!=fe.next.y>_e&&ge<(fe.next.x-fe.x)*(_e-fe.y)/(fe.next.y-fe.y)+fe.x&&(he=!he),fe=fe.next;while(fe!==pe);return he}function ie(pe,ce){var fe=new de(pe.i,pe.x,pe.y),he=new de(ce.i,ce.x,ce.y),ge=pe.next,_e=ce.prev;return pe.next=ce,ce.prev=pe,fe.next=ge,ge.prev=fe,he.next=fe,fe.prev=he,_e.next=he,he.prev=_e,he}function le(pe,ce,fe,he){var ge=new de(pe,ce,fe);return he?(ge.next=he.next,ge.prev=he,he.next.prev=ge,he.next=ge):(ge.prev=ge,ge.next=ge),ge}function se(pe){pe.next.prev=pe.prev,pe.prev.next=pe.next,pe.prevZ&&(pe.prevZ.nextZ=pe.nextZ),pe.nextZ&&(pe.nextZ.prevZ=pe.prevZ)}function de(pe,ce,fe){this.i=pe,this.x=ce,this.y=fe,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ue(pe,ce,fe,he){for(var ge=0,_e=ce,be=fe-he;_e<fe;_e+=he)ge+=(pe[be]-pe[_e])*(pe[_e+1]+pe[be+1]),be=_e;return ge}T.exports=S,S.deviation=function(pe,ce,fe,he){var ge=ce&&ce.length,_e=ge?ce[0]*fe:pe.length,be=_Mathabs(ue(pe,0,_e,fe));if(ge)for(var ve=0,Te=ce.length;ve<Te;ve++){var Ee=ce[ve]*fe,Se=ve<Te-1?ce[ve+1]*fe:pe.length;be-=_Mathabs(ue(pe,Ee,Se,fe))}var Pe=0;for(ve=0;ve<he.length;ve+=3){var Ce=he[ve]*fe,Me=he[ve+1]*fe,Oe=he[ve+2]*fe;Pe+=_Mathabs((pe[Ce]-pe[Oe])*(pe[Me+1]-pe[Ce+1])-(pe[Ce]-pe[Me])*(pe[Oe+1]-pe[Ce+1]))}return 0===be&&0===Pe?0:_Mathabs((Pe-be)/be)},S.flatten=function(pe){for(var ce=pe[0][0].length,fe={vertices:[],holes:[],dimensions:ce},he=0,ge=0;ge<pe.length;ge++){for(var _e=0;_e<pe[ge].length;_e++)for(var be=0;be<ce;be++)fe.vertices.push(pe[ge][_e][be]);0<ge&&(he+=pe[ge-1].length,fe.holes.push(he))}return fe}},function(T,E,S){'use strict';E.__esModule=!0,E.default=function(A,D,L){var N=A.shape,F=N.x,U=N.y,X=N.width,Y=N.height;if(A.fill){var V=(0,I.hex2rgb)(A.fillColor),K=A.fillAlpha,Z=V[0]*K,J=V[1]*K,Q=V[2]*K,$=D.points,te=D.indices,re=$.length/6;$.push(F,U),$.push(Z,J,Q,K),$.push(F+X,U),$.push(Z,J,Q,K),$.push(F,U+Y),$.push(Z,J,Q,K),$.push(F+X,U+Y),$.push(Z,J,Q,K),te.push(re,re,re+1,re+2,re+3,re+3)}if(A.lineWidth){var oe=A.points;A.points=[F,U,F+X,U,F+X,U+Y,F,U+Y,F,U],(0,O.default)(A,D,L),A.points=oe}};var M=S(129),O=function(A){return A&&A.__esModule?A:{default:A}}(M),I=S(62)},function(T,E,S){'use strict';function P(F){return F&&F.__esModule?F:{default:F}}function M(F,U,X){return F+(U-F)*X}function O(F,U,X,Y,V,K){for(var Z=6<arguments.length&&arguments[6]!==void 0?arguments[6]:[],J=20,Q=Z,$=0,te=0,re=0,oe=0,ne=0,ie=0,le=0,se=0;le<=J;++le)se=le/J,$=M(F,X,se),te=M(U,Y,se),re=M(X,V,se),oe=M(Y,K,se),ne=M($,re,se),ie=M(te,oe,se),Q.push(ne,ie);return Q}E.__esModule=!0,E.default=function(F,U,X){var Y=F.shape,V=Y.x,K=Y.y,Z=Y.width,J=Y.height,Q=Y.radius,$=[];if($.push(V,K+Q),O(V,K+J-Q,V,K+J,V+Q,K+J,$),O(V+Z-Q,K+J,V+Z,K+J,V+Z,K+J-Q,$),O(V+Z,K+Q,V+Z,K,V+Z-Q,K,$),O(V+Q,K,V,K,V,K+Q+1e-10,$),F.fill){for(var te=(0,N.hex2rgb)(F.fillColor),re=F.fillAlpha,oe=te[0]*re,ne=te[1]*re,ie=te[2]*re,le=U.points,se=U.indices,de=le.length/6,ue=(0,A.default)($,null,2),pe=0,ce=ue.length;pe<ce;pe+=3)se.push(ue[pe]+de),se.push(ue[pe]+de),se.push(ue[pe+1]+de),se.push(ue[pe+2]+de),se.push(ue[pe+2]+de);for(var fe=0,he=$.length;fe<he;fe++)le.push($[fe],$[++fe],oe,ne,ie,re)}if(F.lineWidth){var ge=F.points;F.points=$,(0,L.default)(F,U,X),F.points=ge}};var I=S(130),A=P(I),D=S(129),L=P(D),N=S(62)},function(T,E,S){'use strict';E.__esModule=!0,E.default=function(D,L,N){var F=D.shape,U=F.x,X=F.y,Y,V;if(D.type===I.SHAPES.CIRC?(Y=F.radius,V=F.radius):(Y=F.width,V=F.height),0!==Y&&0!==V){var K=_Mathfloor(30*_Mathsqrt(F.radius))||_Mathfloor(15*_Mathsqrt(F.width+F.height)),Z=2*_MathPI/K;if(D.fill){var J=(0,A.hex2rgb)(D.fillColor),Q=D.fillAlpha,$=J[0]*Q,te=J[1]*Q,re=J[2]*Q,oe=L.points,ne=L.indices,ie=oe.length/6;ne.push(ie);for(var le=0;le<K+1;le++)oe.push(U,X,$,te,re,Q),oe.push(U+_Mathsin(Z*le)*Y,X+_Mathcos(Z*le)*V,$,te,re,Q),ne.push(ie++,ie++);ne.push(ie-1)}if(D.lineWidth){var se=D.points;D.points=[];for(var de=0;de<K+1;de++)D.points.push(U+_Mathsin(Z*de)*Y,X+_Mathcos(Z*de)*V);(0,O.default)(D,L,N),D.points=se}}};var M=S(129),O=function(D){return D&&D.__esModule?D:{default:D}}(M),I=S(23),A=S(62)},function(T,E,S){'use strict';function C(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(83),O=function(D){return D&&D.__esModule?D:{default:D}}(M),I=S(23),A=function(){function D(L){C(this,D),this.renderer=L}return D.prototype.render=function(N){var F=this.renderer,U=F.context,X=N.worldAlpha,Y=N.transform.worldTransform,V=F.resolution;this._prevTint!==this.tint&&(this.dirty=!0),U.setTransform(Y.a*V,Y.b*V,Y.c*V,Y.d*V,Y.tx*V,Y.ty*V),N.dirty&&(this.updateGraphicsTint(N),N.dirty=!1),F.setBlendMode(N.blendMode);for(var K=0;K<N.graphicsData.length;K++){var Z=N.graphicsData[K],J=Z.shape,Q=Z._fillTint,$=Z._lineTint;if(U.lineWidth=Z.lineWidth,Z.type===I.SHAPES.POLY){U.beginPath(),this.renderPolygon(J.points,J.closed,U);for(var te=0;te<Z.holes.length;te++)this.renderPolygon(Z.holes[te].points,!0,U);Z.fill&&(U.globalAlpha=Z.fillAlpha*X,U.fillStyle='#'+('00000'+(0|Q).toString(16)).substr(-6),U.fill()),Z.lineWidth&&(U.globalAlpha=Z.lineAlpha*X,U.strokeStyle='#'+('00000'+(0|$).toString(16)).substr(-6),U.stroke())}else if(Z.type===I.SHAPES.RECT)(Z.fillColor||0===Z.fillColor)&&(U.globalAlpha=Z.fillAlpha*X,U.fillStyle='#'+('00000'+(0|Q).toString(16)).substr(-6),U.fillRect(J.x,J.y,J.width,J.height)),Z.lineWidth&&(U.globalAlpha=Z.lineAlpha*X,U.strokeStyle='#'+('00000'+(0|$).toString(16)).substr(-6),U.strokeRect(J.x,J.y,J.width,J.height));else if(Z.type===I.SHAPES.CIRC)U.beginPath(),U.arc(J.x,J.y,J.radius,0,2*_MathPI),U.closePath(),Z.fill&&(U.globalAlpha=Z.fillAlpha*X,U.fillStyle='#'+('00000'+(0|Q).toString(16)).substr(-6),U.fill()),Z.lineWidth&&(U.globalAlpha=Z.lineAlpha*X,U.strokeStyle='#'+('00000'+(0|$).toString(16)).substr(-6),U.stroke());else if(Z.type===I.SHAPES.ELIP){var re=2*J.width,oe=2*J.height,ne=J.x-re/2,ie=J.y-oe/2;U.beginPath();var le=0.5522848,se=re/2*le,de=oe/2*le,ue=ne+re,pe=ie+oe,ce=ne+re/2,fe=ie+oe/2;U.moveTo(ne,fe),U.bezierCurveTo(ne,fe-de,ce-se,ie,ce,ie),U.bezierCurveTo(ce+se,ie,ue,fe-de,ue,fe),U.bezierCurveTo(ue,fe+de,ce+se,pe,ce,pe),U.bezierCurveTo(ce-se,pe,ne,fe+de,ne,fe),U.closePath(),Z.fill&&(U.globalAlpha=Z.fillAlpha*X,U.fillStyle='#'+('00000'+(0|Q).toString(16)).substr(-6),U.fill()),Z.lineWidth&&(U.globalAlpha=Z.lineAlpha*X,U.strokeStyle='#'+('00000'+(0|$).toString(16)).substr(-6),U.stroke())}else if(Z.type===I.SHAPES.RREC){var he=J.x,ge=J.y,_e=J.width,be=J.height,ve=J.radius,Te=0|_Mathmin(_e,be)/2;ve=ve>Te?Te:ve,U.beginPath(),U.moveTo(he,ge+ve),U.lineTo(he,ge+be-ve),U.quadraticCurveTo(he,ge+be,he+ve,ge+be),U.lineTo(he+_e-ve,ge+be),U.quadraticCurveTo(he+_e,ge+be,he+_e,ge+be-ve),U.lineTo(he+_e,ge+ve),U.quadraticCurveTo(he+_e,ge,he+_e-ve,ge),U.lineTo(he+ve,ge),U.quadraticCurveTo(he,ge,he,ge+ve),U.closePath(),(Z.fillColor||0===Z.fillColor)&&(U.globalAlpha=Z.fillAlpha*X,U.fillStyle='#'+('00000'+(0|Q).toString(16)).substr(-6),U.fill()),Z.lineWidth&&(U.globalAlpha=Z.lineAlpha*X,U.strokeStyle='#'+('00000'+(0|$).toString(16)).substr(-6),U.stroke())}}},D.prototype.updateGraphicsTint=function(N){N._prevTint=N.tint;for(var F=(255&N.tint>>16)/255,U=(255&N.tint>>8)/255,X=(255&N.tint)/255,Y=0;Y<N.graphicsData.length;++Y){var V=N.graphicsData[Y],K=0|V.fillColor,Z=0|V.lineColor;V._fillTint=(255*((255&K>>16)/255*F)<<16)+(255*((255&K>>8)/255*U)<<8)+255*((255&K)/255*X),V._lineTint=(255*((255&Z>>16)/255*F)<<16)+(255*((255&Z>>8)/255*U)<<8)+255*((255&Z)/255*X)}},D.prototype.renderPolygon=function(N,F,U){U.moveTo(N[0],N[1]);for(var X=1;X<N.length/2;++X)U.lineTo(N[2*X],N[2*X+1]);F&&U.closePath()},D.prototype.destroy=function(){this.renderer=null},D}();E.default=A,O.default.registerPlugin('graphics',A)},function(T,E,S){'use strict';function P(A,D){if(!(A instanceof D))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=function(){function A(D,L){for(var N=0,F;N<L.length;N++)F=L[N],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(D,F.key,F)}return function(D,L,N){return L&&A(D.prototype,L),N&&A(D,N),D}}(),M=S(22),O=S(62),I=function(){function A(D,L){var N=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;P(this,A),this.baseTexture=D,this.textures={},this.data=L,this.resolution=this._updateResolution(N||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return C(A,null,[{key:'BATCH_SIZE',get:function(){return 1e3}}]),A.prototype._updateResolution=function(L){var N=this.data.meta.scale,F=(0,O.getResolutionOfUrl)(L,null);return null===F&&(F=void 0===N?1:parseFloat(N)),1!==F&&(this.baseTexture.resolution=F,this.baseTexture.update()),F},A.prototype.parse=function(L){this._batchIndex=0,this._callback=L,this._frameKeys.length<=A.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},A.prototype._processFrames=function(L){for(var N=L,F=A.BATCH_SIZE;N-L<F&&N<this._frameKeys.length;){var U=this._frameKeys[N],X=this._frames[U].frame;if(X){var Y=null,V=null,K=new M.Rectangle(0,0,this._frames[U].sourceSize.w/this.resolution,this._frames[U].sourceSize.h/this.resolution);Y=this._frames[U].rotated?new M.Rectangle(X.x/this.resolution,X.y/this.resolution,X.h/this.resolution,X.w/this.resolution):new M.Rectangle(X.x/this.resolution,X.y/this.resolution,X.w/this.resolution,X.h/this.resolution),this._frames[U].trimmed&&(V=new M.Rectangle(this._frames[U].spriteSourceSize.x/this.resolution,this._frames[U].spriteSourceSize.y/this.resolution,X.w/this.resolution,X.h/this.resolution)),this.textures[U]=new M.Texture(this.baseTexture,Y,K,V,this._frames[U].rotated?2:0),M.Texture.addToCache(this.textures[U],U)}N++}},A.prototype._parseComplete=function(){var L=this._callback;this._callback=null,this._batchIndex=0,L.call(this,this.textures)},A.prototype._nextBatch=function(){var L=this;this._processFrames(this._batchIndex*A.BATCH_SIZE),this._batchIndex++,setTimeout(function(){L._batchIndex*A.BATCH_SIZE<L._frameKeys.length?L._nextBatch():L._parseComplete()},0)},A.prototype.destroy=function(){var L=0<arguments.length&&void 0!==arguments[0]&&arguments[0];for(var N in this.textures)this.textures[N].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,L&&this.baseTexture.destroy(),this.baseTexture=null},A}();E.default=I},function(T,E,S){'use strict';function P(X){return X&&X.__esModule?X:{default:X}}function C(X,Y){if(!(X instanceof Y))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=function(){function X(Y,V){for(var K=0,Z;K<V.length;K++)Z=V[K],Z.enumerable=Z.enumerable||!1,Z.configurable=!0,'value'in Z&&(Z.writable=!0),Object.defineProperty(Y,Z.key,Z)}return function(Y,V,K){return V&&X(Y.prototype,V),K&&X(Y,K),Y}}(),O=S(137),I=S(61),A=P(I),D=S(78),L=S(54),N=P(L),F=S(23),U=function(){function X(Y,V,K,Z,J){C(this,X),'number'==typeof Y&&(Y=Object.assign({width:Y,height:V||N.default.RENDER_OPTIONS.height,forceCanvas:!!Z,sharedTicker:!!J},K)),this._options=Y=Object.assign({sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},Y),this.renderer=(0,O.autoDetectRenderer)(Y),this.stage=new A.default,this._ticker=null,this.ticker=Y.sharedTicker?D.shared:new D.Ticker,this.start()}return X.prototype.render=function(){this.renderer.render(this.stage)},X.prototype.stop=function(){this._ticker.stop()},X.prototype.start=function(){this._ticker.start()},X.prototype.destroy=function(V){var K=this._ticker;this.ticker=null,K.destroy(),this.stage.destroy(),this.stage=null,this.renderer.destroy(V),this.renderer=null,this._options=null},M(X,[{key:'ticker',set:function(V){this._ticker&&this._ticker.remove(this.render,this),this._ticker=V,V&&V.add(this.render,this,F.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:'view',get:function(){return this.renderer.view}},{key:'screen',get:function(){return this.renderer.screen}}]),X}();E.default=U},function(T,E,S){'use strict';function P(F){return F&&F.__esModule?F:{default:F}}E.__esModule=!0,E.autoDetectRenderer=function(F,U,X,Y){var V=F&&F.forceCanvas;return void 0!==Y&&(V=Y),!V&&I.isWebGLSupported()?new N.default(F,U,X):new D.default(F,U,X)};var O=S(62),I=function(F){if(F&&F.__esModule)return F;var U={};if(null!=F)for(var X in F)Object.prototype.hasOwnProperty.call(F,X)&&(U[X]=F[X]);return U.default=F,U}(O),A=S(83),D=P(A),L=S(95),N=P(L)},function(T,E){'use strict';function S(){var M=new Error().stack;'undefined'==typeof M?void 0:(M=M.split('\n').splice(3).join('\n'),function(){}?(void 0,void 0,void 0):(void 0,void 0))}E.__esModule=!0,E.default=function(C){var M=C.mesh,O=C.particles,I=C.extras,A=C.filters,D=C.prepare,L=C.loaders,N=C.interaction;Object.defineProperties(C,{SpriteBatch:{get:function(){throw new ReferenceError('SpriteBatch does not exist any more, please use the new ParticleContainer instead.')}},AssetLoader:{get:function(){throw new ReferenceError('The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.')}},Stage:{get:function(){return S('You do not need to use a PIXI Stage any more, you can simply render any container.'),C.Container}},DisplayObjectContainer:{get:function(){return S('DisplayObjectContainer has been shortened to Container, please use Container from now on.'),C.Container}},Strip:{get:function(){return S('The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.'),M.Mesh}},Rope:{get:function(){return S('The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.'),M.Rope}},ParticleContainer:{get:function(){return S('The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.'),O.ParticleContainer}},MovieClip:{get:function(){return S('The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.'),I.AnimatedSprite}},TilingSprite:{get:function(){return S('The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.'),I.TilingSprite}},BitmapText:{get:function(){return S('The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.'),I.BitmapText}},blendModes:{get:function(){return S('The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.'),C.BLEND_MODES}},scaleModes:{get:function(){return S('The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.'),C.SCALE_MODES}},BaseTextureCache:{get:function(){return S('The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.'),C.utils.BaseTextureCache}},TextureCache:{get:function(){return S('The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.'),C.utils.TextureCache}},math:{get:function(){return S('The math namespace is deprecated, please access members already accessible on PIXI.'),C}},AbstractFilter:{get:function(){return S('AstractFilter has been renamed to Filter, please use PIXI.Filter'),C.Filter}},TransformManual:{get:function(){return S('TransformManual has been renamed to TransformBase, please update your pixi-spine'),C.TransformBase}},TARGET_FPMS:{get:function(){return S('PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS'),C.settings.TARGET_FPMS},set:function(J){S('PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS'),C.settings.TARGET_FPMS=J}},FILTER_RESOLUTION:{get:function(){return S('PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION'),C.settings.FILTER_RESOLUTION},set:function(J){S('PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION'),C.settings.FILTER_RESOLUTION=J}},RESOLUTION:{get:function(){return S('PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION'),C.settings.RESOLUTION},set:function(J){S('PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION'),C.settings.RESOLUTION=J}},MIPMAP_TEXTURES:{get:function(){return S('PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES'),C.settings.MIPMAP_TEXTURES},set:function(J){S('PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES'),C.settings.MIPMAP_TEXTURES=J}},SPRITE_BATCH_SIZE:{get:function(){return S('PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE'),C.settings.SPRITE_BATCH_SIZE},set:function(J){S('PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE'),C.settings.SPRITE_BATCH_SIZE=J}},SPRITE_MAX_TEXTURES:{get:function(){return S('PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES'),C.settings.SPRITE_MAX_TEXTURES},set:function(J){S('PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES'),C.settings.SPRITE_MAX_TEXTURES=J}},RETINA_PREFIX:{get:function(){return S('PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX'),C.settings.RETINA_PREFIX},set:function(J){S('PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX'),C.settings.RETINA_PREFIX=J}},DEFAULT_RENDER_OPTIONS:{get:function(){return S('PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS'),C.settings.RENDER_OPTIONS}}});for(var F=[{parent:'TRANSFORM_MODE',target:'TRANSFORM_MODE'},{parent:'GC_MODES',target:'GC_MODE'},{parent:'WRAP_MODES',target:'WRAP_MODE'},{parent:'SCALE_MODES',target:'SCALE_MODE'},{parent:'PRECISION',target:'PRECISION_FRAGMENT'}],U=function(J){var Q=F[J];Object.defineProperty(C[Q.parent],'DEFAULT',{get:function(){return S('PIXI.'+Q.parent+'.DEFAULT has been deprecated, '+('please use PIXI.settings.'+Q.target)),C.settings[Q.target]},set:function(te){S('PIXI.'+Q.parent+'.DEFAULT has been deprecated, '+('please use PIXI.settings.'+Q.target)),C.settings[Q.target]=te}})},X=0;X<F.length;X++)U(X);Object.defineProperties(C.settings,{PRECISION:{get:function(){return S('PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT'),C.settings.PRECISION_FRAGMENT},set:function(J){S('PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT'),C.settings.PRECISION_FRAGMENT=J}}}),Object.defineProperties(I,{MovieClip:{get:function(){return S('The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.'),I.AnimatedSprite}}}),C.DisplayObject.prototype.generateTexture=function(J,Q,$){return S('generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)'),J.generateTexture(this,Q,$)},C.Graphics.prototype.generateTexture=function(J,Q){return S('graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture'),this.generateCanvasTexture(J,Q)},C.RenderTexture.prototype.render=function(J,Q,$,te){this.legacyRenderer.render(J,this,$,Q,!te),S('RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)')},C.RenderTexture.prototype.getImage=function(J){return S('RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)'),this.legacyRenderer.extract.image(J)},C.RenderTexture.prototype.getBase64=function(J){return S('RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)'),this.legacyRenderer.extract.base64(J)},C.RenderTexture.prototype.getCanvas=function(J){return S('RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)'),this.legacyRenderer.extract.canvas(J)},C.RenderTexture.prototype.getPixels=function(J){return S('RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)'),this.legacyRenderer.pixels(J)},C.Sprite.prototype.setTexture=function(J){this.texture=J,S('setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;')},I.BitmapText.prototype.setText=function(J){this.text=J,S('setText is now deprecated, please use the text property, e.g : myBitmapText.text = \'my text\';')},C.Text.prototype.setText=function(J){this.text=J,S('setText is now deprecated, please use the text property, e.g : myText.text = \'my text\';')},C.Text.calculateFontProperties=function(J){return S('Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont'),C.TextMetrics.measureFont(J)},Object.defineProperties(C.Text,{fontPropertiesCache:{get:function(){return S('Text.fontPropertiesCache is deprecated'),C.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return S('Text.fontPropertiesCanvas is deprecated'),C.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return S('Text.fontPropertiesContext is deprecated'),C.TextMetrics._context}}}),C.Text.prototype.setStyle=function(J){this.style=J,S('setStyle is now deprecated, please use the style property, e.g : myText.style = style;')},C.Text.prototype.determineFontProperties=function(J){return S('determineFontProperties is now deprecated, please use TextMetrics.measureFont method'),C.TextMetrics.measureFont(J)},C.Text.getFontStyle=function(J){return S('getFontStyle is now deprecated, please use TextStyle.toFontString() instead'),J=J||{},J instanceof C.TextStyle||(J=new C.TextStyle(J)),J.toFontString()},Object.defineProperties(C.TextStyle.prototype,{font:{get:function(){S('text style property \\\'font\\\' is now deprecated, please use the \\\'fontFamily\\\', \\\'fontSize\\\', \\\'fontStyle\\\', \\\'fontVariant\\\' and \\\'fontWeight\\\' properties from now on');var J='number'==typeof this._fontSize?this._fontSize+'px':this._fontSize;return this._fontStyle+' '+this._fontVariant+' '+this._fontWeight+' '+J+' '+this._fontFamily},set:function(J){S('text style property \\\'font\\\' is now deprecated, please use the \\\'fontFamily\\\',\\\'fontSize\\\',fontStyle\\\',\\\'fontVariant\\\' and \\\'fontWeight\\\' properties from now on'),this._fontStyle=1<J.indexOf('italic')?'italic':-1<J.indexOf('oblique')?'oblique':'normal',this._fontVariant=-1<J.indexOf('small-caps')?'small-caps':'normal';var Q=J.split(' '),$=-1;this._fontSize=26;for(var te=0;te<Q.length;++te)if(Q[te].match(/(px|pt|em|%)/)){$=te,this._fontSize=Q[te];break}this._fontWeight='normal';for(var re=0;re<$;++re)if(Q[re].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=Q[re];break}if(-1<$&&$<Q.length-1){this._fontFamily='';for(var oe=$+1;oe<Q.length;++oe)this._fontFamily+=Q[oe]+' ';this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily='Arial';this.styleID++}}}),C.Texture.prototype.setFrame=function(J){this.frame=J,S('setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;')},C.Texture.addTextureToCache=function(J,Q){C.Texture.addToCache(J,Q),S('Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.')},C.Texture.removeTextureFromCache=function(J){return S('Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache'),C.BaseTexture.removeFromCache(J),C.Texture.removeFromCache(J)},Object.defineProperties(A,{AbstractFilter:{get:function(){return S('AstractFilter has been renamed to Filter, please use PIXI.Filter'),C.AbstractFilter}},SpriteMaskFilter:{get:function(){return S('filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.'),C.SpriteMaskFilter}}}),C.utils.uuid=function(){return S('utils.uuid() is deprecated, please use utils.uid() from now on.'),C.utils.uid()},C.utils.canUseNewCanvasBlendModes=function(){return S('utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on'),C.CanvasTinter.canUseMultiply};var Y=!0;if(Object.defineProperty(C.utils,'_saidHello',{set:function(J){J&&(S('PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()'),this.skipHello()),Y=J},get:function(){return Y}}),D.BasePrepare.prototype.register=function(J,Q){return S('renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook'),J&&this.registerFindHook(J),Q&&this.registerUploadHook(Q),this},Object.defineProperty(D.canvas,'UPLOADS_PER_FRAME',{set:function(){S('PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer')},get:function(){return S('PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter'),NaN}}),Object.defineProperty(D.webgl,'UPLOADS_PER_FRAME',{set:function(){S('PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer')},get:function(){return S('PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter'),NaN}}),L.Loader){var V=L.Resource,K=L.Loader;Object.defineProperties(V.prototype,{isJson:{get:function(){return S('The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.'),this.type===V.TYPE.JSON}},isXml:{get:function(){return S('The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.'),this.type===V.TYPE.XML}},isImage:{get:function(){return S('The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.'),this.type===V.TYPE.IMAGE}},isAudio:{get:function(){return S('The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.'),this.type===V.TYPE.AUDIO}},isVideo:{get:function(){return S('The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.'),this.type===V.TYPE.VIDEO}}}),Object.defineProperties(K.prototype,{before:{get:function(){return S('The before() method is deprecated, please use pre().'),this.pre}},after:{get:function(){return S('The after() method is deprecated, please use use().'),this.use}}})}Object.defineProperty(N.interactiveTarget,'defaultCursor',{set:function(J){S('Property defaultCursor has been replaced with \'cursor\'. '),this.cursor=J},get:function(){return S('Property defaultCursor has been replaced with \'cursor\'. '),this.cursor}}),Object.defineProperty(N.InteractionManager,'defaultCursorStyle',{set:function(J){S('Property defaultCursorStyle has been replaced with \'cursorStyles.default\'. '),this.cursorStyles.default=J},get:function(){return S('Property defaultCursorStyle has been replaced with \'cursorStyles.default\'. '),this.cursorStyles.default}}),Object.defineProperty(N.InteractionManager,'currentCursorStyle',{set:function(J){S('Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.'),this.currentCursorMode=J},get:function(){return S('Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.'),this.currentCursorMode}})}},function(T,E,S){'use strict';function P(O){return O&&O.__esModule?O:{default:O}}E.__esModule=!0;var C=S(140);Object.defineProperty(E,'accessibleTarget',{enumerable:!0,get:function(){return P(C).default}});var M=S(141);Object.defineProperty(E,'AccessibilityManager',{enumerable:!0,get:function(){return P(M).default}})},function(T,E){'use strict';E.__esModule=!0,E.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(T,E,S){'use strict';function P(te){return te&&te.__esModule?te:{default:te}}function M(te,re){if(!(te instanceof re))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var O=S(22),I=function(te){if(te&&te.__esModule)return te;var re={};if(null!=te)for(var oe in te)Object.prototype.hasOwnProperty.call(te,oe)&&(re[oe]=te[oe]);return re.default=te,re}(O),A=S(56),D=P(A),L=S(140),N=P(L);I.utils.mixins.delayMixin(I.DisplayObject.prototype,N.default);var U=100,V=2,K=1,$=function(){function te(re){M(this,te),(D.default.tablet||D.default.phone)&&!navigator.isCocoonJS&&this.createTouchHook();var oe=document.createElement('div');oe.style.width=U+'px',oe.style.height=U+'px',oe.style.position='absolute',oe.style.top=0+'px',oe.style.left=0+'px',oe.style.zIndex=V,this.div=oe,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=re,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener('keydown',this._onKeyDown,!1)}return te.prototype.createTouchHook=function(){var oe=this,ne=document.createElement('button');ne.style.width=K+'px',ne.style.height=K+'px',ne.style.position='absolute',ne.style.top=-1e3+'px',ne.style.left=-1e3+'px',ne.style.zIndex=2,ne.style.backgroundColor='#FF0000',ne.title='HOOK DIV',ne.addEventListener('focus',function(){oe.isMobileAccessabillity=!0,oe.activate(),document.body.removeChild(ne)}),document.body.appendChild(ne)},te.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener('mousemove',this._onMouseMove,!0),window.removeEventListener('keydown',this._onKeyDown,!1),this.renderer.on('postrender',this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},te.prototype.deactivate=function(){!this.isActive||this.isMobileAccessabillity||(this.isActive=!1,window.document.removeEventListener('mousemove',this._onMouseMove),window.addEventListener('keydown',this._onKeyDown,!1),this.renderer.off('postrender',this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},te.prototype.updateAccessibleObjects=function(oe){if(oe.visible){oe.accessible&&oe.interactive&&(!oe._accessibleActive&&this.addChild(oe),oe.renderId=this.renderId);for(var ne=oe.children,ie=ne.length-1;0<=ie;ie--)this.updateAccessibleObjects(ne[ie])}},te.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var oe=this.renderer.view.getBoundingClientRect(),ne=oe.width/this.renderer.width,ie=oe.height/this.renderer.height,le=this.div;le.style.left=oe.left+'px',le.style.top=oe.top+'px',le.style.width=this.renderer.width+'px',le.style.height=this.renderer.height+'px';for(var se=0,de;se<this.children.length;se++)if(de=this.children[se],de.renderId!==this.renderId)de._accessibleActive=!1,I.utils.removeItems(this.children,se,1),this.div.removeChild(de._accessibleDiv),this.pool.push(de._accessibleDiv),de._accessibleDiv=null,se--,0===this.children.length&&this.deactivate();else{le=de._accessibleDiv;var ue=de.hitArea,pe=de.worldTransform;de.hitArea?(le.style.left=(pe.tx+ue.x*pe.a)*ne+'px',le.style.top=(pe.ty+ue.y*pe.d)*ie+'px',le.style.width=ue.width*pe.a*ne+'px',le.style.height=ue.height*pe.d*ie+'px'):(ue=de.getBounds(),this.capHitArea(ue),le.style.left=ue.x*ne+'px',le.style.top=ue.y*ie+'px',le.style.width=ue.width*ne+'px',le.style.height=ue.height*ie+'px')}this.renderId++}},te.prototype.capHitArea=function(oe){0>oe.x&&(oe.width+=oe.x,oe.x=0),0>oe.y&&(oe.height+=oe.y,oe.y=0),oe.x+oe.width>this.renderer.width&&(oe.width=this.renderer.width-oe.x),oe.y+oe.height>this.renderer.height&&(oe.height=this.renderer.height-oe.y)},te.prototype.addChild=function(oe){var ne=this.pool.pop();ne||(ne=document.createElement('button'),ne.style.width=U+'px',ne.style.height=U+'px',ne.style.backgroundColor=this.debug?'rgba(255,0,0,0.5)':'transparent',ne.style.position='absolute',ne.style.zIndex=V,ne.style.borderStyle='none',ne.addEventListener('click',this._onClick.bind(this)),ne.addEventListener('focus',this._onFocus.bind(this)),ne.addEventListener('focusout',this._onFocusOut.bind(this))),oe.accessibleTitle?ne.title=oe.accessibleTitle:!oe.accessibleTitle&&!oe.accessibleHint&&(ne.title='displayObject '+this.tabIndex),oe.accessibleHint&&ne.setAttribute('aria-label',oe.accessibleHint),oe._accessibleActive=!0,oe._accessibleDiv=ne,ne.displayObject=oe,this.children.push(oe),this.div.appendChild(oe._accessibleDiv),oe._accessibleDiv.tabIndex=oe.tabIndex},te.prototype._onClick=function(oe){var ne=this.renderer.plugins.interaction;ne.dispatchEvent(oe.target.displayObject,'click',ne.eventData)},te.prototype._onFocus=function(oe){var ne=this.renderer.plugins.interaction;ne.dispatchEvent(oe.target.displayObject,'mouseover',ne.eventData)},te.prototype._onFocusOut=function(oe){var ne=this.renderer.plugins.interaction;ne.dispatchEvent(oe.target.displayObject,'mouseout',ne.eventData)},te.prototype._onKeyDown=function(oe){oe.keyCode!==9||this.activate()},te.prototype._onMouseMove=function(){this.deactivate()},te.prototype.destroy=function(){this.div=null;for(var oe=0;oe<this.children.length;oe++)this.children[oe].div=null;window.document.removeEventListener('mousemove',this._onMouseMove),window.removeEventListener('keydown',this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},te}();E.default=$,I.WebGLRenderer.registerPlugin('accessibility',$),I.CanvasRenderer.registerPlugin('accessibility',$)},function(T,E,S){'use strict';function P(O){return O&&O.__esModule?O:{default:O}}E.__esModule=!0;var C=S(143);Object.defineProperty(E,'webgl',{enumerable:!0,get:function(){return P(C).default}});var M=S(144);Object.defineProperty(E,'canvas',{enumerable:!0,get:function(){return P(M).default}})},function(T,E,S){'use strict';function C(L,N){if(!(L instanceof N))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(22),O=function(L){if(L&&L.__esModule)return L;var N={};if(null!=L)for(var F in L)Object.prototype.hasOwnProperty.call(L,F)&&(N[F]=L[F]);return N.default=L,N}(M),I=new O.Rectangle,A=4,D=function(){function L(N){C(this,L),this.renderer=N,N.extract=this}return L.prototype.image=function(F){var N=new Image;return N.src=this.base64(F),N},L.prototype.base64=function(F){return this.canvas(F).toDataURL()},L.prototype.canvas=function(F){var U=this.renderer,K=!1,X,Y,V,Z;F&&(F instanceof O.RenderTexture?Z=F:Z=this.renderer.generateTexture(F)),Z?(X=Z.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],Y=X.resolution,V=Z.frame,K=!1):(X=this.renderer.rootRenderTarget,Y=X.resolution,K=!0,V=I,V.width=X.size.width,V.height=X.size.height);var J=V.width*Y,Q=V.height*Y,$=new O.CanvasRenderTarget(J,Q);if(X){U.bindRenderTarget(X);var te=new Uint8Array(A*J*Q),re=U.gl;re.readPixels(V.x*Y,V.y*Y,J,Q,re.RGBA,re.UNSIGNED_BYTE,te);var oe=$.context.getImageData(0,0,J,Q);oe.data.set(te),$.context.putImageData(oe,0,0),K&&($.context.scale(1,-1),$.context.drawImage($.canvas,0,-Q))}return $.canvas},L.prototype.pixels=function(F){var U=this.renderer,X,Y,V,K;F&&(F instanceof O.RenderTexture?K=F:K=this.renderer.generateTexture(F)),K?(X=K.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],Y=X.resolution,V=K.frame):(X=this.renderer.rootRenderTarget,Y=X.resolution,V=I,V.width=X.size.width,V.height=X.size.height);var Z=V.width*Y,J=V.height*Y,Q=new Uint8Array(A*Z*J);if(X){U.bindRenderTarget(X);var $=U.gl;$.readPixels(V.x*Y,V.y*Y,Z,J,$.RGBA,$.UNSIGNED_BYTE,Q)}return Q},L.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},L}();E.default=D,O.WebGLRenderer.registerPlugin('extract',D)},function(T,E,S){'use strict';function C(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(22),O=function(D){if(D&&D.__esModule)return D;var L={};if(null!=D)for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&(L[N]=D[N]);return L.default=D,L}(M),I=new O.Rectangle,A=function(){function D(L){C(this,D),this.renderer=L,L.extract=this}return D.prototype.image=function(N){var L=new Image;return L.src=this.base64(N),L},D.prototype.base64=function(N){return this.canvas(N).toDataURL()},D.prototype.canvas=function(N){var F=this.renderer,U,X,Y,V;N&&(N instanceof O.RenderTexture?V=N:V=F.generateTexture(N)),V?(U=V.baseTexture._canvasRenderTarget.context,X=V.baseTexture._canvasRenderTarget.resolution,Y=V.frame):(U=F.rootContext,Y=I,Y.width=this.renderer.width,Y.height=this.renderer.height);var K=Y.width*X,Z=Y.height*X,J=new O.CanvasRenderTarget(K,Z),Q=U.getImageData(Y.x*X,Y.y*X,K,Z);return J.context.putImageData(Q,0,0),J.canvas},D.prototype.pixels=function(N){var F=this.renderer,U,X,Y,V;return N&&(N instanceof O.RenderTexture?V=N:V=F.generateTexture(N)),V?(U=V.baseTexture._canvasRenderTarget.context,X=V.baseTexture._canvasRenderTarget.resolution,Y=V.frame):(U=F.rootContext,Y=I,Y.width=F.width,Y.height=F.height),U.getImageData(0,0,Y.width*X,Y.height*X).data},D.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},D}();E.default=A,O.CanvasRenderer.registerPlugin('extract',A)},function(T,E,S){'use strict';function P(A){return A&&A.__esModule?A:{default:A}}E.__esModule=!0,E.BitmapText=E.TilingSpriteRenderer=E.TilingSprite=E.AnimatedSprite=void 0;var C=S(146);Object.defineProperty(E,'AnimatedSprite',{enumerable:!0,get:function(){return P(C).default}});var M=S(147);Object.defineProperty(E,'TilingSprite',{enumerable:!0,get:function(){return P(M).default}});var O=S(149);Object.defineProperty(E,'TilingSpriteRenderer',{enumerable:!0,get:function(){return P(O).default}});var I=S(150);Object.defineProperty(E,'BitmapText',{enumerable:!0,get:function(){return P(I).default}}),S(151),S(152),S(153)},function(T,E,S){'use strict';function C(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function M(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function O(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}E.__esModule=!0;var I=function(){function N(F,U){for(var X=0,Y;X<U.length;X++)Y=U[X],Y.enumerable=Y.enumerable||!1,Y.configurable=!0,'value'in Y&&(Y.writable=!0),Object.defineProperty(F,Y.key,Y)}return function(F,U,X){return U&&N(F.prototype,U),X&&N(F,X),F}}(),A=S(22),D=function(N){if(N&&N.__esModule)return N;var F={};if(null!=N)for(var U in N)Object.prototype.hasOwnProperty.call(N,U)&&(F[U]=N[U]);return F.default=N,F}(A),L=function(N){function F(U,X){C(this,F);var Y=M(this,N.call(this,U[0]instanceof D.Texture?U[0]:U[0].texture));return Y._textures=null,Y._durations=null,Y.textures=U,Y._autoUpdate=!1!==X,Y.animationSpeed=1,Y.loop=!0,Y.onComplete=null,Y.onFrameChange=null,Y._currentTime=0,Y.playing=!1,Y}return O(F,N),F.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&D.ticker.shared.remove(this.update,this))},F.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&D.ticker.shared.add(this.update,this,D.UPDATE_PRIORITY.HIGH))},F.prototype.gotoAndStop=function(X){this.stop();var Y=this.currentFrame;this._currentTime=X,Y!==this.currentFrame&&this.updateTexture()},F.prototype.gotoAndPlay=function(X){var Y=this.currentFrame;this._currentTime=X,Y!==this.currentFrame&&this.updateTexture(),this.play()},F.prototype.update=function(X){var Y=this.animationSpeed*X,V=this.currentFrame;if(null!==this._durations){var K=this._currentTime%1*this._durations[this.currentFrame];for(K+=1e3*(Y/60);0>K;)this._currentTime--,K+=this._durations[this.currentFrame];var Z=_Mathsign(this.animationSpeed*X);for(this._currentTime=_Mathfloor(this._currentTime);K>=this._durations[this.currentFrame];)K-=this._durations[this.currentFrame]*Z,this._currentTime+=Z;this._currentTime+=K/this._durations[this.currentFrame]}else this._currentTime+=Y;0>this._currentTime&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):V!==this.currentFrame&&this.updateTexture()},F.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.onFrameChange&&this.onFrameChange(this.currentFrame)},F.prototype.destroy=function(){this.stop(),N.prototype.destroy.call(this)},F.fromFrames=function(X){for(var Y=[],V=0;V<X.length;++V)Y.push(D.Texture.fromFrame(X[V]));return new F(Y)},F.fromImages=function(X){for(var Y=[],V=0;V<X.length;++V)Y.push(D.Texture.fromImage(X[V]));return new F(Y)},I(F,[{key:'totalFrames',get:function(){return this._textures.length}},{key:'textures',get:function(){return this._textures},set:function(X){if(X[0]instanceof D.Texture)this._textures=X,this._durations=null;else{this._textures=[],this._durations=[];for(var Y=0;Y<X.length;Y++)this._textures.push(X[Y].texture),this._durations.push(X[Y].time)}}},{key:'currentFrame',get:function(){var X=_Mathfloor(this._currentTime)%this._textures.length;return 0>X&&(X+=this._textures.length),X}}]),F}(D.Sprite);E.default=L},function(T,E,S){'use strict';function P(K){return K&&K.__esModule?K:{default:K}}function M(K,Z){if(!(K instanceof Z))throw new TypeError('Cannot call a class as a function')}function O(K,Z){if(!K)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Z&&('object'==typeof Z||'function'==typeof Z)?Z:K}function I(K,Z){if('function'!=typeof Z&&null!==Z)throw new TypeError('Super expression must either be null or a function, not '+typeof Z);K.prototype=Object.create(Z&&Z.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(K,Z):K.__proto__=Z)}E.__esModule=!0;var A=function(){function K(Z,J){for(var Q=0,$;Q<J.length;Q++)$=J[Q],$.enumerable=$.enumerable||!1,$.configurable=!0,'value'in $&&($.writable=!0),Object.defineProperty(Z,$.key,$)}return function(Z,J,Q){return J&&K(Z.prototype,J),Q&&K(Z,Q),Z}}(),D=S(22),L=function(K){if(K&&K.__esModule)return K;var Z={};if(null!=K)for(var J in K)Object.prototype.hasOwnProperty.call(K,J)&&(Z[J]=K[J]);return Z.default=K,Z}(D),N=S(91),F=P(N),U=S(148),X=P(U),Y=new L.Point,V=function(K){function Z(J){var Q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,$=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100;M(this,Z);var te=O(this,K.call(this,J));return te.tileTransform=new L.TransformStatic,te._width=Q,te._height=$,te._canvasPattern=null,te.uvTransform=J.transform||new X.default(J),te.pluginName='tilingSprite',te.uvRespectAnchor=!1,te}return I(Z,K),Z.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture)},Z.prototype._renderWebGL=function(Q){var $=this._texture;$&&$.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),Q.setObjectRenderer(Q.plugins[this.pluginName]),Q.plugins[this.pluginName].render(this))},Z.prototype._renderCanvas=function(Q){var $=this._texture;if($.baseTexture.hasLoaded){var te=Q.context,re=this.worldTransform,oe=Q.resolution,ne=$.baseTexture,ie=ne.resolution,le=this.tilePosition.x/this.tileScale.x%$._frame.width*ie,se=this.tilePosition.y/this.tileScale.y%$._frame.height*ie;if(!this._canvasPattern){var de=new L.CanvasRenderTarget($._frame.width,$._frame.height,ie);16777215===this.tint?de.context.drawImage(ne.source,-$._frame.x,-$._frame.y):(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=F.default.getTintedTexture(this,this.tint)),de.context.drawImage(this.tintedTexture,0,0)),this._canvasPattern=de.context.createPattern(de.canvas,'repeat')}te.globalAlpha=this.worldAlpha,te.setTransform(re.a*oe,re.b*oe,re.c*oe,re.d*oe,re.tx*oe,re.ty*oe),Q.setBlendMode(this.blendMode),te.fillStyle=this._canvasPattern,te.scale(this.tileScale.x/ie,this.tileScale.y/ie);var ue=this.anchor.x*-this._width,pe=this.anchor.y*-this._height;this.uvRespectAnchor?(te.translate(le,se),te.fillRect(-le+ue,-se+pe,this._width/this.tileScale.x*ie,this._height/this.tileScale.y*ie)):(te.translate(le+ue,se+pe),te.fillRect(-le,-se,this._width/this.tileScale.x*ie,this._height/this.tileScale.y*ie))}},Z.prototype._calculateBounds=function(){var Q=this._width*-this._anchor._x,$=this._height*-this._anchor._y,te=this._width*(1-this._anchor._x),re=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,Q,$,te,re)},Z.prototype.getLocalBounds=function(Q){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),Q||(!this._localBoundsRect&&(this._localBoundsRect=new L.Rectangle),Q=this._localBoundsRect),this._bounds.getRectangle(Q)):K.prototype.getLocalBounds.call(this,Q)},Z.prototype.containsPoint=function(Q){this.worldTransform.applyInverse(Q,Y);var $=this._width,te=this._height,re=-$*this.anchor._x;if(Y.x>re&&Y.x<re+$){var oe=-te*this.anchor._y;if(Y.y>oe&&Y.y<oe+te)return!0}return!1},Z.prototype.destroy=function(){K.prototype.destroy.call(this),this.tileTransform=null,this.uvTransform=null},Z.from=function(Q,$,te){return new Z(L.Texture.from(Q),$,te)},Z.fromFrame=function(Q,$,te){var re=L.utils.TextureCache[Q];if(!re)throw new Error('The frameId "'+Q+'" does not exist in the texture cache '+this);return new Z(re,$,te)},Z.fromImage=function(Q,$,te,re,oe){return new Z(L.Texture.fromImage(Q,re,oe),$,te)},A(Z,[{key:'clampMargin',get:function(){return this.uvTransform.clampMargin},set:function(Q){this.uvTransform.clampMargin=Q,this.uvTransform.update(!0)}},{key:'tileScale',get:function(){return this.tileTransform.scale},set:function(Q){this.tileTransform.scale.copy(Q)}},{key:'tilePosition',get:function(){return this.tileTransform.position},set:function(Q){this.tileTransform.position.copy(Q)}},{key:'width',get:function(){return this._width},set:function(Q){this._width=Q}},{key:'height',get:function(){return this._height},set:function(Q){this._height=Q}}]),Z}(L.Sprite);E.default=V},function(T,E,S){'use strict';function C(L,N){if(!(L instanceof N))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=function(){function L(N,F){for(var U=0,X;U<F.length;U++)X=F[U],X.enumerable=X.enumerable||!1,X.configurable=!0,'value'in X&&(X.writable=!0),Object.defineProperty(N,X.key,X)}return function(N,F,U){return F&&L(N.prototype,F),U&&L(N,U),N}}(),O=S(27),I=function(L){return L&&L.__esModule?L:{default:L}}(O),A=new I.default,D=function(){function L(N,F){C(this,L),this._texture=N,this.mapCoord=new I.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin='undefined'==typeof F?0.5:F}return L.prototype.multiplyUvs=function(F,U){void 0===U&&(U=F);for(var X=this.mapCoord,Y=0;Y<F.length;Y+=2){var V=F[Y],K=F[Y+1];U[Y]=V*X.a+K*X.c+X.tx,U[Y+1]=V*X.b+K*X.d+X.ty}return U},L.prototype.update=function(F){var U=this._texture;if(!U||!U.valid)return!1;if(!F&&this._lastTextureID===U._updateID)return!1;this._lastTextureID=U._updateID;var X=U._uvs;this.mapCoord.set(X.x1-X.x0,X.y1-X.y0,X.x3-X.x0,X.y3-X.y0,X.x0,X.y0);var Y=U.orig,V=U.trim;V&&(A.set(Y.width/V.width,0,0,Y.height/V.height,-V.x/V.width,-V.y/V.height),this.mapCoord.append(A));var K=U.baseTexture,Z=this.uClampFrame,J=this.clampMargin/K.resolution,Q=this.clampOffset;return Z[0]=(U._frame.x+J+Q)/K.width,Z[1]=(U._frame.y+J+Q)/K.height,Z[2]=(U._frame.x+U._frame.width-J+Q)/K.width,Z[3]=(U._frame.y+U._frame.height-J+Q)/K.height,this.uClampOffset[0]=Q/K.realWidth,this.uClampOffset[1]=Q/K.realHeight,!0},M(L,[{key:'texture',get:function(){return this._texture},set:function(F){this._texture=F,this._lastTextureID=-1}}]),L}();E.default=D},function(T,E,S){'use strict';function C(X,Y){if(!(X instanceof Y))throw new TypeError('Cannot call a class as a function')}function M(X,Y){if(!X)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Y&&('object'==typeof Y||'function'==typeof Y)?Y:X}function O(X,Y){if('function'!=typeof Y&&null!==Y)throw new TypeError('Super expression must either be null or a function, not '+typeof Y);X.prototype=Object.create(Y&&Y.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(X,Y):X.__proto__=Y)}E.__esModule=!0;var I=S(22),A=function(X){if(X&&X.__esModule)return X;var Y={};if(null!=X)for(var V in X)Object.prototype.hasOwnProperty.call(X,V)&&(Y[V]=X[V]);return Y.default=X,Y}(I),D=S(23),L=S(100),N=new A.Matrix,F=new Float32Array(4),U=function(X){function Y(V){C(this,Y);var K=M(this,X.call(this,V));return K.shader=null,K.simpleShader=null,K.quad=null,K}return O(Y,X),Y.prototype.onContextChange=function(){var K=this.renderer.gl;this.shader=new A.Shader(K,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n','varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n\n    gl_FragColor = sample * color ;\n}\n'),this.simpleShader=new A.Shader(K,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n','varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n    gl_FragColor = sample * color;\n}\n'),this.renderer.bindVao(null),this.quad=new A.Quad(K,this.renderer.state.attribState),this.quad.initVao(this.shader)},Y.prototype.render=function(K){var Z=this.renderer,J=this.quad;Z.bindVao(J.vao);var Q=J.vertices;Q[0]=Q[6]=K._width*-K.anchor.x,Q[1]=Q[3]=K._height*-K.anchor.y,Q[2]=Q[4]=K._width*(1-K.anchor.x),Q[5]=Q[7]=K._height*(1-K.anchor.y),K.uvRespectAnchor&&(Q=J.uvs,Q[0]=Q[6]=-K.anchor.x,Q[1]=Q[3]=-K.anchor.y,Q[2]=Q[4]=1-K.anchor.x,Q[5]=Q[7]=1-K.anchor.y),J.upload();var $=K._texture,te=$.baseTexture,re=K.tileTransform.localTransform,oe=K.uvTransform,ne=te.isPowerOfTwo&&$.frame.width===te.width&&$.frame.height===te.height;ne&&(te._glTextures[Z.CONTEXT_UID]?ne=te.wrapMode!==D.WRAP_MODES.CLAMP:te.wrapMode===D.WRAP_MODES.CLAMP&&(te.wrapMode=D.WRAP_MODES.REPEAT));var ie=ne?this.simpleShader:this.shader;Z.bindShader(ie);var le=$.width,se=$.height,de=K._width,ue=K._height;N.set(re.a*le/de,re.b*le/ue,re.c*se/de,re.d*se/ue,re.tx/de,re.ty/ue),N.invert(),ne?N.prepend(oe.mapCoord):(ie.uniforms.uMapCoord=oe.mapCoord.toArray(!0),ie.uniforms.uClampFrame=oe.uClampFrame,ie.uniforms.uClampOffset=oe.uClampOffset),ie.uniforms.uTransform=N.toArray(!0);var pe=F;A.utils.hex2rgb(K.tint,pe),pe[3]=K.worldAlpha,ie.uniforms.uColor=pe,ie.uniforms.translationMatrix=K.transform.worldTransform.toArray(!0),ie.uniforms.uSampler=Z.bindTexture($),Z.setBlendMode(K.blendMode),J.vao.draw(this.renderer.gl.TRIANGLES,6,0)},Y}(A.ObjectRenderer);E.default=U,A.WebGLRenderer.registerPlugin('tilingSprite',U)},function(T,E,S){'use strict';function M(X,Y){if(!(X instanceof Y))throw new TypeError('Cannot call a class as a function')}function O(X,Y){if(!X)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Y&&('object'==typeof Y||'function'==typeof Y)?Y:X}function I(X,Y){if('function'!=typeof Y&&null!==Y)throw new TypeError('Super expression must either be null or a function, not '+typeof Y);X.prototype=Object.create(Y&&Y.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(X,Y):X.__proto__=Y)}E.__esModule=!0;var A=function(){function X(Y,V){for(var K=0,Z;K<V.length;K++)Z=V[K],Z.enumerable=Z.enumerable||!1,Z.configurable=!0,'value'in Z&&(Z.writable=!0),Object.defineProperty(Y,Z.key,Z)}return function(Y,V,K){return V&&X(Y.prototype,V),K&&X(Y,K),Y}}(),D=S(22),L=function(X){if(X&&X.__esModule)return X;var Y={};if(null!=X)for(var V in X)Object.prototype.hasOwnProperty.call(X,V)&&(Y[V]=X[V]);return Y.default=X,Y}(D),N=S(26),F=function(X){return X&&X.__esModule?X:{default:X}}(N),U=function(X){function Y(V){var K=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};M(this,Y);var Z=O(this,X.call(this));return Z._textWidth=0,Z._textHeight=0,Z._glyphs=[],Z._font={tint:void 0===K.tint?16777215:K.tint,align:K.align||'left',name:null,size:0},Z.font=K.font,Z._text=V,Z.maxWidth=0,Z.maxLineHeight=0,Z._anchor=new F.default(function(){Z.dirty=!0},Z,0,0),Z.dirty=!1,Z.updateText(),Z}return I(Y,X),Y.prototype.updateText=function(){for(var K=Y.fonts[this._font.name],Z=this._font.size/K.size,J=new L.Point,Q=[],$=[],te=null,re=0,oe=0,ne=0,ie=-1,le=0,se=0,de=0,ue;de<this.text.length;de++){if(ue=this.text.charCodeAt(de),/(\s)/.test(this.text.charAt(de))&&(ie=de,le=re),/(?:\r\n|\r|\n)/.test(this.text.charAt(de))){$.push(re),oe=_Mathmax(oe,re),ne++,J.x=0,J.y+=K.lineHeight,te=null;continue}if(-1!==ie&&0<this.maxWidth&&J.x*Z>this.maxWidth){L.utils.removeItems(Q,ie,de-ie),de=ie,ie=-1,$.push(le),oe=_Mathmax(oe,le),ne++,J.x=0,J.y+=K.lineHeight,te=null;continue}var pe=K.chars[ue];pe&&(te&&pe.kerning[te]&&(J.x+=pe.kerning[te]),Q.push({texture:pe.texture,line:ne,charCode:ue,position:new L.Point(J.x+pe.xOffset,J.y+pe.yOffset)}),re=J.x+(pe.texture.width+pe.xOffset),J.x+=pe.xAdvance,se=_Mathmax(se,pe.yOffset+pe.texture.height),te=ue)}$.push(re),oe=_Mathmax(oe,re);for(var ce=[],fe=0,he;fe<=ne;fe++)he=0,'right'===this._font.align?he=oe-$[fe]:'center'===this._font.align&&(he=(oe-$[fe])/2),ce.push(he);for(var ge=Q.length,_e=this.tint,be=0,ve;be<ge;be++)ve=this._glyphs[be],ve?ve.texture=Q[be].texture:(ve=new L.Sprite(Q[be].texture),this._glyphs.push(ve)),ve.position.x=(Q[be].position.x+ce[Q[be].line])*Z,ve.position.y=Q[be].position.y*Z,ve.scale.x=ve.scale.y=Z,ve.tint=_e,ve.parent||this.addChild(ve);for(var Te=ge;Te<this._glyphs.length;++Te)this.removeChild(this._glyphs[Te]);if(this._textWidth=oe*Z,this._textHeight=(J.y+K.lineHeight)*Z,0!==this.anchor.x||0!==this.anchor.y)for(var Ee=0;Ee<ge;Ee++)this._glyphs[Ee].x-=this._textWidth*this.anchor.x,this._glyphs[Ee].y-=this._textHeight*this.anchor.y;this.maxLineHeight=se*Z},Y.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},Y.prototype.getLocalBounds=function(){return this.validate(),X.prototype.getLocalBounds.call(this)},Y.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Y.registerFont=function(K,Z){var J={},Q=K.getElementsByTagName('info')[0],$=K.getElementsByTagName('common')[0];J.font=Q.getAttribute('face'),J.size=parseInt(Q.getAttribute('size'),10),J.lineHeight=parseInt($.getAttribute('lineHeight'),10),J.chars={};for(var te=K.getElementsByTagName('char'),re=0;re<te.length;re++){var oe=te[re],ne=parseInt(oe.getAttribute('id'),10),ie=new L.Rectangle(parseInt(oe.getAttribute('x'),10)+Z.frame.x,parseInt(oe.getAttribute('y'),10)+Z.frame.y,parseInt(oe.getAttribute('width'),10),parseInt(oe.getAttribute('height'),10));J.chars[ne]={xOffset:parseInt(oe.getAttribute('xoffset'),10),yOffset:parseInt(oe.getAttribute('yoffset'),10),xAdvance:parseInt(oe.getAttribute('xadvance'),10),kerning:{},texture:new L.Texture(Z.baseTexture,ie)}}for(var le=K.getElementsByTagName('kerning'),se=0;se<le.length;se++){var de=le[se],ue=parseInt(de.getAttribute('first'),10),pe=parseInt(de.getAttribute('second'),10),ce=parseInt(de.getAttribute('amount'),10);J.chars[pe]&&(J.chars[pe].kerning[ue]=ce)}return Y.fonts[J.font]=J,J},A(Y,[{key:'tint',get:function(){return this._font.tint},set:function(K){this._font.tint='number'==typeof K&&0<=K?K:16777215,this.dirty=!0}},{key:'align',get:function(){return this._font.align},set:function(K){this._font.align=K||'left',this.dirty=!0}},{key:'anchor',get:function(){return this._anchor},set:function(K){'number'==typeof K?this._anchor.set(K):this._anchor.copy(K)}},{key:'font',get:function(){return this._font},set:function(K){K&&('string'==typeof K?(K=K.split(' '),this._font.name=1===K.length?K[0]:K.slice(1).join(' '),this._font.size=2<=K.length?parseInt(K[0],10):Y.fonts[this._font.name].size):(this._font.name=K.name,this._font.size='number'==typeof K.size?K.size:parseInt(K.size,10)),this.dirty=!0)}},{key:'text',get:function(){return this._text},set:function(K){K=K.toString()||' ',this._text===K||(this._text=K,this.dirty=!0)}},{key:'textWidth',get:function(){return this.validate(),this._textWidth}},{key:'textHeight',get:function(){return this.validate(),this._textHeight}}]),Y}(L.Container);E.default=U,U.fonts={}},function(T,E,S){'use strict';function P(V){return V&&V.__esModule?V:{default:V}}function M(V,K){if(!(V instanceof K))throw new TypeError('Cannot call a class as a function')}var O=S(22),I=function(V){if(V&&V.__esModule)return V;var K={};if(null!=V)for(var Z in V)Object.prototype.hasOwnProperty.call(V,Z)&&(K[Z]=V[Z]);return K.default=V,K}(O),A=S(66),D=P(A),L=S(67),N=P(L),F=S(62),U=I.DisplayObject,X=new I.Matrix;U.prototype._cacheAsBitmap=!1,U.prototype._cacheData=!1;var Y=function V(){M(this,V),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(U.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(K){if(this._cacheAsBitmap!==K){this._cacheAsBitmap=K;var Z;K?(!this._cacheData&&(this._cacheData=new Y),Z=this._cacheData,Z.originalRenderWebGL=this.renderWebGL,Z.originalRenderCanvas=this.renderCanvas,Z.originalUpdateTransform=this.updateTransform,Z.originalCalculateBounds=this._calculateBounds,Z.originalGetLocalBounds=this.getLocalBounds,Z.originalDestroy=this.destroy,Z.originalContainsPoint=this.containsPoint,Z.originalMask=this._mask,Z.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(Z=this._cacheData,Z.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=Z.originalRenderWebGL,this.renderCanvas=Z.originalRenderCanvas,this._calculateBounds=Z.originalCalculateBounds,this.getLocalBounds=Z.originalGetLocalBounds,this.destroy=Z.originalDestroy,this.updateTransform=Z.originalUpdateTransform,this.containsPoint=Z.originalContainsPoint,this._mask=Z.originalMask,this.filterArea=Z.originalFilterArea)}}}}),U.prototype._renderCachedWebGL=function(K){this.visible&&!(0>=this.worldAlpha)&&this.renderable&&(this._initCachedDisplayObject(K),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(K))},U.prototype._initCachedDisplayObject=function(K){if(!(this._cacheData&&this._cacheData.sprite)){var Z=this.alpha;this.alpha=1,K.currentRenderer.flush();var J=this.getLocalBounds().clone();if(this._filters){var Q=this._filters[0].padding;J.pad(Q)}var $=K._activeRenderTarget,te=K.filterManager.filterStack,re=I.RenderTexture.create(0|J.width,0|J.height),oe='cacheAsBitmap_'+(0,F.uid)();this._cacheData.textureCacheId=oe,N.default.addToCache(re.baseTexture,oe),D.default.addToCache(re,oe);var ne=X;ne.tx=-J.x,ne.ty=-J.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,K.render(this,re,!0,ne,!0),K.bindRenderTarget($),K.filterManager.filterStack=te,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var ie=new I.Sprite(re);ie.transform.worldTransform=this.transform.worldTransform,ie.anchor.x=-(J.x/J.width),ie.anchor.y=-(J.y/J.height),ie.alpha=Z,ie._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=ie,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=K._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=ie.containsPoint.bind(ie)}},U.prototype._renderCachedCanvas=function(K){this.visible&&!(0>=this.worldAlpha)&&this.renderable&&(this._initCachedDisplayObjectCanvas(K),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(K))},U.prototype._initCachedDisplayObjectCanvas=function(K){if(!(this._cacheData&&this._cacheData.sprite)){var Z=this.getLocalBounds(),J=this.alpha;this.alpha=1;var Q=K.context,$=I.RenderTexture.create(0|Z.width,0|Z.height),te='cacheAsBitmap_'+(0,F.uid)();this._cacheData.textureCacheId=te,N.default.addToCache($.baseTexture,te),D.default.addToCache($,te);var re=X;this.transform.localTransform.copy(re),re.invert(),re.tx-=Z.x,re.ty-=Z.y,this.renderCanvas=this._cacheData.originalRenderCanvas,K.render(this,$,!0,re,!1),K.context=Q,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var oe=new I.Sprite($);oe.transform.worldTransform=this.transform.worldTransform,oe.anchor.x=-(Z.x/Z.width),oe.anchor.y=-(Z.y/Z.height),oe._bounds=this._bounds,oe.alpha=J,this.parent?this.updateTransform():(this.parent=K._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=oe,this.containsPoint=oe.containsPoint.bind(oe)}},U.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},U.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},U.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,N.default.removeFromCache(this._cacheData.textureCacheId),D.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},U.prototype._cacheAsBitmapDestroy=function(K){this.cacheAsBitmap=!1,this.destroy(K)}},function(T,E,S){'use strict';var C=S(22),M=function(O){if(O&&O.__esModule)return O;var I={};if(null!=O)for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(I[A]=O[A]);return I.default=O,I}(C);M.DisplayObject.prototype.name=null,M.Container.prototype.getChildByName=function(I){for(var A=0;A<this.children.length;A++)if(this.children[A].name===I)return this.children[A];return null}},function(T,E,S){'use strict';var C=S(22),M=function(O){if(O&&O.__esModule)return O;var I={};if(null!=O)for(var A in O)Object.prototype.hasOwnProperty.call(O,A)&&(I[A]=O[A]);return I.default=O,I}(C);M.DisplayObject.prototype.getGlobalPosition=function(){var I=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new M.Point,A=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,I,A):(I.x=this.position.x,I.y=this.position.y),I}},function(T,E,S){'use strict';function P(F){return F&&F.__esModule?F:{default:F}}E.__esModule=!0;var C=S(155);Object.defineProperty(E,'FXAAFilter',{enumerable:!0,get:function(){return P(C).default}});var M=S(156);Object.defineProperty(E,'NoiseFilter',{enumerable:!0,get:function(){return P(M).default}});var O=S(157);Object.defineProperty(E,'DisplacementFilter',{enumerable:!0,get:function(){return P(O).default}});var I=S(158);Object.defineProperty(E,'BlurFilter',{enumerable:!0,get:function(){return P(I).default}});var A=S(159);Object.defineProperty(E,'BlurXFilter',{enumerable:!0,get:function(){return P(A).default}});var D=S(163);Object.defineProperty(E,'BlurYFilter',{enumerable:!0,get:function(){return P(D).default}});var L=S(164);Object.defineProperty(E,'ColorMatrixFilter',{enumerable:!0,get:function(){return P(L).default}});var N=S(165);Object.defineProperty(E,'VoidFilter',{enumerable:!0,get:function(){return P(N).default}})},function(T,E,S){'use strict';function C(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function M(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function O(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}E.__esModule=!0;var I=S(22),A=function(N){if(N&&N.__esModule)return N;var F={};if(null!=N)for(var U in N)Object.prototype.hasOwnProperty.call(N,U)&&(F[U]=N[U]);return F.default=N,F}(I),D=S(100),L=function(N){function F(){return C(this,F),M(this,N.call(this,'\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}','varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return O(F,N),F}(A.Filter);E.default=L},function(T,E,S){'use strict';function C(F,U){if(!(F instanceof U))throw new TypeError('Cannot call a class as a function')}function M(F,U){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:F}function O(F,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);F.prototype=Object.create(U&&U.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(F,U):F.__proto__=U)}E.__esModule=!0;var I=function(){function F(U,X){for(var Y=0,V;Y<X.length;Y++)V=X[Y],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(U,V.key,V)}return function(U,X,Y){return X&&F(U.prototype,X),Y&&F(U,Y),U}}(),A=S(22),D=function(F){if(F&&F.__esModule)return F;var U={};if(null!=F)for(var X in F)Object.prototype.hasOwnProperty.call(F,X)&&(U[X]=F[X]);return U.default=F,U}(A),L=S(100),N=function(F){function U(){var X=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0.5,Y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Math.random();C(this,U);var V=M(this,F.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}','precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n'));return V.noise=X,V.seed=Y,V}return O(U,F),I(U,[{key:'noise',get:function(){return this.uniforms.uNoise},set:function(Y){this.uniforms.uNoise=Y}},{key:'seed',get:function(){return this.uniforms.uSeed},set:function(Y){this.uniforms.uSeed=Y}}]),U}(D.Filter);E.default=N},function(T,E,S){'use strict';function C(F,U){if(!(F instanceof U))throw new TypeError('Cannot call a class as a function')}function M(F,U){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:F}function O(F,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);F.prototype=Object.create(U&&U.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(F,U):F.__proto__=U)}E.__esModule=!0;var I=function(){function F(U,X){for(var Y=0,V;Y<X.length;Y++)V=X[Y],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(U,V.key,V)}return function(U,X,Y){return X&&F(U.prototype,X),Y&&F(U,Y),U}}(),A=S(22),D=function(F){if(F&&F.__esModule)return F;var U={};if(null!=F)for(var X in F)Object.prototype.hasOwnProperty.call(F,X)&&(U[X]=F[X]);return U.default=F,U}(A),L=S(100),N=function(F){function U(X,Y){C(this,U);var V=new D.Matrix;X.renderable=!1;var K=M(this,F.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}','varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n'));return K.maskSprite=X,K.maskMatrix=V,K.uniforms.mapSampler=X._texture,K.uniforms.filterMatrix=V,K.uniforms.scale={x:1,y:1},(null===Y||void 0===Y)&&(Y=20),K.scale=new D.Point(Y,Y),K}return O(U,F),U.prototype.apply=function(Y,V,K){var Z=1/K.destinationFrame.width*(K.size.width/V.size.width);this.uniforms.filterMatrix=Y.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x*Z,this.uniforms.scale.y=this.scale.y*Z,Y.applyFilter(this,V,K)},I(U,[{key:'map',get:function(){return this.uniforms.mapSampler},set:function(Y){this.uniforms.mapSampler=Y}}]),U}(D.Filter);E.default=N},function(T,E,S){'use strict';function P(V){return V&&V.__esModule?V:{default:V}}function M(V,K){if(!(V instanceof K))throw new TypeError('Cannot call a class as a function')}function O(V,K){if(!V)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return K&&('object'==typeof K||'function'==typeof K)?K:V}function I(V,K){if('function'!=typeof K&&null!==K)throw new TypeError('Super expression must either be null or a function, not '+typeof K);V.prototype=Object.create(K&&K.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(V,K):V.__proto__=K)}E.__esModule=!0;var A=function(){function V(K,Z){for(var J=0,Q;J<Z.length;J++)Q=Z[J],Q.enumerable=Q.enumerable||!1,Q.configurable=!0,'value'in Q&&(Q.writable=!0),Object.defineProperty(K,Q.key,Q)}return function(K,Z,J){return Z&&V(K.prototype,Z),J&&V(K,J),K}}(),D=S(22),L=function(V){if(V&&V.__esModule)return V;var K={};if(null!=V)for(var Z in V)Object.prototype.hasOwnProperty.call(V,Z)&&(K[Z]=V[Z]);return K.default=V,K}(D),N=S(159),F=P(N),U=S(163),X=P(U),Y=function(V){function K(Z,J,Q,$){M(this,K);var te=O(this,V.call(this));return te.blurXFilter=new F.default(Z,J,Q,$),te.blurYFilter=new X.default(Z,J,Q,$),te.padding=0,te.resolution=Q||L.settings.RESOLUTION,te.quality=J||4,te.blur=Z||8,te}return I(K,V),K.prototype.apply=function(J,Q,$){var te=J.getRenderTarget(!0);this.blurXFilter.apply(J,Q,te,!0),this.blurYFilter.apply(J,te,$,!1),J.returnRenderTarget(te)},A(K,[{key:'blur',get:function(){return this.blurXFilter.blur},set:function(J){this.blurXFilter.blur=this.blurYFilter.blur=J,this.padding=2*_Mathmax(_Mathabs(this.blurXFilter.strength),_Mathabs(this.blurYFilter.strength))}},{key:'quality',get:function(){return this.blurXFilter.quality},set:function(J){this.blurXFilter.quality=this.blurYFilter.quality=J}},{key:'blurX',get:function(){return this.blurXFilter.blur},set:function(J){this.blurXFilter.blur=J,this.padding=2*_Mathmax(_Mathabs(this.blurXFilter.strength),_Mathabs(this.blurYFilter.strength))}},{key:'blurY',get:function(){return this.blurYFilter.blur},set:function(J){this.blurYFilter.blur=J,this.padding=2*_Mathmax(_Mathabs(this.blurXFilter.strength),_Mathabs(this.blurYFilter.strength))}}]),K}(L.Filter);E.default=Y},function(T,E,S){'use strict';function P(Z){return Z&&Z.__esModule?Z:{default:Z}}function M(Z,J){if(!(Z instanceof J))throw new TypeError('Cannot call a class as a function')}function O(Z,J){if(!Z)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return J&&('object'==typeof J||'function'==typeof J)?J:Z}function I(Z,J){if('function'!=typeof J&&null!==J)throw new TypeError('Super expression must either be null or a function, not '+typeof J);Z.prototype=Object.create(J&&J.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,J):Z.__proto__=J)}E.__esModule=!0;var A=function(){function Z(J,Q){for(var $=0,te;$<Q.length;$++)te=Q[$],te.enumerable=te.enumerable||!1,te.configurable=!0,'value'in te&&(te.writable=!0),Object.defineProperty(J,te.key,te)}return function(J,Q,$){return Q&&Z(J.prototype,Q),$&&Z(J,$),J}}(),D=S(22),L=function(Z){if(Z&&Z.__esModule)return Z;var J={};if(null!=Z)for(var Q in Z)Object.prototype.hasOwnProperty.call(Z,Q)&&(J[Q]=Z[Q]);return J.default=Z,J}(D),N=S(160),F=P(N),U=S(161),X=P(U),Y=S(162),V=P(Y),K=function(Z){function J(Q,$,te,re){M(this,J),re=re||5;var oe=(0,F.default)(re,!0),ne=(0,X.default)(re),ie=O(this,Z.call(this,oe,ne));return ie.resolution=te||L.settings.RESOLUTION,ie._quality=0,ie.quality=$||4,ie.strength=Q||8,ie.firstRun=!0,ie}return I(J,Z),J.prototype.apply=function($,te,re,oe){if(this.firstRun){var ne=$.renderer.gl,ie=(0,V.default)(ne);this.vertexSrc=(0,F.default)(ie,!0),this.fragmentSrc=(0,X.default)(ie),this.firstRun=!1}if(this.uniforms.strength=1/re.size.width*(re.size.width/te.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)$.applyFilter(this,te,re,oe);else{for(var le=$.getRenderTarget(!0),se=te,de=le,ue=0;ue<this.passes-1;ue++){$.applyFilter(this,se,de,!0);var pe=de;de=se,se=pe}$.applyFilter(this,se,re,oe),$.returnRenderTarget(le)}},A(J,[{key:'blur',get:function(){return this.strength},set:function($){this.padding=2*_Mathabs($),this.strength=$}},{key:'quality',get:function(){return this._quality},set:function($){this._quality=$,this.passes=$}}]),J}(L.Filter);E.default=K},function(T,E){'use strict';E.__esModule=!0,E.default=function(C,M){var O=_Mathceil(C/2),I=P,A='',D;D=M?'vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);':'vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);';for(var L=0,N;L<C;L++)N=D.replace('%index%',L),N=N.replace('%sampleIndex%',L-(O-1)+'.0'),A+=N,A+='\n';return I=I.replace('%blur%',A),I=I.replace('%size%',C),I};var P=['attribute vec2 aVertexPosition;','attribute vec2 aTextureCoord;','uniform float strength;','uniform mat3 projectionMatrix;','varying vec2 vBlurTexCoords[%size%];','void main(void)','{','gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);','%blur%','}'].join('\n')},function(T,E){'use strict';E.__esModule=!0,E.default=function(M){for(var O=P[M],I=O.length,A=C,D='',N=void 0,F=0,U;F<M;F++)U='gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;'.replace('%index%',F),N=F,F>=I&&(N=M-F-1),U=U.replace('%value%',O[N]),D+=U,D+='\n';return A=A.replace('%blur%',D),A=A.replace('%size%',M),A};var P={5:[0.153388,0.221461,0.250301],7:[0.071303,0.131514,0.189879,0.214607],9:[0.028532,0.067234,0.124009,0.179044,0.20236],11:[0.0093,0.028002,0.065984,0.121703,0.175713,0.198596],13:[0.002406,0.009255,0.027867,0.065666,0.121117,0.174868,0.197641],15:[0.000489,0.002403,0.009246,0.02784,0.065602,0.120999,0.174697,0.197448]},C=['varying vec2 vBlurTexCoords[%size%];','uniform sampler2D uSampler;','void main(void)','{','    gl_FragColor = vec4(0.0);','    %blur%','}'].join('\n')},function(T,E){'use strict';E.__esModule=!0,E.default=function(P){for(var C=P.getParameter(P.MAX_VARYING_VECTORS),M=15;M>C;)M-=2;return M}},function(T,E,S){'use strict';function P(Z){return Z&&Z.__esModule?Z:{default:Z}}function M(Z,J){if(!(Z instanceof J))throw new TypeError('Cannot call a class as a function')}function O(Z,J){if(!Z)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return J&&('object'==typeof J||'function'==typeof J)?J:Z}function I(Z,J){if('function'!=typeof J&&null!==J)throw new TypeError('Super expression must either be null or a function, not '+typeof J);Z.prototype=Object.create(J&&J.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,J):Z.__proto__=J)}E.__esModule=!0;var A=function(){function Z(J,Q){for(var $=0,te;$<Q.length;$++)te=Q[$],te.enumerable=te.enumerable||!1,te.configurable=!0,'value'in te&&(te.writable=!0),Object.defineProperty(J,te.key,te)}return function(J,Q,$){return Q&&Z(J.prototype,Q),$&&Z(J,$),J}}(),D=S(22),L=function(Z){if(Z&&Z.__esModule)return Z;var J={};if(null!=Z)for(var Q in Z)Object.prototype.hasOwnProperty.call(Z,Q)&&(J[Q]=Z[Q]);return J.default=Z,J}(D),N=S(160),F=P(N),U=S(161),X=P(U),Y=S(162),V=P(Y),K=function(Z){function J(Q,$,te,re){M(this,J),re=re||5;var oe=(0,F.default)(re,!1),ne=(0,X.default)(re),ie=O(this,Z.call(this,oe,ne));return ie.resolution=te||L.settings.RESOLUTION,ie._quality=0,ie.quality=$||4,ie.strength=Q||8,ie.firstRun=!0,ie}return I(J,Z),J.prototype.apply=function($,te,re,oe){if(this.firstRun){var ne=$.renderer.gl,ie=(0,V.default)(ne);this.vertexSrc=(0,F.default)(ie,!1),this.fragmentSrc=(0,X.default)(ie),this.firstRun=!1}if(this.uniforms.strength=1/re.size.height*(re.size.height/te.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)$.applyFilter(this,te,re,oe);else{for(var le=$.getRenderTarget(!0),se=te,de=le,ue=0;ue<this.passes-1;ue++){$.applyFilter(this,se,de,!0);var pe=de;de=se,se=pe}$.applyFilter(this,se,re,oe),$.returnRenderTarget(le)}},A(J,[{key:'blur',get:function(){return this.strength},set:function($){this.padding=2*_Mathabs($),this.strength=$}},{key:'quality',get:function(){return this._quality},set:function($){this._quality=$,this.passes=$}}]),J}(L.Filter);E.default=K},function(T,E,S){'use strict';function C(F,U){if(!(F instanceof U))throw new TypeError('Cannot call a class as a function')}function M(F,U){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:F}function O(F,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);F.prototype=Object.create(U&&U.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(F,U):F.__proto__=U)}E.__esModule=!0;var I=function(){function F(U,X){for(var Y=0,V;Y<X.length;Y++)V=X[Y],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(U,V.key,V)}return function(U,X,Y){return X&&F(U.prototype,X),Y&&F(U,Y),U}}(),A=S(22),D=function(F){if(F&&F.__esModule)return F;var U={};if(null!=F)for(var X in F)Object.prototype.hasOwnProperty.call(F,X)&&(U[X]=F[X]);return U.default=F,U}(A),L=S(100),N=function(F){function U(){C(this,U);var X=M(this,F.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}','varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n'));return X.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],X.alpha=1,X}return O(U,F),U.prototype._loadMatrix=function(Y){var V=1<arguments.length&&void 0!==arguments[1]&&arguments[1],K=Y;V&&(this._multiply(K,this.uniforms.m,Y),K=this._colorMatrix(K)),this.uniforms.m=K},U.prototype._multiply=function(Y,V,K){return Y[0]=V[0]*K[0]+V[1]*K[5]+V[2]*K[10]+V[3]*K[15],Y[1]=V[0]*K[1]+V[1]*K[6]+V[2]*K[11]+V[3]*K[16],Y[2]=V[0]*K[2]+V[1]*K[7]+V[2]*K[12]+V[3]*K[17],Y[3]=V[0]*K[3]+V[1]*K[8]+V[2]*K[13]+V[3]*K[18],Y[4]=V[0]*K[4]+V[1]*K[9]+V[2]*K[14]+V[3]*K[19]+V[4],Y[5]=V[5]*K[0]+V[6]*K[5]+V[7]*K[10]+V[8]*K[15],Y[6]=V[5]*K[1]+V[6]*K[6]+V[7]*K[11]+V[8]*K[16],Y[7]=V[5]*K[2]+V[6]*K[7]+V[7]*K[12]+V[8]*K[17],Y[8]=V[5]*K[3]+V[6]*K[8]+V[7]*K[13]+V[8]*K[18],Y[9]=V[5]*K[4]+V[6]*K[9]+V[7]*K[14]+V[8]*K[19]+V[9],Y[10]=V[10]*K[0]+V[11]*K[5]+V[12]*K[10]+V[13]*K[15],Y[11]=V[10]*K[1]+V[11]*K[6]+V[12]*K[11]+V[13]*K[16],Y[12]=V[10]*K[2]+V[11]*K[7]+V[12]*K[12]+V[13]*K[17],Y[13]=V[10]*K[3]+V[11]*K[8]+V[12]*K[13]+V[13]*K[18],Y[14]=V[10]*K[4]+V[11]*K[9]+V[12]*K[14]+V[13]*K[19]+V[14],Y[15]=V[15]*K[0]+V[16]*K[5]+V[17]*K[10]+V[18]*K[15],Y[16]=V[15]*K[1]+V[16]*K[6]+V[17]*K[11]+V[18]*K[16],Y[17]=V[15]*K[2]+V[16]*K[7]+V[17]*K[12]+V[18]*K[17],Y[18]=V[15]*K[3]+V[16]*K[8]+V[17]*K[13]+V[18]*K[18],Y[19]=V[15]*K[4]+V[16]*K[9]+V[17]*K[14]+V[18]*K[19]+V[19],Y},U.prototype._colorMatrix=function(Y){var V=new Float32Array(Y);return V[4]/=255,V[9]/=255,V[14]/=255,V[19]/=255,V},U.prototype.brightness=function(Y,V){this._loadMatrix([Y,0,0,0,0,0,Y,0,0,0,0,0,Y,0,0,0,0,0,1,0],V)},U.prototype.greyscale=function(Y,V){this._loadMatrix([Y,Y,Y,0,0,Y,Y,Y,0,0,Y,Y,Y,0,0,0,0,0,1,0],V)},U.prototype.blackAndWhite=function(Y){this._loadMatrix([0.3,0.6,0.1,0,0,0.3,0.6,0.1,0,0,0.3,0.6,0.1,0,0,0,0,0,1,0],Y)},U.prototype.hue=function(Y,V){Y=(Y||0)/180*_MathPI;var K=_Mathcos(Y),Z=_Mathsin(Y),Q=1/3,$=_Mathsqrt(Q);this._loadMatrix([K+(1-K)*Q,Q*(1-K)-$*Z,Q*(1-K)+$*Z,0,0,Q*(1-K)+$*Z,K+Q*(1-K),Q*(1-K)-$*Z,0,0,Q*(1-K)-$*Z,Q*(1-K)+$*Z,K+Q*(1-K),0,0,0,0,0,1,0],V)},U.prototype.contrast=function(Y,V){var K=(Y||0)+1,Z=-128*(K-1);this._loadMatrix([K,0,0,0,Z,0,K,0,0,Z,0,0,K,0,Z,0,0,0,1,0],V)},U.prototype.saturate=function(){var Y=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,V=arguments[1],K=2*Y/3+1,Z=-0.5*(K-1);this._loadMatrix([K,Z,Z,0,0,Z,K,Z,0,0,Z,Z,K,0,0,0,0,0,1,0],V)},U.prototype.desaturate=function(){this.saturate(-1)},U.prototype.negative=function(Y){this._loadMatrix([0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0],Y)},U.prototype.sepia=function(Y){this._loadMatrix([0.393,0.7689999,0.18899999,0,0,0.349,0.6859999,0.16799999,0,0,0.272,0.5339999,0.13099999,0,0,0,0,0,1,0],Y)},U.prototype.technicolor=function(Y){this._loadMatrix([1.9125277891456083,-0.8545344976951645,-0.09155508482755585,0,11.793603434377337,-0.3087833385928097,1.7658908555458428,-0.10601743074722245,0,-70.35205161461398,-0.231103377548616,-0.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],Y)},U.prototype.polaroid=function(Y){this._loadMatrix([1.438,-0.062,-0.062,0,0,-0.122,1.378,-0.122,0,0,-0.016,-0.016,1.483,0,0,0,0,0,1,0],Y)},U.prototype.toBGR=function(Y){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],Y)},U.prototype.kodachrome=function(Y){this._loadMatrix([1.1285582396593525,-0.3967382283601348,-0.03992559172921793,0,63.72958762196502,-0.16404339962244616,1.0835251566291304,-0.05498805115633132,0,24.732407896706203,-0.16786010706155763,-0.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],Y)},U.prototype.browni=function(Y){this._loadMatrix([0.5997023498159715,0.34553243048391263,-0.2708298674538042,0,47.43192855600873,-0.037703249837783157,0.8609577587992641,0.15059552388459913,0,-36.96841498319127,0.24113635128153335,-0.07441037908422492,0.44972182064877153,0,-7.562075277591283,0,0,0,1,0],Y)},U.prototype.vintage=function(Y){this._loadMatrix([0.6279345635605994,0.3202183420819367,-0.03965408211312453,0,9.651285835294123,0.02578397704808868,0.6441188644374771,0.03259127616149294,0,7.462829176470591,0.0466055556782719,-0.0851232987247891,0.5241648018700465,0,5.159190588235296,0,0,0,1,0],Y)},U.prototype.colorTone=function(Y,V,K,Z,J){Y=Y||0.2,V=V||0.15,K=K||16770432,Z=Z||3375104;var Q=(255&K>>16)/255,$=(255&K>>8)/255,te=(255&K)/255,re=(255&Z>>16)/255,oe=(255&Z>>8)/255,ne=(255&Z)/255,ie=[0.3,0.59,0.11,0,0,Q,$,te,Y,0,re,oe,ne,V,0,Q-re,$-oe,te-ne,0,0];this._loadMatrix(ie,J)},U.prototype.night=function(Y,V){Y=Y||0.1;var K=[-2*Y,-Y,0,0,0,-Y,0,Y,0,0,0,Y,2*Y,0,0,0,0,0,1,0];this._loadMatrix(K,V)},U.prototype.predator=function(Y,V){this._loadMatrix([11.224130630493164*Y,-4.794486999511719*Y,-2.8746118545532227*Y,0*Y,0.40342438220977783*Y,-3.6330697536468506*Y,9.193157196044922*Y,-2.951810836791992*Y,0*Y,-1.316135048866272*Y,-3.2184197902679443*Y,-4.2375030517578125*Y,7.476448059082031*Y,0*Y,0.8044459223747253*Y,0,0,0,1,0],V)},U.prototype.lsd=function(Y){this._loadMatrix([2,-0.4,0.5,0,0,-0.5,2,-0.4,0,0,-0.4,-0.5,3,0,0,0,0,0,1,0],Y)},U.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},I(U,[{key:'matrix',get:function(){return this.uniforms.m},set:function(Y){this.uniforms.m=Y}},{key:'alpha',get:function(){return this.uniforms.uAlpha},set:function(Y){this.uniforms.uAlpha=Y}}]),U}(D.Filter);E.default=N,N.prototype.grayscale=N.prototype.greyscale},function(T,E,S){'use strict';function C(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function M(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function O(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}E.__esModule=!0;var I=S(22),A=function(N){if(N&&N.__esModule)return N;var F={};if(null!=N)for(var U in N)Object.prototype.hasOwnProperty.call(N,U)&&(F[U]=N[U]);return F.default=N,F}(I),D=S(100),L=function(N){function F(){C(this,F);var U=M(this,N.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}','varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n'));return U.glShaderKey='void',U}return O(F,N),F}(A.Filter);E.default=L},function(T,E,S){'use strict';function P(I){return I&&I.__esModule?I:{default:I}}E.__esModule=!0;var C=S(167);Object.defineProperty(E,'InteractionData',{enumerable:!0,get:function(){return P(C).default}});var M=S(168);Object.defineProperty(E,'InteractionManager',{enumerable:!0,get:function(){return P(M).default}});var O=S(171);Object.defineProperty(E,'interactiveTarget',{enumerable:!0,get:function(){return P(O).default}})},function(T,E,S){'use strict';function C(A,D){if(!(A instanceof D))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(22),O=function(A){if(A&&A.__esModule)return A;var D={};if(null!=A)for(var L in A)Object.prototype.hasOwnProperty.call(A,L)&&(D[L]=A[L]);return D.default=A,D}(M),I=function(){function A(){C(this,A),this.global=new O.Point,this.target=null,this.originalEvent=null,this.identifier=null}return A.prototype.getLocalPosition=function(L,N,F){return L.worldTransform.applyInverse(F||this.global,N)},A}();E.default=I},function(T,E,S){'use strict';function P(oe){return oe&&oe.__esModule?oe:{default:oe}}function M(oe,ne){if(!(oe instanceof ne))throw new TypeError('Cannot call a class as a function')}function O(oe,ne){if(!oe)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return ne&&('object'==typeof ne||'function'==typeof ne)?ne:oe}function I(oe,ne){if('function'!=typeof ne&&null!==ne)throw new TypeError('Super expression must either be null or a function, not '+typeof ne);oe.prototype=Object.create(ne&&ne.prototype,{constructor:{value:oe,enumerable:!1,writable:!0,configurable:!0}}),ne&&(Object.setPrototypeOf?Object.setPrototypeOf(oe,ne):oe.__proto__=ne)}E.__esModule=!0;var A='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(oe){return typeof oe}:function(oe){return oe&&'function'==typeof Symbol&&oe.constructor===Symbol&&oe!==Symbol.prototype?'symbol':typeof oe},D=S(22),L=function(oe){if(oe&&oe.__esModule)return oe;var ne={};if(null!=oe)for(var ie in oe)Object.prototype.hasOwnProperty.call(oe,ie)&&(ne[ie]=oe[ie]);return ne.default=oe,ne}(D),N=S(167),F=P(N),U=S(169),X=P(U),Y=S(170),V=P(Y),K=S(53),Z=P(K),J=S(171),Q=P(J);L.utils.mixins.delayMixin(L.DisplayObject.prototype,Q.default);var $='MOUSE',te={target:null,data:{global:null}},re=function(oe){function ne(ie,le){M(this,ne);var se=O(this,oe.call(this));return le=le||{},se.renderer=ie,se.autoPreventDefault=void 0===le.autoPreventDefault||le.autoPreventDefault,se.interactionFrequency=le.interactionFrequency||10,se.mouse=new F.default,se.mouse.identifier=$,se.mouse.global.set(-999999),se.activeInteractionData={},se.activeInteractionData[$]=se.mouse,se.interactionDataPool=[],se.eventData=new X.default,se.interactionDOMElement=null,se.moveWhenInside=!1,se.eventsAdded=!1,se.mouseOverRenderer=!1,se.supportsTouchEvents='ontouchstart'in window,se.supportsPointerEvents=!!window.PointerEvent,se.onPointerUp=se.onPointerUp.bind(se),se.processPointerUp=se.processPointerUp.bind(se),se.onPointerCancel=se.onPointerCancel.bind(se),se.processPointerCancel=se.processPointerCancel.bind(se),se.onPointerDown=se.onPointerDown.bind(se),se.processPointerDown=se.processPointerDown.bind(se),se.onPointerMove=se.onPointerMove.bind(se),se.processPointerMove=se.processPointerMove.bind(se),se.onPointerOut=se.onPointerOut.bind(se),se.processPointerOverOut=se.processPointerOverOut.bind(se),se.onPointerOver=se.onPointerOver.bind(se),se.cursorStyles={default:'inherit',pointer:'pointer'},se.currentCursorMode=null,se.cursor=null,se._tempPoint=new L.Point,se.resolution=1,se.setTargetElement(se.renderer.view,se.renderer.resolution),se}return I(ne,oe),ne.prototype.hitTest=function(le,se){return te.target=null,te.data.global=le,se||(se=this.renderer._lastObjectRendered),this.processInteractive(te,se,null,!0),te.target},ne.prototype.setTargetElement=function(le){var se=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=le,this.resolution=se,this.addEvents()},ne.prototype.addEvents=function(){this.interactionDOMElement&&(L.ticker.shared.add(this.update,this,L.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style['-ms-content-zooming']='none',this.interactionDOMElement.style['-ms-touch-action']='none'):this.supportsPointerEvents&&(this.interactionDOMElement.style['touch-action']='none'),this.supportsPointerEvents?(window.document.addEventListener('pointermove',this.onPointerMove,!0),this.interactionDOMElement.addEventListener('pointerdown',this.onPointerDown,!0),this.interactionDOMElement.addEventListener('pointerleave',this.onPointerOut,!0),this.interactionDOMElement.addEventListener('pointerover',this.onPointerOver,!0),window.addEventListener('pointercancel',this.onPointerCancel,!0),window.addEventListener('pointerup',this.onPointerUp,!0)):(window.document.addEventListener('mousemove',this.onPointerMove,!0),this.interactionDOMElement.addEventListener('mousedown',this.onPointerDown,!0),this.interactionDOMElement.addEventListener('mouseout',this.onPointerOut,!0),this.interactionDOMElement.addEventListener('mouseover',this.onPointerOver,!0),window.addEventListener('mouseup',this.onPointerUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener('touchstart',this.onPointerDown,!0),this.interactionDOMElement.addEventListener('touchcancel',this.onPointerCancel,!0),this.interactionDOMElement.addEventListener('touchend',this.onPointerUp,!0),this.interactionDOMElement.addEventListener('touchmove',this.onPointerMove,!0))),this.eventsAdded=!0)},ne.prototype.removeEvents=function(){this.interactionDOMElement&&(L.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style['-ms-content-zooming']='',this.interactionDOMElement.style['-ms-touch-action']=''):this.supportsPointerEvents&&(this.interactionDOMElement.style['touch-action']=''),this.supportsPointerEvents?(window.document.removeEventListener('pointermove',this.onPointerMove,!0),this.interactionDOMElement.removeEventListener('pointerdown',this.onPointerDown,!0),this.interactionDOMElement.removeEventListener('pointerleave',this.onPointerOut,!0),this.interactionDOMElement.removeEventListener('pointerover',this.onPointerOver,!0),window.removeEventListener('pointercancel',this.onPointerCancel,!0),window.removeEventListener('pointerup',this.onPointerUp,!0)):(window.document.removeEventListener('mousemove',this.onPointerMove,!0),this.interactionDOMElement.removeEventListener('mousedown',this.onPointerDown,!0),this.interactionDOMElement.removeEventListener('mouseout',this.onPointerOut,!0),this.interactionDOMElement.removeEventListener('mouseover',this.onPointerOver,!0),window.removeEventListener('mouseup',this.onPointerUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener('touchstart',this.onPointerDown,!0),this.interactionDOMElement.removeEventListener('touchcancel',this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener('touchend',this.onPointerUp,!0),this.interactionDOMElement.removeEventListener('touchmove',this.onPointerMove,!0))),this.interactionDOMElement=null,this.eventsAdded=!1)},ne.prototype.update=function(le){if((this._deltaTime+=le,!(this._deltaTime<this.interactionFrequency))&&(this._deltaTime=0,!!this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);for(var se in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(se)){var de=this.activeInteractionData[se];if(de.originalEvent&&'touch'!==de.pointerType){var ue=this.configureInteractionEventForDOMEvent(this.eventData,de.originalEvent,de);this.processInteractive(ue,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},ne.prototype.setCursorMode=function(le){if(le=le||'default',this.currentCursorMode!==le){this.currentCursorMode=le;var se=this.cursorStyles[le];if(se)switch('undefined'==typeof se?'undefined':A(se)){case'string':this.interactionDOMElement.style.cursor=se;break;case'function':se(le);break;case'object':Object.assign(this.interactionDOMElement.style,se);}}},ne.prototype.dispatchEvent=function(le,se,de){de.stopped||(de.currentTarget=le,de.type=se,le.emit(se,de),le[se]&&le[se](de))},ne.prototype.mapPositionToPoint=function(le,se,de){var ue=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var pe=navigator.isCocoonJS?this.resolution:1/this.resolution;le.x=(se-ue.left)*(this.interactionDOMElement.width/ue.width)*pe,le.y=(de-ue.top)*(this.interactionDOMElement.height/ue.height)*pe},ne.prototype.processInteractive=function(le,se,de,ue,pe){if(!se||!se.visible)return!1;var ce=le.data.global;pe=se.interactive||pe;var fe=!1,he=pe;if(se.hitArea?he=!1:ue&&se._mask&&!se._mask.containsPoint(ce)&&(ue=!1),se.interactiveChildren&&se.children)for(var ge=se.children,_e=ge.length-1;0<=_e;_e--){var be=ge[_e],ve=this.processInteractive(le,be,de,ue,he);if(ve){if(!be.parent)continue;he=!1,ve&&(le.target&&(ue=!1),fe=!0)}}return pe&&(ue&&!le.target&&(se.hitArea?(se.worldTransform.applyInverse(ce,this._tempPoint),se.hitArea.contains(this._tempPoint.x,this._tempPoint.y)&&(fe=!0)):se.containsPoint&&se.containsPoint(ce)&&(fe=!0)),se.interactive&&(fe&&!le.target&&(le.target=se),de&&de(le,se,!!fe))),fe},ne.prototype.onPointerDown=function(le){var se=this.normalizeToPointerData(le);this.autoPreventDefault&&se[0].isNormalized&&le.preventDefault();for(var de=se.length,ue=0;ue<de;ue++){var pe=se[ue],ce=this.getInteractionDataForPointerId(pe),fe=this.configureInteractionEventForDOMEvent(this.eventData,pe,ce);if(fe.data.originalEvent=le,this.processInteractive(fe,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit('pointerdown',fe),'touch'===pe.pointerType)this.emit('touchstart',fe);else if('mouse'===pe.pointerType){var he=2===pe.button||3===pe.which;this.emit(he?'rightdown':'mousedown',this.eventData)}}},ne.prototype.processPointerDown=function(le,se,de){var ue=le.data.originalEvent,pe=le.data.identifier;if(de)if(se.trackedPointers[pe]||(se.trackedPointers[pe]=new V.default(pe)),this.dispatchEvent(se,'pointerdown',le),'touchstart'===ue.type||'touch'===ue.pointerType)this.dispatchEvent(se,'touchstart',le);else if('mousedown'===ue.type||'mouse'===ue.pointerType){var ce=2===ue.button||3===ue.which;ce?se.trackedPointers[pe].rightDown=!0:se.trackedPointers[pe].leftDown=!0,this.dispatchEvent(se,ce?'rightdown':'mousedown',le)}},ne.prototype.onPointerComplete=function(le,se,de){for(var ue=this.normalizeToPointerData(le),pe=ue.length,ce=le.target===this.interactionDOMElement?'':'outside',fe=0;fe<pe;fe++){var he=ue[fe],ge=this.getInteractionDataForPointerId(he),_e=this.configureInteractionEventForDOMEvent(this.eventData,he,ge);if(_e.data.originalEvent=le,this.processInteractive(_e,this.renderer._lastObjectRendered,de,se||!ce),this.emit(se?'pointercancel':'pointerup'+ce,_e),'mouse'===he.pointerType){var be=2===he.button||3===he.which;this.emit(be?'rightup'+ce:'mouseup'+ce,_e)}else'touch'===he.pointerType&&(this.emit(se?'touchcancel':'touchend'+ce,_e),this.releaseInteractionDataForPointerId(he.pointerId,ge))}},ne.prototype.onPointerCancel=function(le){this.onPointerComplete(le,!0,this.processPointerCancel)},ne.prototype.processPointerCancel=function(le,se){var de=le.data.originalEvent,ue=le.data.identifier;void 0!==se.trackedPointers[ue]&&(delete se.trackedPointers[ue],this.dispatchEvent(se,'pointercancel',le),('touchcancel'===de.type||'touch'===de.pointerType)&&this.dispatchEvent(se,'touchcancel',le))},ne.prototype.onPointerUp=function(le){this.onPointerComplete(le,!1,this.processPointerUp)},ne.prototype.processPointerUp=function(le,se,de){var ue=le.data.originalEvent,pe=le.data.identifier,ce=se.trackedPointers[pe],fe='touchend'===ue.type||'touch'===ue.pointerType,he=0===ue.type.indexOf('mouse')||'mouse'===ue.pointerType;if(he){var ge=2===ue.button||3===ue.which,_e=V.default.FLAGS,be=ge?_e.RIGHT_DOWN:_e.LEFT_DOWN,ve=void 0!==ce&&ce.flags&be;de?(this.dispatchEvent(se,ge?'rightup':'mouseup',le),ve&&this.dispatchEvent(se,ge?'rightclick':'click',le)):ve&&this.dispatchEvent(se,ge?'rightupoutside':'mouseupoutside',le),ce&&(ge?ce.rightDown=!1:ce.leftDown=!1)}de?(this.dispatchEvent(se,'pointerup',le),fe&&this.dispatchEvent(se,'touchend',le),ce&&(this.dispatchEvent(se,'pointertap',le),fe&&(this.dispatchEvent(se,'tap',le),ce.over=!1))):ce&&(this.dispatchEvent(se,'pointerupoutside',le),fe&&this.dispatchEvent(se,'touchendoutside',le)),ce&&ce.none&&delete se.trackedPointers[pe]},ne.prototype.onPointerMove=function(le){var se=this.normalizeToPointerData(le);'mouse'===se[0].pointerType&&(this.didMove=!0,this.cursor=null);for(var de=se.length,ue=0;ue<de;ue++){var pe=se[ue],ce=this.getInteractionDataForPointerId(pe),fe=this.configureInteractionEventForDOMEvent(this.eventData,pe,ce);fe.data.originalEvent=le;var he='touch'!==pe.pointerType||this.moveWhenInside;this.processInteractive(fe,this.renderer._lastObjectRendered,this.processPointerMove,he),this.emit('pointermove',fe),'touch'===pe.pointerType&&this.emit('touchmove',fe),'mouse'===pe.pointerType&&this.emit('mousemove',fe)}'mouse'===se[0].pointerType&&this.setCursorMode(this.cursor)},ne.prototype.processPointerMove=function(le,se,de){var ue=le.data.originalEvent,pe='touchmove'===ue.type||'touch'===ue.pointerType,ce='mousemove'===ue.type||'mouse'===ue.pointerType;ce&&this.processPointerOverOut(le,se,de),(!this.moveWhenInside||de)&&(this.dispatchEvent(se,'pointermove',le),pe&&this.dispatchEvent(se,'touchmove',le),ce&&this.dispatchEvent(se,'mousemove',le))},ne.prototype.onPointerOut=function(le){var se=this.normalizeToPointerData(le),de=se[0];'mouse'===de.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var ue=this.getInteractionDataForPointerId(de),pe=this.configureInteractionEventForDOMEvent(this.eventData,de,ue);pe.data.originalEvent=de,this.processInteractive(pe,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit('pointerout',pe),'mouse'===de.pointerType?this.emit('mouseout',pe):this.releaseInteractionDataForPointerId(ue.identifier)},ne.prototype.processPointerOverOut=function(le,se,de){var ue=le.data.originalEvent,pe=le.data.identifier,ce='mouseover'===ue.type||'mouseout'===ue.type||'mouse'===ue.pointerType,fe=se.trackedPointers[pe];de&&!fe&&(fe=se.trackedPointers[pe]=new V.default(pe)),void 0===fe||(de&&this.mouseOverRenderer?(!fe.over&&(fe.over=!0,this.dispatchEvent(se,'pointerover',le),ce&&this.dispatchEvent(se,'mouseover',le)),ce&&null===this.cursor&&(this.cursor=se.cursor)):fe.over&&(fe.over=!1,this.dispatchEvent(se,'pointerout',this.eventData),ce&&this.dispatchEvent(se,'mouseout',le),fe.none&&delete se.trackedPointers[pe]))},ne.prototype.onPointerOver=function(le){var se=this.normalizeToPointerData(le),de=se[0],ue=this.getInteractionDataForPointerId(de),pe=this.configureInteractionEventForDOMEvent(this.eventData,de,ue);pe.data.originalEvent=de,'mouse'===de.pointerType&&(this.mouseOverRenderer=!0),this.emit('pointerover',pe),'mouse'===de.pointerType&&this.emit('mouseover',pe)},ne.prototype.getInteractionDataForPointerId=function(le){var se=le.pointerId;if(se===$||'mouse'===le.pointerType)return this.mouse;if(this.activeInteractionData[se])return this.activeInteractionData[se];var de=this.interactionDataPool.pop()||new F.default;return de.identifier=se,this.activeInteractionData[se]=de,de},ne.prototype.releaseInteractionDataForPointerId=function(le){var se=this.activeInteractionData[le];se&&(delete this.activeInteractionData[le],this.interactionDataPool.push(se))},ne.prototype.configureInteractionEventForDOMEvent=function(le,se,de){return le.data=de,this.mapPositionToPoint(de.global,se.clientX,se.clientY),navigator.isCocoonJS&&'touch'===se.pointerType&&(de.global.x/=this.resolution,de.global.y/=this.resolution),'touch'===se.pointerType&&(se.globalX=de.global.x,se.globalY=de.global.y),de.originalEvent=se,le._reset(),le},ne.prototype.normalizeToPointerData=function(le){var se=[];if(this.supportsTouchEvents&&le instanceof TouchEvent)for(var de=0,ue=le.changedTouches.length,pe;de<ue;de++)pe=le.changedTouches[de],'undefined'==typeof pe.button&&(pe.button=le.touches.length?1:0),'undefined'==typeof pe.buttons&&(pe.buttons=le.touches.length?1:0),'undefined'==typeof pe.isPrimary&&(pe.isPrimary=1===le.touches.length),'undefined'==typeof pe.width&&(pe.width=pe.radiusX||1),'undefined'==typeof pe.height&&(pe.height=pe.radiusY||1),'undefined'==typeof pe.tiltX&&(pe.tiltX=0),'undefined'==typeof pe.tiltY&&(pe.tiltY=0),'undefined'==typeof pe.pointerType&&(pe.pointerType='touch'),'undefined'==typeof pe.pointerId&&(pe.pointerId=pe.identifier||0),'undefined'==typeof pe.pressure&&(pe.pressure=pe.force||0.5),'undefined'==typeof pe.rotation&&(pe.rotation=pe.rotationAngle||0),'undefined'==typeof pe.layerX&&(pe.layerX=pe.offsetX=pe.clientX),'undefined'==typeof pe.layerY&&(pe.layerY=pe.offsetY=pe.clientY),pe.isNormalized=!0,se.push(pe);else!(le instanceof MouseEvent)||this.supportsPointerEvents&&le instanceof window.PointerEvent?se.push(le):('undefined'==typeof le.isPrimary&&(le.isPrimary=!0),'undefined'==typeof le.width&&(le.width=1),'undefined'==typeof le.height&&(le.height=1),'undefined'==typeof le.tiltX&&(le.tiltX=0),'undefined'==typeof le.tiltY&&(le.tiltY=0),'undefined'==typeof le.pointerType&&(le.pointerType='mouse'),'undefined'==typeof le.pointerId&&(le.pointerId=$),'undefined'==typeof le.pressure&&(le.pressure=0.5),'undefined'==typeof le.rotation&&(le.rotation=0),le.isNormalized=!0,se.push(le));return se},ne.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},ne}(Z.default);E.default=re,L.WebGLRenderer.registerPlugin('interaction',re),L.CanvasRenderer.registerPlugin('interaction',re)},function(T,E){'use strict';function S(C,M){if(!(C instanceof M))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var P=function(){function C(){S(this,C),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return C.prototype.stopPropagation=function(){this.stopped=!0},C.prototype._reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},C}();E.default=P},function(T,E){'use strict';function S(M,O){if(!(M instanceof O))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var P=function(){function M(O,I){for(var A=0,D;A<I.length;A++)D=I[A],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(O,D.key,D)}return function(O,I,A){return I&&M(O.prototype,I),A&&M(O,A),O}}(),C=function(){function M(O){S(this,M),this._pointerId=O,this._flags=M.FLAGS.NONE}return M.prototype._doSet=function(I,A){A?this._flags|=I:this._flags&=~I},P(M,[{key:'pointerId',get:function(){return this._pointerId}},{key:'flags',get:function(){return this._flags},set:function(I){this._flags=I}},{key:'none',get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:'over',get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(I){this._doSet(this.constructor.FLAGS.OVER,I)}},{key:'rightDown',get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(I){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,I)}},{key:'leftDown',get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(I){this._doSet(this.constructor.FLAGS.LEFT_DOWN,I)}}]),M}();E.default=C,C.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(T,E){'use strict';E.__esModule=!0,E.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return'pointer'===this.cursor},set buttonMode(S){S?this.cursor='pointer':'pointer'===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(T,E,S){'use strict';function P(X){return X&&X.__esModule?X:{default:X}}E.__esModule=!0,E.shared=E.Resource=E.textureParser=E.getResourcePath=E.spritesheetParser=E.parseBitmapFontData=E.bitmapFontParser=E.Loader=void 0;var C=S(173);Object.defineProperty(E,'bitmapFontParser',{enumerable:!0,get:function(){return P(C).default}}),Object.defineProperty(E,'parseBitmapFontData',{enumerable:!0,get:function(){return C.parse}});var M=S(181);Object.defineProperty(E,'spritesheetParser',{enumerable:!0,get:function(){return P(M).default}}),Object.defineProperty(E,'getResourcePath',{enumerable:!0,get:function(){return M.getResourcePath}});var O=S(182);Object.defineProperty(E,'textureParser',{enumerable:!0,get:function(){return P(O).default}});var I=S(174);Object.defineProperty(E,'Resource',{enumerable:!0,get:function(){return I.Resource}});var A=S(136),D=P(A),L=S(183),N=P(L);E.Loader=N.default;var F=new N.default;F.destroy=function(){},E.shared=F;var U=D.default.prototype;U._loader=null,Object.defineProperty(U,'loader',{get:function(){if(!this._loader){var Y=this._options.sharedLoader;this._loader=Y?F:new N.default}return this._loader}}),U._parentDestroy=U.destroy,U.destroy=function(){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy()}},function(T,E,S){'use strict';function C(L,N){L.bitmapFont=D.BitmapText.registerFont(L.data,N)}E.__esModule=!0,E.parse=C,E.default=function(){return function(N,F){if(!N.data||N.type!==A.Resource.TYPE.XML)return void F();if(0===N.data.getElementsByTagName('page').length||0===N.data.getElementsByTagName('info').length||null===N.data.getElementsByTagName('info')[0].getAttribute('face'))return void F();var U=N.isDataUrl?'':O.dirname(N.url);N.isDataUrl&&('.'===U&&(U=''),this.baseUrl&&U&&('/'===this.baseUrl.charAt(this.baseUrl.length-1)&&(U+='/'),U=U.replace(this.baseUrl,''))),U&&'/'!==U.charAt(U.length-1)&&(U+='/');var X=U+N.data.getElementsByTagName('page')[0].getAttribute('file');if(I.utils.TextureCache[X])C(N,I.utils.TextureCache[X]),F();else{var Y={crossOrigin:N.crossOrigin,loadType:A.Resource.LOAD_TYPE.IMAGE,metadata:N.metadata.imageMetadata,parentResource:N};this.add(N.name+'_image',X,Y,function(V){C(N,V.texture),F()})}}};var M=S(100),O=function(L){if(L&&L.__esModule)return L;var N={};if(null!=L)for(var F in L)Object.prototype.hasOwnProperty.call(L,F)&&(N[F]=L[F]);return N.default=L,N}(M),I=S(22),A=S(174),D=S(145)},function(T,E,S){'use strict';function P(U){if(U&&U.__esModule)return U;var X={};if(null!=U)for(var Y in U)Object.prototype.hasOwnProperty.call(U,Y)&&(X[Y]=U[Y]);return X.default=U,X}function C(U){return U&&U.__esModule?U:{default:U}}E.__esModule=!0;var M=S(175),O=C(M),I=S(179),A=C(I),D=S(178),L=P(D),N=S(180),F=P(N);O.default.Resource=A.default,O.default.async=L,O.default.base64=F,T.exports=O.default,E.default=O.default},function(T,E,S){'use strict';function C(Z){return Z&&Z.__esModule?Z:{default:Z}}function M(Z,J){if(!(Z instanceof J))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var O='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(Z){return typeof Z}:function(Z){return Z&&'function'==typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?'symbol':typeof Z},I=S(176),A=C(I),D=S(177),L=C(D),N=S(178),F=function(Z){if(Z&&Z.__esModule)return Z;var J={};if(null!=Z)for(var Q in Z)Object.prototype.hasOwnProperty.call(Z,Q)&&(J[Q]=Z[Q]);return J.default=Z,J}(N),U=S(179),X=C(U),V=/(#[\w-]+)?$/,K=function(){function Z(){var J=this,Q=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',$=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;M(this,Z),this.baseUrl=Q,this.progress=0,this.loading=!1,this.defaultQueryString='',this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(te,re){return J._loadResource(te,re)},this._queue=F.queue(this._boundLoadResource,$),this._queue.pause(),this.resources={},this.onProgress=new A.default,this.onError=new A.default,this.onLoad=new A.default,this.onStart=new A.default,this.onComplete=new A.default}return Z.prototype.add=function(Q,$,te,re){if(Array.isArray(Q)){for(var oe=0;oe<Q.length;++oe)this.add(Q[oe]);return this}if('object'===('undefined'==typeof Q?'undefined':O(Q))&&(re=$||Q.callback||Q.onComplete,te=Q,$=Q.url,Q=Q.name||Q.key||Q.url),'string'!=typeof $&&(re=te,te=$,$=Q),'string'!=typeof $)throw new Error('No url passed to add resource to loader.');if('function'==typeof te&&(re=te,te=null),this.loading&&(!te||!te.parentResource))throw new Error('Cannot add resources while the loader is running.');if(this.resources[Q])throw new Error('Resource named "'+Q+'" already exists.');if($=this._prepareUrl($),this.resources[Q]=new X.default(Q,$,te),'function'==typeof re&&this.resources[Q].onAfterMiddleware.once(re),this.loading){for(var ne=te.parentResource,ie=[],le=0;le<ne.children.length;++le)ne.children[le].isComplete||ie.push(ne.children[le]);var se=ne.progressChunk*(ie.length+1),de=se/(ie.length+2);ne.children.push(this.resources[Q]),ne.progressChunk=de;for(var ue=0;ue<ie.length;++ue)ie[ue].progressChunk=de;this.resources[Q].progressChunk=de}return this._queue.push(this.resources[Q]),this},Z.prototype.pre=function(Q){return this._beforeMiddleware.push(Q),this},Z.prototype.use=function(Q){return this._afterMiddleware.push(Q),this},Z.prototype.reset=function(){for(var Q in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var $=this.resources[Q];$._onLoadBinding&&$._onLoadBinding.detach(),$.isLoading&&$.abort()}return this.resources={},this},Z.prototype.load=function(Q){if('function'==typeof Q&&this.onComplete.once(Q),this.loading)return this;for(var $=100/this._queue._tasks.length,te=0;te<this._queue._tasks.length;++te)this._queue._tasks[te].data.progressChunk=$;return this.loading=!0,this.onStart.dispatch(this),this._queue.resume(),this},Z.prototype._prepareUrl=function(Q){var $=(0,L.default)(Q,{strictMode:!0}),te;if(te=$.protocol||!$.path||0===Q.indexOf('//')?Q:this.baseUrl.length&&this.baseUrl.lastIndexOf('/')!==this.baseUrl.length-1&&'/'!==Q.charAt(0)?this.baseUrl+'/'+Q:this.baseUrl+Q,this.defaultQueryString){var re=V.exec(te)[0];te=te.substr(0,te.length-re.length),te+=-1===te.indexOf('?')?'?'+this.defaultQueryString:'&'+this.defaultQueryString,te+=re}return te},Z.prototype._loadResource=function(Q,$){var te=this;Q._dequeue=$,F.eachSeries(this._beforeMiddleware,function(re,oe){re.call(te,Q,function(){oe(Q.isComplete?{}:null)})},function(){Q.isComplete?te._onLoad(Q):(Q._onLoadBinding=Q.onComplete.once(te._onLoad,te),Q.load())})},Z.prototype._onComplete=function(){this.loading=!1,this.onComplete.dispatch(this,this.resources)},Z.prototype._onLoad=function(Q){var $=this;Q._onLoadBinding=null,Q._dequeue(),this._resourcesParsing.push(Q),F.eachSeries(this._afterMiddleware,function(te,re){te.call($,Q,re)},function(){Q.onAfterMiddleware.dispatch(Q),$.progress+=Q.progressChunk,$.onProgress.dispatch($,Q),Q.error?$.onError.dispatch(Q.error,$,Q):$.onLoad.dispatch($,Q),$._resourcesParsing.splice($._resourcesParsing.indexOf(Q),1),$._queue.idle()&&0===$._resourcesParsing.length&&($.progress=100,$._onComplete())})},Z}();E.default=K},function(T,E){'use strict';function S(I,A){if(!(I instanceof A))throw new TypeError('Cannot call a class as a function')}function P(I,A){return I._head?(I._tail._next=A,A._prev=I._tail,I._tail=A):(I._head=A,I._tail=A),A._owner=I,A}Object.defineProperty(E,'__esModule',{value:!0});var C=function(){function I(A,D){for(var L=0,N;L<D.length;L++)N=D[L],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(A,N.key,N)}return function(A,D,L){return D&&I(A.prototype,D),L&&I(A,L),A}}(),M=function(){function I(A,D,L){void 0===D&&(D=!1),S(this,I),this._fn=A,this._once=D,this._thisArg=L,this._next=this._prev=this._owner=null}return C(I,[{key:'detach',value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),I}(),O=function(){function I(){S(this,I),this._head=this._tail=void 0}return C(I,[{key:'handlers',value:function(){var D=0>=arguments.length||void 0===arguments[0]?!1:arguments[0],L=this._head;if(D)return!!L;for(var N=[];L;)N.push(L),L=L._next;return N}},{key:'has',value:function(D){if(!(D instanceof M))throw new Error('MiniSignal#has(): First arg must be a MiniSignalBinding object.');return D._owner===this}},{key:'dispatch',value:function(){var D=this._head;if(!D)return!1;for(;D;)D._once&&this.detach(D),D._fn.apply(D._thisArg,arguments),D=D._next;return!0}},{key:'add',value:function(D){var L=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if('function'!=typeof D)throw new Error('MiniSignal#add(): First arg must be a Function.');return P(this,new M(D,!1,L))}},{key:'once',value:function(D){var L=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if('function'!=typeof D)throw new Error('MiniSignal#once(): First arg must be a Function.');return P(this,new M(D,!0,L))}},{key:'detach',value:function(D){if(!(D instanceof M))throw new Error('MiniSignal#detach(): First arg must be a MiniSignalBinding object.');return D._owner===this?(D._prev&&(D._prev._next=D._next),D._next&&(D._next._prev=D._prev),D===this._head?(this._head=D._next,null===D._next&&(this._tail=null)):D===this._tail&&(this._tail=D._prev,this._tail._next=null),D._owner=null,this):this}},{key:'detachAll',value:function(){var D=this._head;if(!D)return this;for(this._head=this._tail=null;D;)D._owner=null,D=D._next;return this}}]),I}();O.MiniSignalBinding=M,E['default']=O,T.exports=E['default']},function(T){'use strict';T.exports=function(P,C){C=C||{};for(var M={key:['source','protocol','authority','userInfo','user','password','host','port','relative','path','directory','file','query','anchor'],q:{name:'queryKey',parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},O=M.parser[C.strictMode?'strict':'loose'].exec(P),I={},A=14;A--;)I[M.key[A]]=O[A]||'';return I[M.q.name]={},I[M.key[12]].replace(M.q.parser,function(D,L,N){L&&(I[M.q.name][L]=N)}),I}},function(T,E){'use strict';function S(){}function C(O){return function(){if(null===O)throw new Error('Callback was already called.');var A=O;O=null,A.apply(this,arguments)}}E.__esModule=!0,E.eachSeries=function(O,I,A){var D=0,L=O.length;(function N(F){return F||D===L?void(A&&A(F)):void I(O[D++],N)})()},E.queue=function(O,I){function A(F,U,X){if(null!=X&&'function'!=typeof X)throw new Error('task callback must be a function');if(N.started=!0,null==F&&N.idle())return void setTimeout(function(){return N.drain()},1);var Y={data:F,callback:'function'==typeof X?X:S};U?N._tasks.unshift(Y):N._tasks.push(Y),setTimeout(function(){return N.process()},1)}function D(F){return function(){L-=1,F.callback.apply(F,arguments),null!=arguments[0]&&N.error(arguments[0],F.data),L<=N.concurrency-N.buffer&&N.unsaturated(),N.idle()&&N.drain(),N.process()}}if(null==I)I=1;else if(0===I)throw new Error('Concurrency must not be zero');var L=0,N={_tasks:[],concurrency:I,saturated:S,unsaturated:S,buffer:I/4,empty:S,drain:S,error:S,started:!1,paused:!1,push:function(U,X){A(U,!1,X)},kill:function(){L=0,N.drain=S,N.started=!1,N._tasks=[]},unshift:function(U,X){A(U,!0,X)},process:function(){for(;!N.paused&&L<N.concurrency&&N._tasks.length;){var U=N._tasks.shift();0===N._tasks.length&&N.empty(),L+=1,L===N.concurrency&&N.saturated(),O(U.data,C(D(U)))}},length:function(){return N._tasks.length},running:function(){return L},idle:function(){return 0===N._tasks.length+L},pause:function(){!0===N.paused||(N.paused=!0)},resume:function(){if(!1!==N.paused){N.paused=!1;for(var U=1;U<=N.concurrency;U++)N.process()}}};return N}},function(T,E,S){'use strict';function P($){return $&&$.__esModule?$:{default:$}}function C($,te){if(!($ instanceof te))throw new TypeError('Cannot call a class as a function')}function M(){}function O($,te,re){te&&0===te.indexOf('.')&&(te=te.substring(1));te&&($[te]=re)}function I($){return $.toString().replace('object ','')}E.__esModule=!0;var A=function(){function $(te,re){for(var oe=0,ne;oe<re.length;oe++)ne=re[oe],ne.enumerable=ne.enumerable||!1,ne.configurable=!0,'value'in ne&&(ne.writable=!0),Object.defineProperty(te,ne.key,ne)}return function(te,re,oe){return re&&$(te.prototype,re),oe&&$(te,oe),te}}(),D=S(177),L=P(D),N=S(176),F=P(N),U=!(!window.XDomainRequest||'withCredentials'in new XMLHttpRequest),X=null,V=200,Q=function(){function $(te,re,oe){if(C(this,$),'string'!=typeof te||'string'!=typeof re)throw new Error('Both name and url are required for constructing a resource.');oe=oe||{},this._flags=0,this._setFlag($.STATUS_FLAGS.DATA_URL,0===re.indexOf('data:')),this.name=te,this.url=re,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===oe.crossOrigin?'anonymous':oe.crossOrigin,this.loadType=oe.loadType||this._determineLoadType(),this.xhrType=oe.xhrType,this.metadata=oe.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=$.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=M,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new F.default,this.onProgress=new F.default,this.onComplete=new F.default,this.onAfterMiddleware=new F.default}return $.setExtensionLoadType=function(re,oe){O($._loadTypeMap,re,oe)},$.setExtensionXhrType=function(re,oe){O($._xhrTypeMap,re,oe)},$.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener('error',this._boundOnError,!1),this.data.removeEventListener('load',this._boundComplete,!1),this.data.removeEventListener('progress',this._boundOnProgress,!1),this.data.removeEventListener('canplaythrough',this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener('error',this._boundXhrOnError,!1),this.xhr.removeEventListener('abort',this._boundXhrOnAbort,!1),this.xhr.removeEventListener('progress',this._boundOnProgress,!1),this.xhr.removeEventListener('load',this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error('Complete called again for an already completed resource.');this._setFlag($.STATUS_FLAGS.COMPLETE,!0),this._setFlag($.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},$.prototype.abort=function(re){if(!this.error){if(this.error=new Error(re),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=$.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},$.prototype.load=function(re){var oe=this;if(!this.isLoading){if(this.isComplete)return void(re&&setTimeout(function(){return re(oe)},1));switch(re&&this.onComplete.once(re),this._setFlag($.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||'string'!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case $.LOAD_TYPE.IMAGE:this.type=$.TYPE.IMAGE,this._loadElement('image');break;case $.LOAD_TYPE.AUDIO:this.type=$.TYPE.AUDIO,this._loadSourceElement('audio');break;case $.LOAD_TYPE.VIDEO:this.type=$.TYPE.VIDEO,this._loadSourceElement('video');break;case $.LOAD_TYPE.XHR:default:U&&this.crossOrigin?this._loadXdr():this._loadXhr();}}},$.prototype._hasFlag=function(re){return!!(this._flags&re)},$.prototype._setFlag=function(re,oe){this._flags=oe?this._flags|re:this._flags&~re},$.prototype._loadElement=function(re){this.data=this.metadata.loadElement?this.metadata.loadElement:'image'===re&&'undefined'!=typeof window.Image?new Image:document.createElement(re),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener('error',this._boundOnError,!1),this.data.addEventListener('load',this._boundComplete,!1),this.data.addEventListener('progress',this._boundOnProgress,!1)},$.prototype._loadSourceElement=function(re){if(this.data=this.metadata.loadElement?this.metadata.loadElement:'audio'===re&&'undefined'!=typeof window.Audio?new Audio:document.createElement(re),null===this.data)return void this.abort('Unsupported element: '+re);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var oe=0;oe<this.url.length;++oe)this.data.appendChild(this._createSource(re,this.url[oe]));else this.data.appendChild(this._createSource(re,this.url));this.data.addEventListener('error',this._boundOnError,!1),this.data.addEventListener('load',this._boundComplete,!1),this.data.addEventListener('progress',this._boundOnProgress,!1),this.data.addEventListener('canplaythrough',this._boundComplete,!1),this.data.load()},$.prototype._loadXhr=function(){'string'!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var re=this.xhr=new XMLHttpRequest;re.open('GET',this.url,!0),re.responseType=this.xhrType===$.XHR_RESPONSE_TYPE.JSON||this.xhrType===$.XHR_RESPONSE_TYPE.DOCUMENT?$.XHR_RESPONSE_TYPE.TEXT:this.xhrType,re.addEventListener('error',this._boundXhrOnError,!1),re.addEventListener('abort',this._boundXhrOnAbort,!1),re.addEventListener('progress',this._boundOnProgress,!1),re.addEventListener('load',this._boundXhrOnLoad,!1),re.send()},$.prototype._loadXdr=function(){'string'!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var re=this.xhr=new XDomainRequest;re.timeout=5e3,re.onerror=this._boundXhrOnError,re.ontimeout=this._boundXdrOnTimeout,re.onprogress=this._boundOnProgress,re.onload=this._boundXhrOnLoad,re.open('GET',this.url,!0),setTimeout(function(){return re.send()},1)},$.prototype._createSource=function(re,oe,ne){ne||(ne=re+'/'+oe.substr(oe.lastIndexOf('.')+1));var ie=document.createElement('source');return ie.src=oe,ie.type=ne,ie},$.prototype._onError=function(re){this.abort('Failed to load element using: '+re.target.nodeName)},$.prototype._onProgress=function(re){re&&re.lengthComputable&&this.onProgress.dispatch(this,re.loaded/re.total)},$.prototype._xhrOnError=function(){var re=this.xhr;this.abort(I(re)+' Request failed. Status: '+re.status+', text: "'+re.statusText+'"')},$.prototype._xhrOnAbort=function(){this.abort(I(this.xhr)+' Request was aborted by the user.')},$.prototype._xdrOnTimeout=function(){this.abort(I(this.xhr)+' Request timed out.')},$.prototype._xhrOnLoad=function(){var re=this.xhr,oe='',ne='undefined'==typeof re.status?V:re.status;(''===re.responseType||'text'===re.responseType||'undefined'==typeof re.responseType)&&(oe=re.responseText),ne===0&&0<oe.length?ne=V:ne===1223&&(ne=204);var ie=0|ne/100;if(ie!=2)return void this.abort('['+re.status+'] '+re.statusText+': '+re.responseURL);if(this.xhrType===$.XHR_RESPONSE_TYPE.TEXT)this.data=oe,this.type=$.TYPE.TEXT;else if(this.xhrType===$.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(oe),this.type=$.TYPE.JSON}catch(de){return void this.abort('Error trying to parse loaded json: '+de)}else if(this.xhrType===$.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var le=new DOMParser;this.data=le.parseFromString(oe,'text/xml')}else{var se=document.createElement('div');se.innerHTML=oe,this.data=se}this.type=$.TYPE.XML}catch(de){return void this.abort('Error trying to parse loaded xml: '+de)}else this.data=re.response||oe;this.complete()},$.prototype._determineCrossOrigin=function(re,oe){if(0===re.indexOf('data:'))return'';oe=oe||window.location,X||(X=document.createElement('a')),X.href=re,re=(0,L.default)(X.href,{strictMode:!0});var ne=!re.port&&''===oe.port||re.port===oe.port,ie=re.protocol?re.protocol+':':'';return re.host===oe.hostname&&ne&&ie===oe.protocol?'':'anonymous'},$.prototype._determineXhrType=function(){return $._xhrTypeMap[this.extension]||$.XHR_RESPONSE_TYPE.TEXT},$.prototype._determineLoadType=function(){return $._loadTypeMap[this.extension]||$.LOAD_TYPE.XHR},$.prototype._getExtension=function(){var re=this.url,oe='';if(this.isDataUrl){var ne=re.indexOf('/');oe=re.substring(ne+1,re.indexOf(';',ne))}else{var ie=re.indexOf('?');-1!==ie&&(re=re.substring(0,ie)),oe=re.substring(re.lastIndexOf('.')+1)}return oe.toLowerCase()},$.prototype._getMimeFromXhrType=function(re){switch(re){case $.XHR_RESPONSE_TYPE.BUFFER:return'application/octet-binary';case $.XHR_RESPONSE_TYPE.BLOB:return'application/blob';case $.XHR_RESPONSE_TYPE.DOCUMENT:return'application/xml';case $.XHR_RESPONSE_TYPE.JSON:return'application/json';case $.XHR_RESPONSE_TYPE.DEFAULT:case $.XHR_RESPONSE_TYPE.TEXT:default:return'text/plain';}},A($,[{key:'isDataUrl',get:function(){return this._hasFlag($.STATUS_FLAGS.DATA_URL)}},{key:'isComplete',get:function(){return this._hasFlag($.STATUS_FLAGS.COMPLETE)}},{key:'isLoading',get:function(){return this._hasFlag($.STATUS_FLAGS.LOADING)}}]),$}();E.default=Q,Q.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Q.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Q.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Q.XHR_RESPONSE_TYPE={DEFAULT:'text',BUFFER:'arraybuffer',BLOB:'blob',DOCUMENT:'document',JSON:'json',TEXT:'text'},Q._loadTypeMap={gif:Q.LOAD_TYPE.IMAGE,png:Q.LOAD_TYPE.IMAGE,bmp:Q.LOAD_TYPE.IMAGE,jpg:Q.LOAD_TYPE.IMAGE,jpeg:Q.LOAD_TYPE.IMAGE,tif:Q.LOAD_TYPE.IMAGE,tiff:Q.LOAD_TYPE.IMAGE,webp:Q.LOAD_TYPE.IMAGE,tga:Q.LOAD_TYPE.IMAGE,svg:Q.LOAD_TYPE.IMAGE,'svg+xml':Q.LOAD_TYPE.IMAGE,mp3:Q.LOAD_TYPE.AUDIO,ogg:Q.LOAD_TYPE.AUDIO,wav:Q.LOAD_TYPE.AUDIO,mp4:Q.LOAD_TYPE.VIDEO,webm:Q.LOAD_TYPE.VIDEO},Q._xhrTypeMap={xhtml:Q.XHR_RESPONSE_TYPE.DOCUMENT,html:Q.XHR_RESPONSE_TYPE.DOCUMENT,htm:Q.XHR_RESPONSE_TYPE.DOCUMENT,xml:Q.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Q.XHR_RESPONSE_TYPE.DOCUMENT,svg:Q.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Q.XHR_RESPONSE_TYPE.DOCUMENT,gif:Q.XHR_RESPONSE_TYPE.BLOB,png:Q.XHR_RESPONSE_TYPE.BLOB,bmp:Q.XHR_RESPONSE_TYPE.BLOB,jpg:Q.XHR_RESPONSE_TYPE.BLOB,jpeg:Q.XHR_RESPONSE_TYPE.BLOB,tif:Q.XHR_RESPONSE_TYPE.BLOB,tiff:Q.XHR_RESPONSE_TYPE.BLOB,webp:Q.XHR_RESPONSE_TYPE.BLOB,tga:Q.XHR_RESPONSE_TYPE.BLOB,json:Q.XHR_RESPONSE_TYPE.JSON,text:Q.XHR_RESPONSE_TYPE.TEXT,txt:Q.XHR_RESPONSE_TYPE.TEXT,ttf:Q.XHR_RESPONSE_TYPE.BUFFER,otf:Q.XHR_RESPONSE_TYPE.BUFFER},Q.EMPTY_GIF='data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='},function(T,E){'use strict';E.__esModule=!0,E.encodeBinary=function(C){for(var M='',O=0;O<C.length;){for(var I=[0,0,0],A=[0,0,0,0],D=0;D<I.length;++D)I[D]=O<C.length?255&C.charCodeAt(O++):0;A[0]=I[0]>>2,A[1]=(3&I[0])<<4|I[1]>>4,A[2]=(15&I[1])<<2|I[2]>>6,A[3]=63&I[2];var L=O-(C.length-1);switch(L){case 2:A[3]=64,A[2]=64;break;case 1:A[3]=64;break;default:}for(var N=0;N<A.length;++N)M+=P.charAt(A[N])}return M};var P='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='},function(T,E,S){'use strict';function C(D,L){return D.isDataUrl?D.data.meta.image:I.default.resolve(D.url.replace(L,''),D.data.meta.image)}E.__esModule=!0,E.default=function(){return function(L,N){var F=L.name+'_image';if(!L.data||L.type!==M.Resource.TYPE.JSON||!L.data.frames||this.resources[F])return void N();var U={crossOrigin:L.crossOrigin,loadType:M.Resource.LOAD_TYPE.IMAGE,metadata:L.metadata.imageMetadata,parentResource:L},X=C(L,this.baseUrl);this.add(F,X,U,function(V){var K=new A.Spritesheet(V.texture.baseTexture,L.data,L.url);K.parse(function(){L.spritesheet=K,L.textures=K.textures,N()})})}},E.getResourcePath=C;var M=S(174),O=S(69),I=function(D){return D&&D.__esModule?D:{default:D}}(O),A=S(22)},function(T,E,S){'use strict';E.__esModule=!0,E.default=function(){return function(A,D){A.data&&A.type===C.Resource.TYPE.IMAGE&&(A.texture=O.default.fromLoader(A.data,A.url,A.name)),D()}};var C=S(174),M=S(66),O=function(I){return I&&I.__esModule?I:{default:I}}(M)},function(T,E,S){'use strict';function P($){return $&&$.__esModule?$:{default:$}}function C($,te){if(!($ instanceof te))throw new TypeError('Cannot call a class as a function')}function M($,te){if(!$)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return te&&('object'==typeof te||'function'==typeof te)?te:$}function O($,te){if('function'!=typeof te&&null!==te)throw new TypeError('Super expression must either be null or a function, not '+typeof te);$.prototype=Object.create(te&&te.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf($,te):$.__proto__=te)}E.__esModule=!0;var I=S(174),A=P(I),D=S(184),L=S(53),N=P(L),F=S(182),U=P(F),X=S(181),Y=P(X),V=S(173),K=P(V),Z=function($){function te(re,oe){C(this,te);var ne=M(this,$.call(this,re,oe));N.default.call(ne);for(var ie=0;ie<te._pixiMiddleware.length;++ie)ne.use(te._pixiMiddleware[ie]());return ne.onStart.add(function(le){return ne.emit('start',le)}),ne.onProgress.add(function(le,se){return ne.emit('progress',le,se)}),ne.onError.add(function(le,se,de){return ne.emit('error',le,se,de)}),ne.onLoad.add(function(le,se){return ne.emit('load',le,se)}),ne.onComplete.add(function(le,se){return ne.emit('complete',le,se)}),ne}return O(te,$),te.addPixiMiddleware=function(oe){te._pixiMiddleware.push(oe)},te.prototype.destroy=function(){this.removeAllListeners(),this.reset()},te}(A.default);for(var J in E.default=Z,N.default.prototype)Z.prototype[J]=N.default.prototype[J];Z._pixiMiddleware=[D.blobMiddlewareFactory,U.default,Y.default,K.default];var Q=A.default.Resource;Q.setExtensionXhrType('fnt',Q.XHR_RESPONSE_TYPE.DOCUMENT)},function(T,E,S){'use strict';function P(N){return N&&N.__esModule?N:{default:N}}E.__esModule=!0;var M='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(N){return typeof N}:function(N){return N&&'function'==typeof Symbol&&N.constructor===Symbol&&N!==Symbol.prototype?'symbol':typeof N};E.blobMiddlewareFactory=function(){return function(F,U){if(!F.data)return void U();if(F.xhr&&F.xhrType===I.default.XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||'string'==typeof F.data){var X=F.xhr.getResponseHeader('content-type');if(X&&0===X.indexOf('image'))return F.data=new Image,F.data.src='data:'+X+';base64,'+D.default.encodeBinary(F.xhr.responseText),F.type=I.default.TYPE.IMAGE,void(F.data.onload=function(){F.data.onload=null,U()})}else if(0===F.data.type.indexOf('image')){var Y=function(){var V=L.createObjectURL(F.data);return F.blob=F.data,F.data=new Image,F.data.src=V,F.type=I.default.TYPE.IMAGE,F.data.onload=function(){L.revokeObjectURL(V),F.data.onload=null,U()},{v:void 0}}();if('object'===('undefined'==typeof Y?'undefined':M(Y)))return Y.v}U()}};var O=S(179),I=P(O),A=S(180),D=P(A),L=window.URL||window.webkitURL},function(T,E,S){'use strict';function P(L){return L&&L.__esModule?L:{default:L}}E.__esModule=!0;var C=S(186);Object.defineProperty(E,'Mesh',{enumerable:!0,get:function(){return P(C).default}});var M=S(187);Object.defineProperty(E,'MeshRenderer',{enumerable:!0,get:function(){return P(M).default}});var O=S(188);Object.defineProperty(E,'CanvasMeshRenderer',{enumerable:!0,get:function(){return P(O).default}});var I=S(189);Object.defineProperty(E,'Plane',{enumerable:!0,get:function(){return P(I).default}});var A=S(190);Object.defineProperty(E,'NineSlicePlane',{enumerable:!0,get:function(){return P(A).default}});var D=S(191);Object.defineProperty(E,'Rope',{enumerable:!0,get:function(){return P(D).default}})},function(T,E,S){'use strict';function M(V,K){if(!(V instanceof K))throw new TypeError('Cannot call a class as a function')}function O(V,K){if(!V)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return K&&('object'==typeof K||'function'==typeof K)?K:V}function I(V,K){if('function'!=typeof K&&null!==K)throw new TypeError('Super expression must either be null or a function, not '+typeof K);V.prototype=Object.create(K&&K.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(V,K):V.__proto__=K)}E.__esModule=!0;var A=function(){function V(K,Z){for(var J=0,Q;J<Z.length;J++)Q=Z[J],Q.enumerable=Q.enumerable||!1,Q.configurable=!0,'value'in Q&&(Q.writable=!0),Object.defineProperty(K,Q.key,Q)}return function(K,Z,J){return Z&&V(K.prototype,Z),J&&V(K,J),K}}(),D=S(22),L=function(V){if(V&&V.__esModule)return V;var K={};if(null!=V)for(var Z in V)Object.prototype.hasOwnProperty.call(V,Z)&&(K[Z]=V[Z]);return K.default=V,K}(D),N=S(148),F=function(V){return V&&V.__esModule?V:{default:V}}(N),U=new L.Point,X=new L.Polygon,Y=function(V){function K(Z,J,Q,$,te){M(this,K);var re=O(this,V.call(this));return re._texture=Z,re.uvs=Q||new Float32Array([0,0,1,0,1,1,0,1]),re.vertices=J||new Float32Array([0,0,100,0,100,100,0,100]),re.indices=$||new Uint16Array([0,1,3,2]),re.dirty=0,re.indexDirty=0,re.blendMode=L.BLEND_MODES.NORMAL,re.canvasPadding=0,re.drawMode=te||K.DRAW_MODES.TRIANGLE_MESH,re.shader=null,re.tintRgb=new Float32Array([1,1,1]),re._glDatas={},re._uvTransform=new F.default(Z),re.uploadUvTransform=!1,re.pluginName='mesh',re}return I(K,V),K.prototype._renderWebGL=function(J){this.refresh(),J.setObjectRenderer(J.plugins[this.pluginName]),J.plugins[this.pluginName].render(this)},K.prototype._renderCanvas=function(J){this.refresh(),J.plugins[this.pluginName].render(this)},K.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},K.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},K.prototype.refresh=function(J){this._uvTransform.update(J)&&this._refresh()},K.prototype._refresh=function(){},K.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},K.prototype.containsPoint=function(J){if(!this.getBounds().contains(J.x,J.y))return!1;this.worldTransform.applyInverse(J,U);for(var Q=this.vertices,$=X.points,te=this.indices,re=this.indices.length,oe=this.drawMode===K.DRAW_MODES.TRIANGLES?3:1,ne=0;ne+2<re;ne+=oe){var ie=2*te[ne],le=2*te[ne+1],se=2*te[ne+2];if($[0]=Q[ie],$[1]=Q[ie+1],$[2]=Q[le],$[3]=Q[le+1],$[4]=Q[se],$[5]=Q[se+1],X.contains(U.x,U.y))return!0}return!1},A(K,[{key:'texture',get:function(){return this._texture},set:function(J){this._texture===J||(this._texture=J,J&&(J.baseTexture.hasLoaded?this._onTextureUpdate():J.once('update',this._onTextureUpdate,this)))}},{key:'tint',get:function(){return L.utils.rgb2hex(this.tintRgb)},set:function(J){this.tintRgb=L.utils.hex2rgb(J,this.tintRgb)}}]),K}(L.Container);E.default=Y,Y.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(T,E,S){'use strict';function P(K){return K&&K.__esModule?K:{default:K}}function M(K,Z){if(!(K instanceof Z))throw new TypeError('Cannot call a class as a function')}function O(K,Z){if(!K)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Z&&('object'==typeof Z||'function'==typeof Z)?Z:K}function I(K,Z){if('function'!=typeof Z&&null!==Z)throw new TypeError('Super expression must either be null or a function, not '+typeof Z);K.prototype=Object.create(Z&&Z.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(K,Z):K.__proto__=Z)}E.__esModule=!0;var A=S(22),D=function(K){if(K&&K.__esModule)return K;var Z={};if(null!=K)for(var J in K)Object.prototype.hasOwnProperty.call(K,J)&&(Z[J]=K[J]);return Z.default=K,Z}(A),L=S(34),N=P(L),F=S(186),U=P(F),X=S(100),Y=D.Matrix.IDENTITY,V=function(K){function Z(J){M(this,Z);var Q=O(this,K.call(this,J));return Q.shader=null,Q}return I(Z,K),Z.prototype.onContextChange=function(){var Q=this.renderer.gl;this.shader=new D.Shader(Q,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n','varying vec2 vTextureCoord;\nuniform float alpha;\nuniform vec3 tint;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(tint * alpha, alpha);\n}\n')},Z.prototype.render=function(Q){var $=this.renderer,te=$.gl,re=Q._texture;if(re.valid){var oe=Q._glDatas[$.CONTEXT_UID];oe||($.bindVao(null),oe={shader:this.shader,vertexBuffer:N.default.GLBuffer.createVertexBuffer(te,Q.vertices,te.STREAM_DRAW),uvBuffer:N.default.GLBuffer.createVertexBuffer(te,Q.uvs,te.STREAM_DRAW),indexBuffer:N.default.GLBuffer.createIndexBuffer(te,Q.indices,te.STATIC_DRAW),vao:null,dirty:Q.dirty,indexDirty:Q.indexDirty},oe.vao=new N.default.VertexArrayObject(te).addIndex(oe.indexBuffer).addAttribute(oe.vertexBuffer,oe.shader.attributes.aVertexPosition,te.FLOAT,!1,8,0).addAttribute(oe.uvBuffer,oe.shader.attributes.aTextureCoord,te.FLOAT,!1,8,0),Q._glDatas[$.CONTEXT_UID]=oe),$.bindVao(oe.vao),Q.dirty!==oe.dirty&&(oe.dirty=Q.dirty,oe.uvBuffer.upload(Q.uvs)),Q.indexDirty!==oe.indexDirty&&(oe.indexDirty=Q.indexDirty,oe.indexBuffer.upload(Q.indices)),oe.vertexBuffer.upload(Q.vertices),$.bindShader(oe.shader),oe.shader.uniforms.uSampler=$.bindTexture(re),$.state.setBlendMode(Q.blendMode),oe.shader.uniforms.uTransform&&(Q.uploadUvTransform?oe.shader.uniforms.uTransform=Q._uvTransform.mapCoord.toArray(!0):oe.shader.uniforms.uTransform=Y.toArray(!0)),oe.shader.uniforms.translationMatrix=Q.worldTransform.toArray(!0),oe.shader.uniforms.alpha=Q.worldAlpha,oe.shader.uniforms.tint=Q.tintRgb;var ne=Q.drawMode===U.default.DRAW_MODES.TRIANGLE_MESH?te.TRIANGLE_STRIP:te.TRIANGLES;oe.vao.draw(ne,Q.indices.length,0)}},Z}(D.ObjectRenderer);E.default=V,D.WebGLRenderer.registerPlugin('mesh',V)},function(T,E,S){'use strict';function M(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var O=S(22),I=function(N){if(N&&N.__esModule)return N;var F={};if(null!=N)for(var U in N)Object.prototype.hasOwnProperty.call(N,U)&&(F[U]=N[U]);return F.default=N,F}(O),A=S(186),D=function(N){return N&&N.__esModule?N:{default:N}}(A),L=function(){function N(F){M(this,N),this.renderer=F}return N.prototype.render=function(U){var X=this.renderer,Y=X.context,V=U.worldTransform,K=X.resolution;X.roundPixels?Y.setTransform(V.a*K,V.b*K,V.c*K,V.d*K,0|V.tx*K,0|V.ty*K):Y.setTransform(V.a*K,V.b*K,V.c*K,V.d*K,V.tx*K,V.ty*K),X.setBlendMode(U.blendMode),U.drawMode===D.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(U):this._renderTriangles(U)},N.prototype._renderTriangleMesh=function(U){for(var X=U.vertices.length/2,Y=0,V;Y<X-2;Y++)V=2*Y,this._renderDrawTriangle(U,V,V+2,V+4)},N.prototype._renderTriangles=function(U){for(var X=U.indices,Y=X.length,V=0;V<Y;V+=3){var K=2*X[V],Z=2*X[V+1],J=2*X[V+2];this._renderDrawTriangle(U,K,Z,J)}},N.prototype._renderDrawTriangle=function(U,X,Y,V){var K=this.renderer.context,Z=U.uvs,J=U.vertices,Q=U._texture;if(Q.valid){var $=Q.baseTexture,te=$.source,re=$.width,oe=$.height,ne,ie,le,se,de,ue;if(U.uploadUvTransform){var pe=U._uvTransform.mapCoord;ne=(Z[X]*pe.a+Z[X+1]*pe.c+pe.tx)*$.width,ie=(Z[Y]*pe.a+Z[Y+1]*pe.c+pe.tx)*$.width,le=(Z[V]*pe.a+Z[V+1]*pe.c+pe.tx)*$.width,se=(Z[X]*pe.b+Z[X+1]*pe.d+pe.ty)*$.height,de=(Z[Y]*pe.b+Z[Y+1]*pe.d+pe.ty)*$.height,ue=(Z[V]*pe.b+Z[V+1]*pe.d+pe.ty)*$.height}else ne=Z[X]*$.width,ie=Z[Y]*$.width,le=Z[V]*$.width,se=Z[X+1]*$.height,de=Z[Y+1]*$.height,ue=Z[V+1]*$.height;var ce=J[X],fe=J[Y],he=J[V],ge=J[X+1],_e=J[Y+1],be=J[V+1];if(0<U.canvasPadding){var ve=U.canvasPadding/U.worldTransform.a,Te=U.canvasPadding/U.worldTransform.d,Ee=(ce+fe+he)/3,Se=(ge+_e+be)/3,Pe=ce-Ee,Ce=ge-Se,Me=_Mathsqrt(Pe*Pe+Ce*Ce);ce=Ee+Pe/Me*(Me+ve),ge=Se+Ce/Me*(Me+Te),Pe=fe-Ee,Ce=_e-Se,Me=_Mathsqrt(Pe*Pe+Ce*Ce),fe=Ee+Pe/Me*(Me+ve),_e=Se+Ce/Me*(Me+Te),Pe=he-Ee,Ce=be-Se,Me=_Mathsqrt(Pe*Pe+Ce*Ce),he=Ee+Pe/Me*(Me+ve),be=Se+Ce/Me*(Me+Te)}K.save(),K.beginPath(),K.moveTo(ce,ge),K.lineTo(fe,_e),K.lineTo(he,be),K.closePath(),K.clip();var Oe=ne*de+se*le+ie*ue-de*le-se*ie-ne*ue,Ie=ce*de+se*he+fe*ue-de*he-se*fe-ce*ue,Re=ne*fe+ce*le+ie*he-fe*le-ce*ie-ne*he,Ae=ne*de*he+se*fe*le+ce*ie*ue-ce*de*le-se*ie*he-ne*fe*ue,we=ge*de+se*be+_e*ue-de*be-se*_e-ge*ue,De=ne*_e+ge*le+ie*be-_e*le-ge*ie-ne*be,ke=ne*de*be+se*_e*le+ge*ie*ue-ge*de*le-se*ie*be-ne*_e*ue;K.transform(Ie/Oe,we/Oe,Re/Oe,De/Oe,Ae/Oe,ke/Oe),K.drawImage(te,0,0,re*$.resolution,oe*$.resolution,0,0,re,oe),K.restore()}},N.prototype.renderMeshFlat=function(U){var X=this.renderer.context,Y=U.vertices,V=Y.length/2;X.beginPath();for(var K=1;K<V-2;++K){var Z=2*K,J=Y[Z],Q=Y[Z+1],$=Y[Z+2],te=Y[Z+3],re=Y[Z+4],oe=Y[Z+5];X.moveTo(J,Q),X.lineTo($,te),X.lineTo(re,oe)}X.fillStyle='#FF0000',X.fill(),X.closePath()},N.prototype.destroy=function(){this.renderer=null},N}();E.default=L,I.CanvasRenderer.registerPlugin('mesh',L)},function(T,E,S){'use strict';function C(L,N){if(!(L instanceof N))throw new TypeError('Cannot call a class as a function')}function M(L,N){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:L}function O(L,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);L.prototype=Object.create(N&&N.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(L,N):L.__proto__=N)}E.__esModule=!0;var I=S(186),A=function(L){return L&&L.__esModule?L:{default:L}}(I),D=function(L){function N(F,U,X){C(this,N);var Y=M(this,L.call(this,F));return Y._ready=!0,Y.verticesX=U||10,Y.verticesY=X||10,Y.drawMode=A.default.DRAW_MODES.TRIANGLES,Y.refresh(),Y}return O(N,L),N.prototype._refresh=function(){for(var U=this._texture,X=this.verticesX*this.verticesY,Y=[],V=[],K=[],Z=[],J=this.verticesX-1,Q=this.verticesY-1,$=U.width/J,te=U.height/Q,re=0;re<X;re++){var oe=re%this.verticesX,ne=0|re/this.verticesX;Y.push(oe*$,ne*te),K.push(oe/J,ne/Q)}for(var le=0;le<J*Q;le++){var se=le%J,de=0|le/J,ue=de*this.verticesX+se,pe=de*this.verticesX+se+1,ce=(de+1)*this.verticesX+se,fe=(de+1)*this.verticesX+se+1;Z.push(ue,pe,ce),Z.push(pe,fe,ce)}this.vertices=new Float32Array(Y),this.uvs=new Float32Array(K),this.colors=new Float32Array(V),this.indices=new Uint16Array(Z),this.indexDirty=!0,this.multiplyUvs()},N.prototype._onTextureUpdate=function(){A.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},N}(A.default);E.default=D},function(T,E,S){'use strict';function C(F,U){if(!(F instanceof U))throw new TypeError('Cannot call a class as a function')}function M(F,U){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:F}function O(F,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);F.prototype=Object.create(U&&U.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(F,U):F.__proto__=U)}E.__esModule=!0;var I=function(){function F(U,X){for(var Y=0,V;Y<X.length;Y++)V=X[Y],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(U,V.key,V)}return function(U,X,Y){return X&&F(U.prototype,X),Y&&F(U,Y),U}}(),A=S(189),D=function(F){return F&&F.__esModule?F:{default:F}}(A),L=10,N=function(F){function U(X,Y,V,K,Z){C(this,U);var J=M(this,F.call(this,X,4,4)),Q=J.uvs;return Q[6]=Q[14]=Q[22]=Q[30]=1,Q[25]=Q[27]=Q[29]=Q[31]=1,J._origWidth=X.orig.width,J._origHeight=X.orig.height,J._uvw=1/J._origWidth,J._uvh=1/J._origHeight,J.width=J._origWidth,J.height=J._origHeight,Q[2]=Q[10]=Q[18]=Q[26]=J._uvw*Y,Q[4]=Q[12]=Q[20]=Q[28]=1-J._uvw*K,Q[9]=Q[11]=Q[13]=Q[15]=J._uvh*V,Q[17]=Q[19]=Q[21]=Q[23]=1-J._uvh*Z,J.leftWidth='undefined'==typeof Y?L:Y,J.rightWidth='undefined'==typeof K?L:K,J.topHeight='undefined'==typeof V?L:V,J.bottomHeight='undefined'==typeof Z?L:Z,J.refresh(!0),J}return O(U,F),U.prototype.updateHorizontalVertices=function(){var Y=this.vertices;Y[9]=Y[11]=Y[13]=Y[15]=this._topHeight,Y[17]=Y[19]=Y[21]=Y[23]=this._height-this._bottomHeight,Y[25]=Y[27]=Y[29]=Y[31]=this._height},U.prototype.updateVerticalVertices=function(){var Y=this.vertices;Y[2]=Y[10]=Y[18]=Y[26]=this._leftWidth,Y[4]=Y[12]=Y[20]=Y[28]=this._width-this._rightWidth,Y[6]=Y[14]=Y[22]=Y[30]=this._width},U.prototype._renderCanvas=function(Y){var V=Y.context;V.globalAlpha=this.worldAlpha;var K=this.worldTransform,Z=Y.resolution;Y.roundPixels?V.setTransform(K.a*Z,K.b*Z,K.c*Z,K.d*Z,0|K.tx*Z,0|K.ty*Z):V.setTransform(K.a*Z,K.b*Z,K.c*Z,K.d*Z,K.tx*Z,K.ty*Z);var J=this._texture.baseTexture,Q=J.source,$=J.width,te=J.height;this.drawSegment(V,Q,$,te,0,1,10,11),this.drawSegment(V,Q,$,te,2,3,12,13),this.drawSegment(V,Q,$,te,4,5,14,15),this.drawSegment(V,Q,$,te,8,9,18,19),this.drawSegment(V,Q,$,te,10,11,20,21),this.drawSegment(V,Q,$,te,12,13,22,23),this.drawSegment(V,Q,$,te,16,17,26,27),this.drawSegment(V,Q,$,te,18,19,28,29),this.drawSegment(V,Q,$,te,20,21,30,31)},U.prototype.drawSegment=function(Y,V,K,Z,J,Q,$,te){var re=this.uvs,oe=this.vertices,ne=(re[$]-re[J])*K,ie=(re[te]-re[Q])*Z,le=oe[$]-oe[J],se=oe[te]-oe[Q];1>ne&&(ne=1),1>ie&&(ie=1),1>le&&(le=1),1>se&&(se=1),Y.drawImage(V,re[J]*K,re[Q]*Z,ne,ie,oe[J],oe[Q],le,se)},I(U,[{key:'width',get:function(){return this._width},set:function(Y){this._width=Y,this.updateVerticalVertices()}},{key:'height',get:function(){return this._height},set:function(Y){this._height=Y,this.updateHorizontalVertices()}},{key:'leftWidth',get:function(){return this._leftWidth},set:function(Y){this._leftWidth=Y;var V=this.uvs,K=this.vertices;V[2]=V[10]=V[18]=V[26]=this._uvw*Y,K[2]=K[10]=K[18]=K[26]=Y,this.dirty=!0}},{key:'rightWidth',get:function(){return this._rightWidth},set:function(Y){this._rightWidth=Y;var V=this.uvs,K=this.vertices;V[4]=V[12]=V[20]=V[28]=1-this._uvw*Y,K[4]=K[12]=K[20]=K[28]=this._width-Y,this.dirty=!0}},{key:'topHeight',get:function(){return this._topHeight},set:function(Y){this._topHeight=Y;var V=this.uvs,K=this.vertices;V[9]=V[11]=V[13]=V[15]=this._uvh*Y,K[9]=K[11]=K[13]=K[15]=Y,this.dirty=!0}},{key:'bottomHeight',get:function(){return this._bottomHeight},set:function(Y){this._bottomHeight=Y;var V=this.uvs,K=this.vertices;V[17]=V[19]=V[21]=V[23]=1-this._uvh*Y,K[17]=K[19]=K[21]=K[23]=this._height-Y,this.dirty=!0}}]),U}(D.default);E.default=N},function(T,E,S){'use strict';function C(L,N){if(!(L instanceof N))throw new TypeError('Cannot call a class as a function')}function M(L,N){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:L}function O(L,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);L.prototype=Object.create(N&&N.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(L,N):L.__proto__=N)}E.__esModule=!0;var I=S(186),A=function(L){return L&&L.__esModule?L:{default:L}}(I),D=function(L){function N(F,U){C(this,N);var X=M(this,L.call(this,F));return X.points=U,X.vertices=new Float32Array(4*U.length),X.uvs=new Float32Array(4*U.length),X.colors=new Float32Array(2*U.length),X.indices=new Uint16Array(2*U.length),X.autoUpdate=!0,X.refresh(),X}return O(N,L),N.prototype._refresh=function(){var U=this.points;if(!(1>U.length)&&this._texture._uvs){this.vertices.length/4!==U.length&&(this.vertices=new Float32Array(4*U.length),this.uvs=new Float32Array(4*U.length),this.colors=new Float32Array(2*U.length),this.indices=new Uint16Array(2*U.length));var X=this.uvs,Y=this.indices,V=this.colors;X[0]=0,X[1]=0,X[2]=0,X[3]=1,V[0]=1,V[1]=1,Y[0]=0,Y[1]=1;for(var K=U.length,Z=1;Z<K;Z++){var J=4*Z,Q=Z/(K-1);X[J]=Q,X[J+1]=0,X[J+2]=Q,X[J+3]=1,J=2*Z,V[J]=1,V[J+1]=1,J=2*Z,Y[J]=J,Y[J+1]=J+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},N.prototype.refreshVertices=function(){var U=this.points;if(!(1>U.length))for(var X=U[0],Y=void 0,V=0,K=0,Z=this.vertices,J=U.length,Q=0;Q<J;Q++){var $=U[Q],te=4*Q;Y=Q<U.length-1?U[Q+1]:$,K=-(Y.x-X.x),V=Y.y-X.y;var re=10*(1-Q/(J-1));1<re&&(re=1);var oe=_Mathsqrt(V*V+K*K),ne=this._texture.height/2;V/=oe,K/=oe,V*=ne,K*=ne,Z[te]=$.x+V,Z[te+1]=$.y+K,Z[te+2]=$.x-V,Z[te+3]=$.y-K,X=$}},N.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},N}(A.default);E.default=D},function(T,E,S){'use strict';function P(O){return O&&O.__esModule?O:{default:O}}E.__esModule=!0;var C=S(193);Object.defineProperty(E,'ParticleContainer',{enumerable:!0,get:function(){return P(C).default}});var M=S(194);Object.defineProperty(E,'ParticleRenderer',{enumerable:!0,get:function(){return P(M).default}})},function(T,E,S){'use strict';function C(L,N){if(!(L instanceof N))throw new TypeError('Cannot call a class as a function')}function M(L,N){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:L}function O(L,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);L.prototype=Object.create(N&&N.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(L,N):L.__proto__=N)}E.__esModule=!0;var I=S(22),A=function(L){if(L&&L.__esModule)return L;var N={};if(null!=L)for(var F in L)Object.prototype.hasOwnProperty.call(L,F)&&(N[F]=L[F]);return N.default=L,N}(I),D=function(L){function N(){var F=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1500,U=arguments[1],X=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16384;C(this,N);var Y=M(this,L.call(this)),V=16384;return X>V&&(X=V),X>F&&(X=F),Y._properties=[!1,!0,!1,!1,!1],Y._maxSize=F,Y._batchSize=X,Y._glBuffers={},Y._bufferToUpdate=0,Y.interactiveChildren=!1,Y.blendMode=A.BLEND_MODES.NORMAL,Y.roundPixels=!0,Y.baseTexture=null,Y.setProperties(U),Y}return O(N,L),N.prototype.setProperties=function(U){U&&(this._properties[0]='scale'in U?!!U.scale:this._properties[0],this._properties[1]='position'in U?!!U.position:this._properties[1],this._properties[2]='rotation'in U?!!U.rotation:this._properties[2],this._properties[3]='uvs'in U?!!U.uvs:this._properties[3],this._properties[4]='alpha'in U?!!U.alpha:this._properties[4])},N.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},N.prototype.renderWebGL=function(U){var X=this;this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable&&(!this.baseTexture&&(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.hasLoaded&&this.baseTexture.once('update',function(){return X.onChildrenChange(0)})),U.setObjectRenderer(U.plugins.particle),U.plugins.particle.render(this))},N.prototype.onChildrenChange=function(U){var X=_Mathfloor(U/this._batchSize);X<this._bufferToUpdate&&(this._bufferToUpdate=X)},N.prototype.renderCanvas=function(U){if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){var X=U.context,Y=this.worldTransform,V=!0,K=0,Z=0,J=0,Q=0,$=U.blendModes[this.blendMode];$!==X.globalCompositeOperation&&(X.globalCompositeOperation=$),X.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var te=0,re;te<this.children.length;++te)if(re=this.children[te],!!re.visible){var oe=re._texture.frame;if(X.globalAlpha=this.worldAlpha*re.alpha,0==re.rotation%(2*_MathPI))V&&(X.setTransform(Y.a,Y.b,Y.c,Y.d,Y.tx*U.resolution,Y.ty*U.resolution),V=!1),K=re.anchor.x*(-oe.width*re.scale.x)+re.position.x+0.5,Z=re.anchor.y*(-oe.height*re.scale.y)+re.position.y+0.5,J=oe.width*re.scale.x,Q=oe.height*re.scale.y;else{V||(V=!0),re.displayObjectUpdateTransform();var ne=re.worldTransform;U.roundPixels?X.setTransform(ne.a,ne.b,ne.c,ne.d,0|ne.tx*U.resolution,0|ne.ty*U.resolution):X.setTransform(ne.a,ne.b,ne.c,ne.d,ne.tx*U.resolution,ne.ty*U.resolution),K=re.anchor.x*-oe.width+0.5,Z=re.anchor.y*-oe.height+0.5,J=oe.width,Q=oe.height}var ie=re._texture.baseTexture.resolution;X.drawImage(re._texture.baseTexture.source,oe.x*ie,oe.y*ie,oe.width*ie,oe.height*ie,K*U.resolution,Z*U.resolution,J*U.resolution,Q*U.resolution)}}},N.prototype.destroy=function(U){if(L.prototype.destroy.call(this,U),this._buffers)for(var X=0;X<this._buffers.length;++X)this._buffers[X].destroy();this._properties=null,this._buffers=null},N}(A.Container);E.default=D},function(T,E,S){'use strict';function P(Y){return Y&&Y.__esModule?Y:{default:Y}}function M(Y,V){if(!(Y instanceof V))throw new TypeError('Cannot call a class as a function')}function O(Y,V){if(!Y)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:Y}function I(Y,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);Y.prototype=Object.create(V&&V.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,V):Y.__proto__=V)}E.__esModule=!0;var A=S(22),D=function(Y){if(Y&&Y.__esModule)return Y;var V={};if(null!=Y)for(var K in Y)Object.prototype.hasOwnProperty.call(Y,K)&&(V[K]=Y[K]);return V.default=Y,V}(A),L=S(195),N=P(L),F=S(196),U=P(F),X=function(Y){function V(K){M(this,V);var Z=O(this,Y.call(this,K));return Z.shader=null,Z.indexBuffer=null,Z.properties=null,Z.tempMatrix=new D.Matrix,Z.CONTEXT_UID=0,Z}return I(V,Y),V.prototype.onContextChange=function(){var Z=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new N.default(Z),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},V.prototype.start=function(){this.renderer.bindShader(this.shader)},V.prototype.render=function(Z){var J=Z.children,Q=Z._maxSize,$=Z._batchSize,te=this.renderer,re=J.length;if(0!==re){re>Q&&(re=Q);var oe=Z._glBuffers[te.CONTEXT_UID];oe||(oe=Z._glBuffers[te.CONTEXT_UID]=this.generateBuffers(Z)),this.renderer.setBlendMode(Z.blendMode);var ne=te.gl,ie=Z.worldTransform.copy(this.tempMatrix);ie.prepend(te._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=ie.toArray(!0),this.shader.uniforms.uAlpha=Z.worldAlpha;var le=J[0]._texture.baseTexture;this.shader.uniforms.uSampler=te.bindTexture(le);for(var se=0,de=0,ue;se<re;se+=$,de+=1){ue=re-se,ue>$&&(ue=$);var pe=oe[de];pe.uploadDynamic(J,se,ue),Z._bufferToUpdate===de&&(pe.uploadStatic(J,se,ue),Z._bufferToUpdate=de+1),te.bindVao(pe.vao),pe.vao.draw(ne.TRIANGLES,6*ue)}}},V.prototype.generateBuffers=function(Z){for(var J=this.renderer.gl,Q=[],$=Z._maxSize,te=Z._batchSize,re=Z._properties,oe=0;oe<$;oe+=te)Q.push(new U.default(J,this.properties,re,te));return Q},V.prototype.uploadVertices=function(Z,J,Q,$,te,re){for(var oe=0,ne=0,ie=0,le=0,se=0;se<Q;++se){var de=Z[J+se],ue=de._texture,pe=de.scale.x,ce=de.scale.y,fe=ue.trim,he=ue.orig;fe?(ne=fe.x-de.anchor.x*he.width,oe=ne+fe.width,le=fe.y-de.anchor.y*he.height,ie=le+fe.height):(oe=he.width*(1-de.anchor.x),ne=he.width*-de.anchor.x,ie=he.height*(1-de.anchor.y),le=he.height*-de.anchor.y),$[re]=ne*pe,$[re+1]=le*ce,$[re+te]=oe*pe,$[re+te+1]=le*ce,$[re+2*te]=oe*pe,$[re+2*te+1]=ie*ce,$[re+3*te]=ne*pe,$[re+3*te+1]=ie*ce,re+=4*te}},V.prototype.uploadPosition=function(Z,J,Q,$,te,re){for(var oe=0,ne;oe<Q;oe++)ne=Z[J+oe].position,$[re]=ne.x,$[re+1]=ne.y,$[re+te]=ne.x,$[re+te+1]=ne.y,$[re+2*te]=ne.x,$[re+2*te+1]=ne.y,$[re+3*te]=ne.x,$[re+3*te+1]=ne.y,re+=4*te},V.prototype.uploadRotation=function(Z,J,Q,$,te,re){for(var oe=0,ne;oe<Q;oe++)ne=Z[J+oe].rotation,$[re]=ne,$[re+te]=ne,$[re+2*te]=ne,$[re+3*te]=ne,re+=4*te},V.prototype.uploadUvs=function(Z,J,Q,$,te,re){for(var oe=0,ne;oe<Q;++oe)ne=Z[J+oe]._texture._uvs,ne?($[re]=ne.x0,$[re+1]=ne.y0,$[re+te]=ne.x1,$[re+te+1]=ne.y1,$[re+2*te]=ne.x2,$[re+2*te+1]=ne.y2,$[re+3*te]=ne.x3,$[re+3*te+1]=ne.y3,re+=4*te):($[re]=0,$[re+1]=0,$[re+te]=0,$[re+te+1]=0,$[re+2*te]=0,$[re+2*te+1]=0,$[re+3*te]=0,$[re+3*te+1]=0,re+=4*te)},V.prototype.uploadAlpha=function(Z,J,Q,$,te,re){for(var oe=0,ne;oe<Q;oe++)ne=Z[J+oe].alpha,$[re]=ne,$[re+te]=ne,$[re+2*te]=ne,$[re+3*te]=ne,re+=4*te},V.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),Y.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},V}(D.ObjectRenderer);E.default=X,D.WebGLRenderer.registerPlugin('particle',X)},function(T,E,S){'use strict';function C(L,N){if(!(L instanceof N))throw new TypeError('Cannot call a class as a function')}function M(L,N){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:L}function O(L,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);L.prototype=Object.create(N&&N.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(L,N):L.__proto__=N)}E.__esModule=!0;var I=S(107),A=function(L){return L&&L.__esModule?L:{default:L}}(I),D=function(L){function N(F){return C(this,N),M(this,L.call(this,F,['attribute vec2 aVertexPosition;','attribute vec2 aTextureCoord;','attribute float aColor;','attribute vec2 aPositionCoord;','attribute vec2 aScale;','attribute float aRotation;','uniform mat3 projectionMatrix;','varying vec2 vTextureCoord;','varying float vColor;','void main(void){','   vec2 v = aVertexPosition;','   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);','   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);','   v = v + aPositionCoord;','   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);','   vTextureCoord = aTextureCoord;','   vColor = aColor;','}'].join('\n'),['varying vec2 vTextureCoord;','varying float vColor;','uniform sampler2D uSampler;','uniform float uAlpha;','void main(void){','  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;','  if (color.a == 0.0) discard;','  gl_FragColor = color;','}'].join('\n')))}return O(N,L),N}(A.default);E.default=D},function(T,E,S){'use strict';function P(L){return L&&L.__esModule?L:{default:L}}function C(L,N){if(!(L instanceof N))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(34),O=P(M),I=S(106),A=P(I),D=function(){function L(N,F,U,X){C(this,L),this.gl=N,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=X,this.dynamicProperties=[],this.staticProperties=[];for(var Y=0,V;Y<F.length;++Y)V=F[Y],V={attribute:V.attribute,size:V.size,uploadFunction:V.uploadFunction,offset:V.offset},U[Y]?this.dynamicProperties.push(V):this.staticProperties.push(V);this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}return L.prototype.initBuffers=function(){var F=this.gl,U=0;this.indices=(0,A.default)(this.size),this.indexBuffer=O.default.GLBuffer.createIndexBuffer(F,this.indices,F.STATIC_DRAW),this.dynamicStride=0;for(var X=0,Y;X<this.dynamicProperties.length;++X)Y=this.dynamicProperties[X],Y.offset=U,U+=Y.size,this.dynamicStride+=Y.size;this.dynamicData=new Float32Array(4*(this.size*this.dynamicStride)),this.dynamicBuffer=O.default.GLBuffer.createVertexBuffer(F,this.dynamicData,F.STREAM_DRAW);var V=0;this.staticStride=0;for(var K=0,Z;K<this.staticProperties.length;++K)Z=this.staticProperties[K],Z.offset=V,V+=Z.size,this.staticStride+=Z.size;this.staticData=new Float32Array(4*(this.size*this.staticStride)),this.staticBuffer=O.default.GLBuffer.createVertexBuffer(F,this.staticData,F.STATIC_DRAW),this.vao=new O.default.VertexArrayObject(F).addIndex(this.indexBuffer);for(var J=0,Q;J<this.dynamicProperties.length;++J)Q=this.dynamicProperties[J],this.vao.addAttribute(this.dynamicBuffer,Q.attribute,F.FLOAT,!1,4*this.dynamicStride,4*Q.offset);for(var $=0,te;$<this.staticProperties.length;++$)te=this.staticProperties[$],this.vao.addAttribute(this.staticBuffer,te.attribute,F.FLOAT,!1,4*this.staticStride,4*te.offset)},L.prototype.uploadDynamic=function(F,U,X){for(var Y=0,V;Y<this.dynamicProperties.length;Y++)V=this.dynamicProperties[Y],V.uploadFunction(F,U,X,this.dynamicData,this.dynamicStride,V.offset);this.dynamicBuffer.upload()},L.prototype.uploadStatic=function(F,U,X){for(var Y=0,V;Y<this.staticProperties.length;Y++)V=this.staticProperties[Y],V.uploadFunction(F,U,X,this.staticData,this.staticStride,V.offset);this.staticBuffer.upload()},L.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.dynamicBuffer.destroy(),this.staticProperties=null,this.staticData=null,this.staticBuffer.destroy()},L}();E.default=D},function(T,E,S){'use strict';function P(D){return D&&D.__esModule?D:{default:D}}E.__esModule=!0;var C=S(198);Object.defineProperty(E,'webgl',{enumerable:!0,get:function(){return P(C).default}});var M=S(201);Object.defineProperty(E,'canvas',{enumerable:!0,get:function(){return P(M).default}});var O=S(199);Object.defineProperty(E,'BasePrepare',{enumerable:!0,get:function(){return P(O).default}});var I=S(200);Object.defineProperty(E,'CountLimiter',{enumerable:!0,get:function(){return P(I).default}});var A=S(202);Object.defineProperty(E,'TimeLimiter',{enumerable:!0,get:function(){return P(A).default}})},function(T,E,S){'use strict';function M(V,K){if(!(V instanceof K))throw new TypeError('Cannot call a class as a function')}function O(V,K){if(!V)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return K&&('object'==typeof K||'function'==typeof K)?K:V}function I(V,K){if('function'!=typeof K&&null!==K)throw new TypeError('Super expression must either be null or a function, not '+typeof K);V.prototype=Object.create(K&&K.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(V,K):V.__proto__=K)}function A(V,K){return!!(K instanceof F.BaseTexture)&&(K._glTextures[V.CONTEXT_UID]||V.textureManager.updateTexture(K),!0)}function D(V,K){return!!(K instanceof F.Graphics)&&((K.dirty||K.clearDirty||!K._webGL[V.plugins.graphics.CONTEXT_UID])&&V.plugins.graphics.updateGraphics(K),!0)}function L(V,K){return!!(V instanceof F.Graphics)&&(K.push(V),!0)}E.__esModule=!0;var N=S(22),F=function(V){if(V&&V.__esModule)return V;var K={};if(null!=V)for(var Z in V)Object.prototype.hasOwnProperty.call(V,Z)&&(K[Z]=V[Z]);return K.default=V,K}(N),U=S(199),X=function(V){return V&&V.__esModule?V:{default:V}}(U),Y=function(V){function K(Z){M(this,K);var J=O(this,V.call(this,Z));return J.uploadHookHelper=J.renderer,J.registerFindHook(L),J.registerUploadHook(A),J.registerUploadHook(D),J}return I(K,V),K}(X.default);E.default=Y,F.WebGLRenderer.registerPlugin('prepare',Y)},function(T,E,S){'use strict';function M(J,Q){if(!(J instanceof Q))throw new TypeError('Cannot call a class as a function')}function O(J,Q){var $=!1;if(J&&J._textures&&J._textures.length)for(var te=0;te<J._textures.length;te++)if(J._textures[te]instanceof X.Texture){var re=J._textures[te].baseTexture;-1===Q.indexOf(re)&&(Q.push(re),$=!0)}return $}function I(J,Q){return!!(J instanceof X.BaseTexture)&&(-1===Q.indexOf(J)&&Q.push(J),!0)}function A(J,Q){if(J._texture&&J._texture instanceof X.Texture){var $=J._texture.baseTexture;return-1===Q.indexOf($)&&Q.push($),!0}return!1}function D(J,Q){return!!(Q instanceof X.Text)&&(Q.updateText(!0),!0)}function L(J,Q){if(Q instanceof X.TextStyle){var $=X.Text.getFontStyle(Q);return X.Text.fontPropertiesCache[$]||X.Text.calculateFontProperties($),!0}return!1}function N(J,Q){if(J instanceof X.Text){-1===Q.indexOf(J.style)&&Q.push(J.style),-1===Q.indexOf(J)&&Q.push(J);var $=J._texture.baseTexture;return-1===Q.indexOf($)&&Q.push($),!0}return!1}function F(J,Q){return!!(J instanceof X.TextStyle)&&(-1===Q.indexOf(J)&&Q.push(J),!0)}E.__esModule=!0;var U=S(22),X=function(J){if(J&&J.__esModule)return J;var Q={};if(null!=J)for(var $ in J)Object.prototype.hasOwnProperty.call(J,$)&&(Q[$]=J[$]);return Q.default=J,Q}(U),Y=S(200),V=function(J){return J&&J.__esModule?J:{default:J}}(Y),K=X.ticker.shared;X.settings.UPLOADS_PER_FRAME=4;var Z=function(){function J(Q){var $=this;M(this,J),this.limiter=new V.default(X.settings.UPLOADS_PER_FRAME),this.renderer=Q,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){$.queue&&$.prepareItems()},this.registerFindHook(N),this.registerFindHook(F),this.registerFindHook(O),this.registerFindHook(I),this.registerFindHook(A),this.registerUploadHook(D),this.registerUploadHook(L)}return J.prototype.upload=function($,te){'function'==typeof $&&(te=$,$=null),$&&this.add($),this.queue.length?(te&&this.completes.push(te),!this.ticking&&(this.ticking=!0,K.addOnce(this.tick,this,X.UPDATE_PRIORITY.UTILITY))):te&&te()},J.prototype.tick=function(){setTimeout(this.delayedTick,0)},J.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var $=this.queue[0],te=!1;if($&&!$._destroyed)for(var re=0,oe=this.uploadHooks.length;re<oe;re++)if(this.uploadHooks[re](this.uploadHookHelper,$)){this.queue.shift(),te=!0;break}te||this.queue.shift()}if(!this.queue.length){this.ticking=!1;var ne=this.completes.slice(0);this.completes.length=0;for(var ie=0,le=ne.length;ie<le;ie++)ne[ie]()}else K.addOnce(this.tick,this,X.UPDATE_PRIORITY.UTILITY)},J.prototype.registerFindHook=function($){return $&&this.addHooks.push($),this},J.prototype.registerUploadHook=function($){return $&&this.uploadHooks.push($),this},J.prototype.add=function($){for(var te=0,re=this.addHooks.length;te<re&&!this.addHooks[te]($,this.queue);te++);if($ instanceof X.Container)for(var oe=$.children.length-1;0<=oe;oe--)this.add($.children[oe]);return this},J.prototype.destroy=function(){this.ticking&&K.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},J}();E.default=Z},function(T,E){'use strict';function S(C,M){if(!(C instanceof M))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var P=function(){function C(M){S(this,C),this.maxItemsPerFrame=M,this.itemsLeft=0}return C.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},C.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},C}();E.default=P},function(T,E,S){'use strict';function M(Y,V){if(!(Y instanceof V))throw new TypeError('Cannot call a class as a function')}function O(Y,V){if(!Y)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:Y}function I(Y,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);Y.prototype=Object.create(V&&V.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,V):Y.__proto__=V)}function A(Y,V){if(V instanceof L.BaseTexture){var K=V.source,Z=0===K.width?Y.canvas.width:_Mathmin(Y.canvas.width,K.width),J=0===K.height?Y.canvas.height:_Mathmin(Y.canvas.height,K.height);return Y.ctx.drawImage(K,0,0,Z,J,0,0,Y.canvas.width,Y.canvas.height),!0}return!1}E.__esModule=!0;var D=S(22),L=function(Y){if(Y&&Y.__esModule)return Y;var V={};if(null!=Y)for(var K in Y)Object.prototype.hasOwnProperty.call(Y,K)&&(V[K]=Y[K]);return V.default=Y,V}(D),N=S(199),F=function(Y){return Y&&Y.__esModule?Y:{default:Y}}(N),U=16,X=function(Y){function V(K){M(this,V);var Z=O(this,Y.call(this,K));return Z.uploadHookHelper=Z,Z.canvas=document.createElement('canvas'),Z.canvas.width=U,Z.canvas.height=U,Z.ctx=Z.canvas.getContext('2d'),Z.registerUploadHook(A),Z}return I(V,Y),V.prototype.destroy=function(){Y.prototype.destroy.call(this),this.ctx=null,this.canvas=null},V}(F.default);E.default=X,L.CanvasRenderer.registerPlugin('prepare',X)},function(T,E){'use strict';function S(C,M){if(!(C instanceof M))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var P=function(){function C(M){S(this,C),this.maxMilliseconds=M,this.frameStart=0}return C.prototype.beginFrame=function(){this.frameStart=Date.now()},C.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},C}();E.default=P}]);